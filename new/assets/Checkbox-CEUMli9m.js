import{j as i}from"./jsx-runtime-DBEcOq3S.js";import{r as o}from"./index-DtJulBIN.js";import{n as N,r as j}from"./fondue-icons311-Cyz8yLVl.js";import{u as R,P as E}from"./index-BXb1vBm7.js";import{c as I}from"./index-P-l_ls5c.js";import{u as S,c as T}from"./index-DYI_kRwo.js";import{u as z}from"./index-CMjj8zSi.js";import{P as _}from"./index-BdiAIZ0C.js";import{s as O,c as D}from"./styleUtilities-C-w4CMuR.js";import{F as V}from"./focusStyle-bf47-NfQ.js";function U(e){const n=o.useRef({value:e,previous:e});return o.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var k="Checkbox",[A,de]=I(k),[K,X]=A(k),C=o.forwardRef((e,n)=>{const{__scopeCheckbox:t,name:d,checked:l,defaultChecked:a,required:c,disabled:m,value:p="on",onCheckedChange:b,...x}=e,[s,v]=o.useState(null),H=R(n,r=>v(r)),w=o.useRef(!1),y=s?!!s.closest("form"):!0,[f=!1,g]=S({prop:l,defaultProp:a,onChange:b}),P=o.useRef(f);return o.useEffect(()=>{const r=s==null?void 0:s.form;if(r){const h=()=>g(P.current);return r.addEventListener("reset",h),()=>r.removeEventListener("reset",h)}},[s,g]),i.jsxs(K,{scope:t,state:f,disabled:m,children:[i.jsx(E.button,{type:"button",role:"checkbox","aria-checked":u(f)?"mixed":f,"aria-required":c,"data-state":B(f),"data-disabled":m?"":void 0,disabled:m,value:p,...x,ref:H,onKeyDown:T(e.onKeyDown,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:T(e.onClick,r=>{g(h=>u(h)?!0:!h),y&&(w.current=r.isPropagationStopped(),w.current||r.stopPropagation())})}),y&&i.jsx($,{control:s,bubbles:!w.current,name:d,value:p,checked:f,required:c,disabled:m,style:{transform:"translateX(-100%)"}})]})});C.displayName=k;var q="CheckboxIndicator",M=o.forwardRef((e,n)=>{const{__scopeCheckbox:t,forceMount:d,...l}=e,a=X(q,t);return i.jsx(_,{present:d||u(a.state)||a.state===!0,children:i.jsx(E.span,{"data-state":B(a.state),"data-disabled":a.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...e.style}})})});M.displayName=q;var $=e=>{const{control:n,checked:t,bubbles:d=!0,...l}=e,a=o.useRef(null),c=U(t),m=z(n);return o.useEffect(()=>{const p=a.current,b=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(b,"checked").set;if(c!==t&&s){const v=new Event("click",{bubbles:d});p.indeterminate=u(t),s.call(p,u(t)?!1:t),p.dispatchEvent(v)}},[c,t,d]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:u(t)?!1:t,...l,tabIndex:-1,ref:a,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function u(e){return e==="indeterminate"}function B(e){return u(e)?"indeterminate":e?"checked":"unchecked"}var G=C,J=M;const Q=O({base:`tw-peer tw-relative tw-inline-flex tw-bg-base tw-text-white tw-shrink-0 tw-rounded tw-border tw-border-line-x-strong group-hover:tw-border-line-xx-strong hover:tw-border-line-xx-strong tw-transition-colors data-[state="checked"]:tw-border-transparent data-[state="indeterminate"]:tw-border-transparent disabled:tw-border-line-strong disabled:tw-bg-base disabled:tw-cursor-not-allowed data-[state="checked"]:disabled:tw-bg-box-disabled-strong ${V}`,variants:{size:{default:"tw-size-4",large:"tw-size-5"},emphasis:{default:'data-[state="checked"]:tw-bg-box-selected-strong data-[state="checked"]:hover:tw-bg-box-selected-strong-hover data-[state="checked"]:active:tw-bg-box-selected-strong-pressed data-[state="indeterminate"]:tw-bg-box-selected-strong data-[state="indeterminate"]:hover:tw-bg-box-selected-strong-hover data-[state="indeterminate"]:active:tw-bg-box-selected-strong-pressed ',weak:'data-[state="checked"]:tw-bg-box-neutral-strong data-[state="checked"]:hover:tw-bg-box-neutral-strong-hover data-[state="checked"]:active:tw-bg-box-neutral-strong-pressed data-[state="indeterminate"]:tw-bg-box-neutral-strong data-[state="indeterminate"]:hover:tw-bg-box-neutral-strong-hover data-[state="indeterminate"]:active:tw-bg-box-neutral-strong-pressed '}},defaultVariants:{size:"default",emphasis:"default"}}),W='tw-group tw-absolute tw-inset-0 tw-inline-flex tw-items-center tw-justify-center tw-text-current tw-opacity-0 data-[state="checked"]:tw-opacity-100 data-[state="indeterminate"]:tw-opacity-100 tw-transition-opacity ',F=({className:e,value:n,onChange:t,defaultValue:d,"data-test-id":l="fondue-checkbox",...a},c)=>i.jsx(G,{ref:c,checked:n,defaultChecked:d,className:D(Q(a),e),onClick:t,"data-test-id":l,...a,children:i.jsxs(J,{className:W,children:[i.jsx(N,{size:16,className:'tw-hidden tw-opacity-0 group-data-[state="indeterminate"]:tw-block group-data-[state="indeterminate"]:tw-opacity-100 tw-transition-opacity',"data-test-id":"icon-indeterminate"}),i.jsx(j,{size:16,className:'tw-hidden tw-opacity-0 group-data-[state="checked"]:tw-block group-data-[state="checked"]:tw-opacity-100 tw-transition-opacity',"data-test-id":"icon-checked"})]})}),L=o.forwardRef(F);L.displayName="Checkbox";F.__docgenInfo={description:"",methods:[],displayName:"CheckboxComponent",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"union",raw:"boolean | 'indeterminate'",elements:[{name:"boolean"},{name:"literal",value:"'indeterminate'"}]},description:`The default value of the checkbox
Used for uncontrolled components
@default false`},value:{required:!1,tsType:{name:"union",raw:"boolean | 'indeterminate'",elements:[{name:"boolean"},{name:"literal",value:"'indeterminate'"}]},description:`The controlled value of the checkbox
@default false`},size:{required:!1,tsType:{name:"union",raw:"'default' | 'large'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'large'"}]},description:`The size of the checkbox
@default "default"`},emphasis:{required:!1,tsType:{name:"union",raw:"'default' | 'weak'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'weak'"}]},description:`The emphasis of the checkbox
@default "default"`},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the checkbox
@default false`},required:{required:!1,tsType:{name:"boolean"},description:`Make the checkbox required in form
@default false`},readOnly:{required:!1,tsType:{name:"boolean"},description:`Make the checkbox read-only
@default false`},className:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLButtonElement"}],raw:"FormEvent<HTMLButtonElement>"},name:"event"}],return:{name:"void"}}},description:"Event handler called when the checkbox value changes"},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLButtonElement"}],raw:"FormEvent<HTMLButtonElement>"},name:"event"}],return:{name:"void"}}},description:"Event handler called when the checkbox is blurred"},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLButtonElement"}],raw:"FormEvent<HTMLButtonElement>"},name:"event"}],return:{name:"void"}}},description:"Event handler called when the checkbox is focused"},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-checkbox'",computed:!1}},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-describedby":{required:!1,tsType:{name:"string"},description:""}}};L.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"union",raw:"boolean | 'indeterminate'",elements:[{name:"boolean"},{name:"literal",value:"'indeterminate'"}]},description:`The default value of the checkbox
Used for uncontrolled components
@default false`},value:{required:!1,tsType:{name:"union",raw:"boolean | 'indeterminate'",elements:[{name:"boolean"},{name:"literal",value:"'indeterminate'"}]},description:`The controlled value of the checkbox
@default false`},size:{required:!1,tsType:{name:"union",raw:"'default' | 'large'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'large'"}]},description:`The size of the checkbox
@default "default"`},emphasis:{required:!1,tsType:{name:"union",raw:"'default' | 'weak'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'weak'"}]},description:`The emphasis of the checkbox
@default "default"`},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the checkbox
@default false`},required:{required:!1,tsType:{name:"boolean"},description:`Make the checkbox required in form
@default false`},readOnly:{required:!1,tsType:{name:"boolean"},description:`Make the checkbox read-only
@default false`},className:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLButtonElement"}],raw:"FormEvent<HTMLButtonElement>"},name:"event"}],return:{name:"void"}}},description:"Event handler called when the checkbox value changes"},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLButtonElement"}],raw:"FormEvent<HTMLButtonElement>"},name:"event"}],return:{name:"void"}}},description:"Event handler called when the checkbox is blurred"},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: FormEvent<HTMLButtonElement>) => void",signature:{arguments:[{type:{name:"FormEvent",elements:[{name:"HTMLButtonElement"}],raw:"FormEvent<HTMLButtonElement>"},name:"event"}],return:{name:"void"}}},description:"Event handler called when the checkbox is focused"},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-checkbox'",computed:!1}},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},"aria-describedby":{required:!1,tsType:{name:"string"},description:""}}};export{F as C,L as a};
