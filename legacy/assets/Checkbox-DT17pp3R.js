import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{r as o}from"./index-BwDkhjyp.js";import{$ as J,a as Q,b as Z}from"./useFormValidationState-Vs0Uifwm.js";import{$ as z,a as T,b as O,c as ee}from"./useFocusable-CAGu0lKI.js";import{$ as te}from"./useFocusRing-4Vnvtzpc.js";import{$ as se}from"./useControlledState-C0C-dzuH.js";import{I as ae}from"./InputLabel-Cp7I5Zy5.js";import{I as re}from"./IconCheckMark-CLvJH1sB.js";import{I as ie}from"./IconMinus-Bw7tNJhm.js";import{I as R}from"./IconSize-BcCrF_mi.js";import{u as le}from"./useMemoizedId-EtHZ7Sxa.js";import{F as ne}from"./focusStyle-CBFElZiz.js";import{m as p}from"./merge-DI-veSMP.js";import{u as oe}from"./Button-CYWlMQhW.js";function de(e,a,r){let{isDisabled:s=!1,isReadOnly:i=!1,value:l,name:c,children:g,"aria-label":u,"aria-labelledby":x,validationState:m="valid",isInvalid:v}=e,k=b=>{b.stopPropagation(),a.setSelected(b.target.checked)},f=g!=null,d=u!=null||x!=null;!f&&!d&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:h,isPressed:L}=z({isDisabled:s}),{pressProps:t,isPressed:j}=z({isDisabled:s||i,onPress(){a.toggle()}}),{focusableProps:M}=T(e,r),F=O(h,M),I=ee(e,{labelable:!0});return J(r,a.isSelected,a.setSelected),{labelProps:O(t,{onClick:b=>b.preventDefault()}),inputProps:O(I,{"aria-invalid":v||m==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:k,disabled:s,...l==null?{}:{value:l},name:c,type:"checkbox",...F}),isSelected:a.isSelected,isPressed:L||j,isDisabled:s,isReadOnly:i,isInvalid:v||m==="invalid"}}function ce(e,a,r){let s=Q({...e,value:a.isSelected}),{isInvalid:i,validationErrors:l,validationDetails:c}=s.displayValidation,{labelProps:g,inputProps:u,isSelected:x,isPressed:m,isDisabled:v,isReadOnly:k}=de({...e,isInvalid:i},a,r);Z(e,s,r);let{isIndeterminate:f,isRequired:d,validationBehavior:h="aria"}=e;return o.useEffect(()=>{r.current&&(r.current.indeterminate=!!f)}),{labelProps:g,inputProps:{...u,checked:x,"aria-required":d&&h==="aria"||void 0,required:d&&h==="native"},isSelected:x,isPressed:m,isDisabled:v,isReadOnly:k,isInvalid:i,validationErrors:l,validationDetails:c}}function ue(e={}){let{isReadOnly:a}=e,[r,s]=se(e.isSelected,e.defaultSelected||!1,e.onChange);function i(c){a||s(c)}function l(){a||s(!r)}return{isSelected:r,setSelected:i,toggle:l}}var fe=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(fe||{}),be=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(be||{}),we=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(we||{});const xe=e=>e==="Checked"||e==="Mixed",U="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:U,Strong:U},ve={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},he=({id:e,emphasis:a="Default",size:r="Default",disabled:s,required:i,label:l,hideLabel:c,tooltip:g,helperText:u,"aria-label":x="Checkbox",value:m,groupInputProps:v,onChange:k,state:f="Unchecked","data-test-id":d="checkbox"},h)=>{const L=le(e),t=oe(h),{focusProps:j}=te(),M=ue({onChange:s?void 0:k,isSelected:f==="Checked"}),[F,I]=o.useState(),[b,V]=o.useState(),$=o.useRef(null),S=o.useRef(null),[X,A]=o.useState(!1),[_,B]=o.useState(!1),N=w=>{w.key==="Tab"&&I(!0)},q=()=>{I(!1)};o.useEffect(()=>{var w,y,P,D;b||((w=t==null?void 0:t.current)==null||w.removeEventListener("keyup",N),(y=t==null?void 0:t.current)==null||y.addEventListener("keyup",N),(P=t==null?void 0:t.current)==null||P.removeEventListener("blur",q),(D=t==null?void 0:t.current)==null||D.addEventListener("blur",q),V(!0))},[b,t]);const{inputProps:G}=ce({isDisabled:s,isRequired:i,isIndeterminate:f==="Mixed","aria-label":x,value:m},M,t),H={Checked:n.jsx(re,{size:r==="XLarge"?R.Size24:R.Size16}),Mixed:n.jsx(ie,{}),Unchecked:null},E=xe(f),K=p(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",E&&"tw-text-box-disabled-inverse tw-border-line-strong"]),Y=E?me[a]:p(["tw-bg-base hover:tw-bg-box-neutral",a==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),C=o.useCallback(()=>{var w,y,P,D;$.current&&A(((w=$.current)==null?void 0:w.scrollWidth)>((y=$.current)==null?void 0:y.clientWidth)),S.current&&B(((P=S.current)==null?void 0:P.scrollWidth)>((D=S.current)==null?void 0:D.clientWidth))},[$,S]);return o.useEffect(()=>{if(!(!l&&!u||c))return C(),window.removeEventListener("resize",C),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[l,u,c,C]),n.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":d,children:n.jsx("div",{className:p(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",F?ne:""]),children:n.jsx(ae,{disabled:s,clickable:!0,htmlFor:L,tooltip:g,required:i,bold:E,children:n.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[n.jsxs("span",{className:"tw-inline-flex",children:[n.jsx("input",{...O(v||G,j),id:L,ref:t,className:"tw-sr-only","data-test-id":`${d}-input`,role:"checkbox","aria-checked":f==="Checked",required:i}),n.jsx("span",{"data-test-id":`${d}-icon-box`,"aria-hidden":"true",className:p(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",ve[r],s?K:Y]),children:H[f]})]}),!c&&n.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[l&&n.jsx("span",{ref:$,"data-test-id":`${d}-label`,className:p(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",E&&"tw-font-medium"]),title:X?l:void 0,children:l}),u&&n.jsx("span",{ref:S,"data-test-id":`${d}-helper-text`,className:p(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",s?"text-disabled":"tw-text-text-weak"]),title:_?u:void 0,children:u})]})]})})})})},W=o.forwardRef(he);W.displayName="FondueCheckbox";W.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},"aria-label":{defaultValue:{value:"'Checkbox'",computed:!1},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{ue as $,fe as C,be as a,we as b,W as c,ce as d};
