import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{a as fe}from"./chunk-MZXVCX43-CM0pFb8Z.js";import{r as f,R as K}from"./index-BwDkhjyp.js";import{B as w}from"./Badge-D-eWKloI.js";import{B as we,b as ge,c as be,a as ve}from"./Button-CYWlMQhW.js";import{T as ke}from"./TextInput-D2gdfhfK.js";import{I as xe}from"./IconDotsVertical-CHqXF1Hr.js";import{I as P,a as Se,b as Re,c as Ce}from"./IconFaceHappy-DTNGuoNN.js";import{I as re}from"./IconSize-BcCrF_mi.js";import{$ as Ne,c as W,d as ae,e as ie,b as Ie,a as Ke}from"./SelectionManager-BuW52QpN.js";import{c as ce,C as A}from"./Checkbox-D5WL4Out.js";import{m as M}from"./merge-DI-veSMP.js";import{a as je}from"./focusStyle-CBFElZiz.js";import"./v4-CQkTLCs1.js";import"./_commonjsHelpers-BosuxZz1.js";import"./IconCross-Bt-I3opn.js";import"./colors-cqDZVL9s.js";import"./useButton-DofEV6SJ.js";import"./useFocusable-CAGu0lKI.js";import"./useFocusRing-4Vnvtzpc.js";import"./SSRProvider-CYXx33DY.js";import"./chain-D5h1pgIF.js";import"./LoadingCircle-CZrma5le.js";import"./IconCheckMark-CLvJH1sB.js";import"./IconEyeOff-Dzh4tjis.js";import"./IconExclamationMarkTriangle-CRTWkDyu.js";import"./IconExclamationMarkTriangle24-GqPjgFpk.js";import"./useMemoizedId-EtHZ7Sxa.js";import"./validation-C9S5KgfE.js";import"./LegacyTooltip-BsRDxGT9.js";import"./useLink-DorAuuFQ.js";import"./usePopper-D9CaHHBx.js";import"./index-B8XB3FuZ.js";import"./index-CfyPTyT-.js";import"./Portal-dPA1dSZg.js";import"./IconExclamationMarkCircle-Cob4vb5T.js";import"./IconExclamationMarkCircle24-DpwtNT9z.js";import"./IconDotsVertical16-BxwAscAb.js";import"./IconFaceHappy16-DoPLH7St.js";import"./useControlledState-C0C-dzuH.js";import"./useFormValidationState-Vs0Uifwm.js";import"./InputLabel-Cp7I5Zy5.js";import"./TooltipIcon-fOjL_ywJ.js";import"./IconQuestionMarkCircle-C_agVHg1.js";import"./IconMinus-kXP7QfAW.js";import"./IconMinus16-homLHf6Z.js";function Te(o){let{collection:e,focusMode:t}=o,s=Ne(o),u=f.useMemo(()=>o.disabledKeys?new Set(o.disabledKeys):new Set,[o.disabledKeys]),i=s.setFocusedKey;s.setFocusedKey=(r,c)=>{if(t==="cell"&&r!=null){let h=e.getItem(r);if((h==null?void 0:h.type)==="item"){var d,l;let y=W(h,e);c==="last"?r=(d=ae(y))===null||d===void 0?void 0:d.key:r=(l=ie(y))===null||l===void 0?void 0:l.key}}i(r,c)};let a=f.useMemo(()=>new Ie(e,s),[e,s]);const m=f.useRef(null);return f.useEffect(()=>{if(s.focusedKey!=null&&!e.getItem(s.focusedKey)){const r=m.current.getItem(s.focusedKey),c=r.parentKey!=null&&(r.type==="cell"||r.type==="rowheader"||r.type==="column")?m.current.getItem(r.parentKey):r,d=m.current.rows,l=e.rows,h=d.length-l.length;let y=Math.min(h>1?Math.max(c.index-h+1,0):c.index,l.length-1),p;for(;y>=0;){if(!a.isDisabled(l[y].key)&&l[y].type!=="headerrow"){p=l[y];break}y<l.length-1?y++:(y>c.index&&(y=c.index),y--)}if(p){const v=p.hasChildNodes?[...W(p,e)]:[],S=p.hasChildNodes&&c!==r&&r.index<v.length?v[r.index].key:p.key;s.setFocusedKey(S)}else s.setFocusedKey(null)}m.current=e},[e,a,s,s.focusedKey]),{collection:e,disabledKeys:u,isKeyboardNavigationDisabled:!1,selectionManager:a}}class $e{*[Symbol.iterator](){yield*[...this.rows]}get size(){return[...this.rows].length}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return(e=[...this.rows][0])===null||e===void 0?void 0:e.key}getLastKey(){var e;let t=[...this.rows];return(e=t[t.length-1])===null||e===void 0?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getChildren(e){let t=this.keyMap.get(e);return(t==null?void 0:t.childNodes)||[]}constructor(e){this.keyMap=new Map,this.keyMap=new Map,this.columnCount=e==null?void 0:e.columnCount,this.rows=[];let t=i=>{let a=this.keyMap.get(i.key);e.visitNode&&(i=e.visitNode(i)),this.keyMap.set(i.key,i);let m=new Set,r;for(let c of i.childNodes)c.type==="cell"&&c.parentKey==null&&(c.parentKey=i.key),m.add(c.key),r?(r.nextKey=c.key,c.prevKey=r.key):c.prevKey=null,t(c),r=c;if(r&&(r.nextKey=null),a)for(let c of a.childNodes)m.has(c.key)||s(c)},s=i=>{this.keyMap.delete(i.key);for(let a of i.childNodes)this.keyMap.get(a.key)===a&&s(a)},u;e.items.forEach((i,a)=>{let m={level:0,key:"row-"+a,type:"row",value:void 0,hasChildNodes:!0,childNodes:[...i.childNodes],rendered:void 0,textValue:void 0,...i};u?(u.nextKey=m.key,m.prevKey=u.key):m.prevKey=null,this.rows.push(m),t(m),u=m}),u&&(u.nextKey=null)}}const de="row-header-column-"+Math.random().toString(36).slice(2);let _="row-header-column-"+Math.random().toString(36).slice(2);for(;de===_;)_="row-header-column-"+Math.random().toString(36).slice(2);function De(o,e){if(e.length===0)return[];let t=[],s=new Map;for(let r of e){let c=r.parentKey,d=[r];for(;c;){let l=o.get(c);if(!l)break;if(s.has(l)){l.colspan++;let{column:h,index:y}=s.get(l);if(y>d.length)break;for(let p=y;p<d.length;p++)h.splice(p,0,null);for(let p=d.length;p<h.length;p++)h[p]&&s.has(h[p])&&(s.get(h[p]).index=p)}else l.colspan=1,d.push(l),s.set(l,{column:d,index:d.length-1});c=l.parentKey}t.push(d),r.index=t.length-1}let u=Math.max(...t.map(r=>r.length)),i=Array(u).fill(0).map(()=>[]),a=0;for(let r of t){let c=u-1;for(let d of r){if(d){let l=i[c],h=l.reduce((y,p)=>y+p.colspan,0);if(h<a){let y={type:"placeholder",key:"placeholder-"+d.key,colspan:a-h,index:h,value:null,rendered:null,level:c,hasChildNodes:!1,childNodes:[],textValue:null};l.length>0&&(l[l.length-1].nextKey=y.key,y.prevKey=l[l.length-1].key),l.push(y)}l.length>0&&(l[l.length-1].nextKey=d.key,d.prevKey=l[l.length-1].key),d.level=c,d.colIndex=a,l.push(d)}c--}a++}let m=0;for(let r of i){let c=r.reduce((d,l)=>d+l.colspan,0);if(c<e.length){let d={type:"placeholder",key:"placeholder-"+r[r.length-1].key,colspan:e.length-c,index:c,value:null,rendered:null,level:m,hasChildNodes:!1,childNodes:[],textValue:null,prevKey:r[r.length-1].key};r.push(d)}m++}return i.map((r,c)=>({type:"headerrow",key:"headerrow-"+c,index:c,value:null,rendered:null,level:0,hasChildNodes:!0,childNodes:r,textValue:null}))}class Ae extends $e{*[Symbol.iterator](){yield*this.body.childNodes}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?t.prevKey:null}getKeyAfter(e){let t=this.keyMap.get(e);return t?t.nextKey:null}getFirstKey(){var e;return(e=ie(this.body.childNodes))===null||e===void 0?void 0:e.key}getLastKey(){var e;return(e=ae(this.body.childNodes))===null||e===void 0?void 0:e.key}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}getTextValue(e){let t=this.getItem(e);if(!t)return"";if(t.textValue)return t.textValue;let s=this.rowHeaderColumnKeys;if(s){let u=[];for(let i of t.childNodes){let a=this.columns[i.index];if(s.has(a.key)&&i.textValue&&u.push(i.textValue),u.length===s.size)break}return u.join(" ")}return""}constructor(e,t,s){let u=new Set,i,a=[];if(s!=null&&s.showSelectionCheckboxes){let l={type:"column",key:de,value:null,textValue:"",level:0,index:s!=null&&s.showDragButtons?1:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isSelectionCell:!0}};a.unshift(l)}if(s!=null&&s.showDragButtons){let l={type:"column",key:_,value:null,textValue:"",level:0,index:0,hasChildNodes:!1,rendered:null,childNodes:[],props:{isDragButtonCell:!0}};a.unshift(l)}let m=[],r=new Map,c=l=>{switch(l.type){case"body":i=l;break;case"column":r.set(l.key,l),l.hasChildNodes||(a.push(l),l.props.isRowHeader&&u.add(l.key));break;case"item":m.push(l);return}for(let h of l.childNodes)c(h)};for(let l of e)c(l);let d=De(r,a);d.forEach((l,h)=>m.splice(h,0,l)),super({columnCount:a.length,items:m,visitNode:l=>(l.column=a[l.index],l)}),this._size=0,this.columns=a,this.rowHeaderColumnKeys=u,this.body=i,this.headerRows=d,this._size=[...i.childNodes].length,this.rowHeaderColumnKeys.size===0&&this.rowHeaderColumnKeys.add(this.columns.find(l=>{var h,y;return!(!((h=l.props)===null||h===void 0)&&h.isDragButtonCell)&&!(!((y=l.props)===null||y===void 0)&&y.isSelectionCell)}).key)}}const Me={ascending:"descending",descending:"ascending"};function Ee(o){let[e,t]=f.useState(!1),{selectionMode:s="none",showSelectionCheckboxes:u,showDragButtons:i}=o,a=f.useMemo(()=>({showSelectionCheckboxes:u&&s!=="none",showDragButtons:i,selectionMode:s,columns:[]}),[o.children,u,s,i]),m=Ke(o,f.useCallback(d=>new Ae(d,null,a),[a]),a),{disabledKeys:r,selectionManager:c}=Te({...o,collection:m,disabledBehavior:o.disabledBehavior||"selection"});return{collection:m,disabledKeys:r,selectionManager:c,showSelectionCheckboxes:o.showSelectionCheckboxes||!1,sortDescriptor:o.sortDescriptor,isKeyboardNavigationDisabled:m.size===0||e,setKeyboardNavigationDisabled:t,sort(d,l){var h;o.onSortChange({column:d,direction:l??(((h=o.sortDescriptor)===null||h===void 0?void 0:h.column)===d?Me[o.sortDescriptor.direction]:"ascending")})}}}function ue(o){return null}ue.getCollectionNode=function*(e,t){let{children:s,columns:u}=e;if(t.columns=[],typeof s=="function"){if(!u)throw new Error("props.children was a function but props.columns is missing");for(let i of u)yield{type:"column",value:i,renderer:s}}else{let i=[];K.Children.forEach(s,a=>{i.push({type:"column",element:a})}),yield*i}};let Be=ue;function me(o){return null}me.getCollectionNode=function*(e){let{children:t,items:s}=e;yield{type:"body",hasChildNodes:!0,props:e,*childNodes(){if(typeof t=="function"){if(!s)throw new Error("props.children was a function but props.items is missing");for(let u of s)yield{type:"item",value:u,renderer:t}}else{let u=[];K.Children.forEach(t,i=>{u.push({type:"item",element:i})}),yield*u}}}};let _e=me;function he(o){return null}he.getCollectionNode=function*(e,t){let{title:s,children:u,childColumns:i}=e,a=s||u,m=e.textValue||(typeof a=="string"?a:"")||e["aria-label"],r=yield{type:"column",hasChildNodes:!!i||s&&K.Children.count(u)>0,rendered:a,textValue:m,props:e,*childNodes(){if(i)for(let d of i)yield{type:"column",value:d};else if(s){let d=[];K.Children.forEach(u,l=>{d.push({type:"column",element:l})}),yield*d}},shouldInvalidate(d){return c(d),!1}},c=d=>{for(let l of r)l.hasChildNodes||d.columns.push(l)};c(t)};let qe=he;function q(o){return null}q.getCollectionNode=function*(e,t){let{children:s,textValue:u,UNSTABLE_childItems:i}=e;yield{type:"item",props:e,textValue:u,"aria-label":e["aria-label"],hasChildNodes:!0,*childNodes(){if(t.showDragButtons&&(yield{type:"cell",key:"header-drag",props:{isDragButtonCell:!0}}),t.showSelectionCheckboxes&&t.selectionMode!=="none"&&(yield{type:"cell",key:"header",props:{isSelectionCell:!0}}),typeof s=="function"){for(let a of t.columns)yield{type:"cell",element:s(a.key),key:a.key};if(i)for(let a of i)yield{type:"item",value:a}}else{let a=[],m=[];if(K.Children.forEach(s,r=>{if(r.type===q){if(a.length<t.columns.length)throw new Error("All of a Row's child Cells must be positioned before any child Rows.");m.push({type:"item",element:r})}else a.push({type:"cell",element:r})}),a.length!==t.columns.length)throw new Error(`Cell count must match column count. Found ${a.length} cells and ${t.columns.length} columns.`);yield*a,yield*m}},shouldInvalidate(a){return a.columns.length!==t.columns.length||a.columns.some((m,r)=>m.key!==t.columns[r].key)||a.showSelectionCheckboxes!==t.showSelectionCheckboxes||a.showDragButtons!==t.showDragButtons||a.selectionMode!==t.selectionMode}}};let Ve=q;function ye(o){return null}ye.getCollectionNode=function*(e){let{children:t}=e,s=e.textValue||(typeof t=="string"?t:"")||e["aria-label"]||"";yield{type:"cell",props:e,rendered:t,textValue:s,"aria-label":e["aria-label"],hasChildNodes:!1}};let Fe=ye;var V=(o=>(o.Default="Default",o.Checkbox="Checkbox",o))(V||{});const O=({cell:o,selectionMode:e,type:t="Default",isChecked:s=!1,selectedRows:u,setSelectedRows:i})=>{const a=f.useRef(null);if(t==="Checkbox"){const{key:m}=o,r=()=>{if(!i)return;if(s){const d=u.filter(l=>l!==o.parentKey);i(d);return}const c=e===x.SingleSelect?[o.parentKey]:[...u,o.parentKey];i(c)};return n.jsx("td",{role:"cell",ref:a,className:M(["tw-pl-8 tw-py-4 tw-pr-4 tw-relative after:tw-absolute after:tw-left-0 after:tw-top-[-1px] after:tw-bottom-[-1px] after:tw-w-1",s?"after:tw-bg-box-selected-strong":"after:tw-bg-transparent"]),"data-test-id":"table-select-cell",children:n.jsx(ce,{value:m,"aria-label":o["aria-label"]||m,state:s?A.Checked:A.Unchecked,onChange:r})})}return n.jsx("td",{role:"cell",ref:a,className:M(["tw-p-4 tw-font-normal tw-text-xs focus:tw-outline-none",s?"tw-text-black-100 dark:tw-text-white":"tw-text-black-80 dark:tw-text-black-20"]),children:o.rendered})};O.displayName="FondueTableCell";O.__docgenInfo={description:"",methods:[],displayName:"FondueTableCell",props:{cell:{required:!0,tsType:{name:"any"},description:""},selectionMode:{required:!0,tsType:{name:"string"},description:""},type:{required:!1,tsType:{name:"TableCellType"},description:"",defaultValue:{value:"TableCellType.Default",computed:!0}},isChecked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selectedRows:{required:!0,tsType:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},description:""},setSelectedRows:{required:!1,tsType:{name:"signature",type:"function",raw:"(ids?: Key[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},name:"ids"}],return:{name:"void"}}},description:""}}};var F=(o=>(o.Default="Default",o.SelectAll="SelectAll",o))(F||{});const z=({column:o,type:e="Default",rowIds:t,sortDirection:s,selectionMode:u,isColumnSorted:i=!1,handleSortChange:a,setSelectedRows:m})=>{const{key:r,rendered:c,props:{allowsSorting:d}}=o,[l,h]=f.useState(n.jsx(P,{})),[y,p]=f.useState(!1),v=f.useRef(null),S=d?"button":"span";if(f.useEffect(()=>{h(i?s===E.Descending?n.jsx(Se,{}):n.jsx(Re,{}):n.jsx(P,{}))},[i,s]),e==="SelectAll"){const g={"aria-label":"Select all",scope:"col"},b=y?A.Checked:A.Unchecked,k=()=>{m&&(m(y?[]:t),p(B=>!B))};return n.jsx("th",{...g,ref:v,className:"tw-pl-8 tw-py-3 tw-pr-4 tw-w-16 tw-border-l-4 tw-border-transparent tw-group tw-outline-none","data-test-id":"table-select-cell",children:u===x.SingleSelect?n.jsx("span",{className:"tw-sr-only",children:g["aria-label"]}):n.jsx(ce,{value:r,"aria-label":r,state:b,onChange:k})})}return n.jsx("th",{ref:v,className:M(["tw-text-xs tw-font-medium tw-text-black-100 dark:tw-text-white tw-px-4 tw-py-3 tw-outline-none tw-group focus-visible:bg-violet-90",d?"tw-cursor-pointer":""]),"data-test-id":"table-column",scope:"col",onClick:d?()=>a(o.key,s):()=>null,children:n.jsxs(S,{className:M(["tw-flex tw-gap-x-1 tw-items-center",je,d?"tw-cursor-pointer":"tw-cursor-default"]),children:[c,d&&n.jsx("span",{"aria-hidden":"true",className:i?"tw-text-violet-50":"tw-text-black-40 dark:tw-text-black-60 group-hover:tw-text-black-100 dark:group-hover:tw-text-white",children:f.cloneElement(l,{size:re.Size12})})]})})};z.displayName="FondueTableColumnHeader";z.__docgenInfo={description:"",methods:[],displayName:"FondueTableColumnHeader",props:{column:{required:!0,tsType:{name:"any"},description:""},type:{required:!1,tsType:{name:"TableColumnHeaderType"},description:"",defaultValue:{value:"TableColumnHeaderType.Default",computed:!0}},rowIds:{required:!0,tsType:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},description:""},sortDirection:{required:!1,tsType:{name:"SortDirection"},description:""},selectionMode:{required:!0,tsType:{name:"string"},description:""},isColumnSorted:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},handleSortChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(column: string, direction?: SortDirection) => void",signature:{arguments:[{type:{name:"string"},name:"column"},{type:{name:"SortDirection"},name:"direction"}],return:{name:"void"}}},description:""},setSelectedRows:{required:!1,tsType:{name:"signature",type:"function",raw:"(ids?: Key[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},name:"ids"}],return:{name:"void"}}},description:""}}};const H=({children:o})=>{const e=f.useRef(null);return n.jsx("tr",{role:"row",ref:e,className:"tw-py-4 tw-px-8 tw-sticky tw-top-0 tw-bg-base",children:o})};H.displayName="FondueTableHeaderRow";H.__docgenInfo={description:"",methods:[],displayName:"FondueTableHeaderRow",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const L=({isSelected:o=!1,children:e})=>{const t=f.useRef(null),s={"aria-selected":o,role:"row"};return n.jsx("tr",{...s,ref:t,className:"tw-relative tw-border-t tw-border-black-10 hover:tw-bg-black-0 dark:tw-border-black-95 dark:hover:tw-bg-black-95","data-test-id":"table-row",children:e})};L.displayName="FondueTableRow";L.__docgenInfo={description:"",methods:[],displayName:"FondueTableRow",props:{isSelected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var x=(o=>(o.NoSelect="none",o.SingleSelect="single",o.MultiSelect="multiple",o))(x||{}),E=(o=>(o.Ascending="ascending",o.Descending="descending",o))(E||{});const Oe="descending",ze=(o,e,t=!1)=>({children:[n.jsx(Be,{columns:o,children:s=>{const u=!!(s.sortable&&t);return n.jsx(qe,{allowsSorting:u,children:s.name})}},"table-header"),n.jsx(_e,{items:e,children:s=>n.jsx(Ve,{children:u=>n.jsx(Fe,{"aria-label":s.cells[u].ariaLabel,children:s.cells[u].value},`${s.key}-${u}`)})},"table-body")]}),He=(o,e)=>o.find(({key:t})=>t===e)||null,Le=o=>o.map(({key:e})=>e),j=({columns:o,rows:e,onSelectionChange:t,selectionMode:s="none",onSortChange:u,selectedRowIds:i=[],ariaLabel:a="Table"})=>{const m=s==="single"||s==="multiple",[{sortedColumnKey:r,sortOrder:c},d]=f.useState({sortedColumnKey:void 0,sortOrder:void 0}),l=(g,b)=>{d({sortedColumnKey:g,sortOrder:r!==g?Oe:b==="ascending"?"descending":"ascending"}),u==null||u(g,b)},h=Le(e),y=f.useRef(null),p=ze(o,e,!!u),v=Ee({...p,selectionMode:s,showSelectionCheckboxes:m}),{collection:S}=v;return n.jsx("div",{className:"tw-w-full tw-max-h-96 sm:tw-max-h-full",children:n.jsxs("table",{"aria-label":a,ref:y,className:"tw-border-collapse tw-table-auto tw-w-full tw-min-w-max tw-text-left dark:tw-bg-black-100 dark:tw-text-black-20",children:[n.jsx("thead",{children:S.headerRows.map(g=>n.jsxs(H,{children:[[...g.childNodes].map(b=>{const k=b.props.isSelectionCell?F.SelectAll:F.Default;return n.jsx(z,{column:b,type:k,rowIds:h,sortDirection:c,selectionMode:s,isColumnSorted:r===b.key,handleSortChange:l,setSelectedRows:t},b.key)}),n.jsx("td",{})]},g.key))}),n.jsx("tbody",{className:"tw-relative tw-z-[-1] sm:tw-z-auto",children:[...S.body.childNodes].map(g=>{const b=He(e,g.key);return n.jsxs(L,{isSelected:i.includes(g.key),children:[[...g.childNodes].map(k=>{const B=k.props.isSelectionCell?V.Checkbox:V.Default;return n.jsx(O,{cell:k,selectionMode:s,type:B,isChecked:i.includes(g.key),selectedRows:i,setSelectedRows:t},k.key)}),(b==null?void 0:b.actionElements)&&n.jsx("td",{className:"tw-sticky tw-right-0 tw-z-10","data-test-id":"table-actions",children:n.jsx("div",{className:"tw-float-right hover:tw-bg-gradient-to-r hover:tw-from-transparent hover:tw-to-black-0 dark:hover:tw-to-black-95 tw-py-4 tw-pr-8 tw-pl-4",children:b.actionElements})})]},g.key)})})]})})};j.displayName="FondueTable";j.__docgenInfo={description:"",methods:[],displayName:"FondueTable",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    name: string;
    key: string;
    sortable?: boolean;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"key",value:{name:"string",required:!0}},{key:"sortable",value:{name:"boolean",required:!1}}]}}],raw:"Column[]"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    key: Key;
    // cell keys have to correspond to column key values
    // e.g. Column { name: 'User', key: 'user' } ==> Row Cell { user: { id: 'anna', value: 'Anna' } }
    cells: Record<string, Cell>;
    actionElements?: ReactNode;
}`,signature:{properties:[{key:"key",value:{name:"Key",required:!0}},{key:"cells",value:{name:"Record",elements:[{name:"string"},{name:"signature",type:"object",raw:`{
    sortId: string | number;
    value: ReactNode;
    ariaLabel?: string;
}`,signature:{properties:[{key:"sortId",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"value",value:{name:"ReactNode",required:!0}},{key:"ariaLabel",value:{name:"string",required:!1}}]}}],raw:"Record<string, Cell>",required:!0}},{key:"actionElements",value:{name:"ReactNode",required:!1}}]}}],raw:"Row[]"},description:""},onSelectionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(ids?: Key[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},name:"ids"}],return:{name:"void"}}},description:""},onSortChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(column: string, direction?: SortDirection) => void",signature:{arguments:[{type:{name:"string"},name:"column"},{type:{name:"SortDirection"},name:"direction"}],return:{name:"void"}}},description:""},selectionMode:{required:!1,tsType:{name:"SelectionMode"},description:"",defaultValue:{value:"SelectionMode.NoSelect",computed:!0}},selectedRowIds:{required:!1,tsType:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},description:"",defaultValue:{value:"[]",computed:!1}},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Table'",computed:!1}},children:{required:!1,tsType:{name:"ReactNode"},description:""}}};const qt={title:"Components/Table",component:j,tags:["autodocs"],args:{selectionMode:x.NoSelect},argTypes:{type:{options:Object.keys(x),control:{type:"select"}}}},R=({name:o})=>n.jsxs("div",{className:"tw-flex tw-gap-x-2 tw-items-center",children:[n.jsx(Ce,{size:re.Size32}),n.jsxs("div",{children:[n.jsx("p",{children:o}),n.jsx("p",{children:"mb@gmail.com"})]})]}),C=()=>n.jsx(we,{style:ge.Default,emphasis:be.Default,"aria-label":"action menu",onClick:fe("click"),size:ve.Small,icon:n.jsx(xe,{})}),pe=[{name:"User",key:"user"},{name:"Active Sessions",key:"activeSessions",sortable:!0},{name:"Last Active",key:"lastActive"},{name:"Regions",key:"regions"},{name:"Countries",key:"countries"}],D=[{key:"row-1",actionElements:n.jsx(C,{}),cells:{user:{sortId:"anna",value:n.jsx(R,{name:"Anna"})},activeSessions:{sortId:108,value:n.jsx(w,{children:"108"})},lastActive:{sortId:12,value:"12 days ago"},regions:{sortId:"europe",value:n.jsx(w,{children:"Europe"})},countries:{sortId:"france-spain",value:n.jsxs("div",{className:"tw-flex tw-gap-x-2",children:[n.jsx(w,{children:"France"}),n.jsx(w,{children:"Spain"})]})}}},{key:"row-2",actionElements:n.jsx(C,{}),cells:{user:{sortId:"bobby",value:n.jsx(R,{name:"Bobby"})},activeSessions:{sortId:125,value:n.jsx(w,{children:"125"})},lastActive:{sortId:14,value:"14 days ago"},regions:{sortId:"south-america",value:n.jsx(w,{children:"South America"})},countries:{sortId:"brazil-chile",value:n.jsxs("div",{className:"tw-flex tw-gap-x-2",children:[n.jsx(w,{children:"Brazil"}),n.jsx(w,{children:"Chile"})]})}}},{key:"row-3",actionElements:n.jsx(C,{}),cells:{user:{sortId:"chris",value:n.jsx(R,{name:"Chris"})},activeSessions:{sortId:112,value:n.jsx(w,{children:"112"})},lastActive:{sortId:8,value:"8 days ago"},regions:{sortId:"africa",value:n.jsx(w,{children:"Africa"})},countries:{sortId:"marocco-egypt",value:n.jsxs("div",{className:"tw-flex tw-gap-x-2",children:[n.jsx(w,{children:"Marocco"}),n.jsx(w,{children:"Egypt"})]})}}},{key:"row-4",actionElements:n.jsx(C,{}),cells:{user:{sortId:"david",value:n.jsx(R,{name:"David"})},activeSessions:{sortId:42,value:n.jsx(w,{children:"42"})},lastActive:{sortId:6,value:"6 days ago"},regions:{sortId:"europe",value:n.jsx(w,{children:"Europe"})},countries:{sortId:"germany",value:n.jsx("div",{className:"tw-flex tw-gap-x-2",children:n.jsx(w,{children:"Germany"})})}}},{key:"row-5",actionElements:n.jsx(C,{}),cells:{user:{sortId:"emily",value:n.jsx(R,{name:"Emily"})},activeSessions:{sortId:67,value:n.jsx(w,{children:"67"})},lastActive:{sortId:10,value:"10 days ago"},regions:{sortId:"asia",value:n.jsx(w,{children:"Asia"})},countries:{sortId:"thailand",value:n.jsx("div",{className:"tw-flex tw-gap-x-2",children:n.jsx(w,{children:"Thailand"})})}}}],U=o=>{const[e,t]=f.useState([]),[s,u]=f.useState(D),i=(a,m)=>{(()=>{const c=[...s];c.sort((d,l)=>{const h=d.cells[a].sortId,y=l.cells[a].sortId;return m===E.Descending?h<y?-1:1:h<y?1:-1}),u(c)})()};return n.jsx(j,{...o,columns:pe,rows:s,selectedRowIds:e,onSelectionChange:a=>t(a||[]),onSortChange:i})},Ue=o=>{const[e,t]=f.useState(D),[s,u]=f.useState([]),[i,a]=f.useState("");f.useEffect(()=>{i===""&&t(D);const r=D.filter(c=>Object.values(c.cells).some(l=>String(l.sortId).includes(i)));t(r)},[i]);const m=(r,c)=>{(()=>{const l=[...e];l.sort((h,y)=>{const p=h.cells[r].sortId,v=y.cells[r].sortId;return c===E.Descending?p<v?-1:1:p<v?1:-1}),t(l)})()};return n.jsxs(n.Fragment,{children:[n.jsx(ke,{value:i,onChange:r=>a(r),placeholder:'Filter rows by "sortId" value'}),n.jsx(j,{...o,columns:pe,rows:e,selectedRowIds:s,onSelectionChange:r=>u(r||[]),onSortChange:m})]})},T=U.bind({}),N=U.bind({});N.args={selectionMode:x.SingleSelect};const I=U.bind({});I.args={selectionMode:x.MultiSelect};const $=Ue.bind({});var Y,G,J;T.parameters={...T.parameters,docs:{...(Y=T.parameters)==null?void 0:Y.docs,source:{originalSource:`args => {
  const [selectedRows, setSelectedRows] = useState<(string | number)[]>([]);
  const [sortedRows, setSortedRows] = useState<Row[]>(rows);
  const onSortChange = (key: string, direction?: SortDirection) => {
    const sortRows = () => {
      const clonedRows = [...sortedRows];
      clonedRows.sort((a, b) => {
        const keyA = a.cells[key].sortId;
        const keyB = b.cells[key].sortId;
        if (direction === SortDirection.Descending) {
          return keyA < keyB ? -1 : 1;
        } else {
          return keyA < keyB ? 1 : -1;
        }
      });
      setSortedRows(clonedRows);
    };
    sortRows();
  };
  return <Table {...args} columns={columns} rows={sortedRows} selectedRowIds={selectedRows} onSelectionChange={ids => setSelectedRows((ids as (string | number)[]) || [])} onSortChange={onSortChange} />;
}`,...(J=(G=T.parameters)==null?void 0:G.docs)==null?void 0:J.source}}};var Q,X,Z;N.parameters={...N.parameters,docs:{...(Q=N.parameters)==null?void 0:Q.docs,source:{originalSource:`args => {
  const [selectedRows, setSelectedRows] = useState<(string | number)[]>([]);
  const [sortedRows, setSortedRows] = useState<Row[]>(rows);
  const onSortChange = (key: string, direction?: SortDirection) => {
    const sortRows = () => {
      const clonedRows = [...sortedRows];
      clonedRows.sort((a, b) => {
        const keyA = a.cells[key].sortId;
        const keyB = b.cells[key].sortId;
        if (direction === SortDirection.Descending) {
          return keyA < keyB ? -1 : 1;
        } else {
          return keyA < keyB ? 1 : -1;
        }
      });
      setSortedRows(clonedRows);
    };
    sortRows();
  };
  return <Table {...args} columns={columns} rows={sortedRows} selectedRowIds={selectedRows} onSelectionChange={ids => setSelectedRows((ids as (string | number)[]) || [])} onSortChange={onSortChange} />;
}`,...(Z=(X=N.parameters)==null?void 0:X.docs)==null?void 0:Z.source}}};var ee,te,se;I.parameters={...I.parameters,docs:{...(ee=I.parameters)==null?void 0:ee.docs,source:{originalSource:`args => {
  const [selectedRows, setSelectedRows] = useState<(string | number)[]>([]);
  const [sortedRows, setSortedRows] = useState<Row[]>(rows);
  const onSortChange = (key: string, direction?: SortDirection) => {
    const sortRows = () => {
      const clonedRows = [...sortedRows];
      clonedRows.sort((a, b) => {
        const keyA = a.cells[key].sortId;
        const keyB = b.cells[key].sortId;
        if (direction === SortDirection.Descending) {
          return keyA < keyB ? -1 : 1;
        } else {
          return keyA < keyB ? 1 : -1;
        }
      });
      setSortedRows(clonedRows);
    };
    sortRows();
  };
  return <Table {...args} columns={columns} rows={sortedRows} selectedRowIds={selectedRows} onSelectionChange={ids => setSelectedRows((ids as (string | number)[]) || [])} onSortChange={onSortChange} />;
}`,...(se=(te=I.parameters)==null?void 0:te.docs)==null?void 0:se.source}}};var le,ne,oe;$.parameters={...$.parameters,docs:{...(le=$.parameters)==null?void 0:le.docs,source:{originalSource:`args => {
  const [filteredRows, setfilteredRows] = useState<Row[]>(rows);
  const [selectedRows, setSelectedRows] = useState<(string | number)[]>([]);
  const [filter, setfilter] = useState('');
  useEffect(() => {
    if (filter === '') {
      setfilteredRows(rows);
    }
    const newFilteredRowsValue = rows.filter(row => {
      const cells = Object.values(row.cells);
      return cells.some(cell => String(cell.sortId).includes(filter));
    });
    setfilteredRows(newFilteredRowsValue);
  }, [filter]);
  const onSortChange = (key: string, direction?: SortDirection) => {
    const sortRows = () => {
      const clonedRows = [...filteredRows];
      clonedRows.sort((a, b) => {
        const keyA = a.cells[key].sortId;
        const keyB = b.cells[key].sortId;
        if (direction === SortDirection.Descending) {
          return keyA < keyB ? -1 : 1;
        } else {
          return keyA < keyB ? 1 : -1;
        }
      });
      setfilteredRows(clonedRows);
    };
    sortRows();
  };
  return <>
            <TextInput value={filter} onChange={val => setfilter(val)} placeholder={'Filter rows by "sortId" value'} />
            <Table {...args} columns={columns} rows={filteredRows} selectedRowIds={selectedRows} onSelectionChange={ids => setSelectedRows((ids as (string | number)[]) || [])} onSortChange={onSortChange} />
        </>;
}`,...(oe=(ne=$.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};const Vt=["ReadOnly","SingleSelect","MultiSelect","FilterRows"];export{$ as FilterRows,I as MultiSelect,T as ReadOnly,N as SingleSelect,Vt as __namedExportsOrder,qt as default};
