import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{r as c}from"./index-BwDkhjyp.js";import{$ as Y,a as J,b as K}from"./useFormValidationState-Vs0Uifwm.js";import{$ as q,a as Q,b as O,c as Z}from"./useFocusable-CAGu0lKI.js";import{$ as T}from"./useFocusRing-4Vnvtzpc.js";import{$ as ee}from"./useControlledState-C0C-dzuH.js";import{I as te}from"./InputLabel-CPjnR_AG.js";import{I as ae}from"./IconCheckMark-BVQYjlwc.js";import{I as se}from"./IconMinus-BhxphMyC.js";import{I as z}from"./IconSize-BcCrF_mi.js";import{u as re}from"./useMemoizedId-EtHZ7Sxa.js";import{F as ie}from"./focusStyle-CBFElZiz.js";import{m as p}from"./merge-DI-veSMP.js";import{u as le}from"./Button-CYWlMQhW.js";function ne(e,s,r){let{isDisabled:t=!1,isReadOnly:i=!1,value:l,name:u,children:g,"aria-label":f,"aria-labelledby":x,validationState:m="valid",isInvalid:v}=e,k=d=>{d.stopPropagation(),s.setSelected(d.target.checked)},b=g!=null,o=f!=null||x!=null;!b&&!o&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:h,isPressed:D}=q({isDisabled:t}),{pressProps:a,isPressed:j}=q({isDisabled:t||i,onPress(){s.toggle()}}),{focusableProps:E}=Q(e,r),M=O(h,E),L=Z(e,{labelable:!0});return Y(r,s.isSelected,s.setSelected),{labelProps:O(a,{onClick:d=>d.preventDefault()}),inputProps:O(L,{"aria-invalid":v||m==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":i||void 0,onChange:k,disabled:t,...l==null?{}:{value:l},name:u,type:"checkbox",...M}),isSelected:s.isSelected,isPressed:D||j,isDisabled:t,isReadOnly:i,isInvalid:v||m==="invalid"}}function oe(e,s,r){let t=J({...e,value:s.isSelected}),{isInvalid:i,validationErrors:l,validationDetails:u}=t.displayValidation,{labelProps:g,inputProps:f,isSelected:x,isPressed:m,isDisabled:v,isReadOnly:k}=ne({...e,isInvalid:i},s,r);K(e,t,r);let{isIndeterminate:b,isRequired:o,validationBehavior:h="aria"}=e;return c.useEffect(()=>{r.current&&(r.current.indeterminate=!!b)}),{labelProps:g,inputProps:{...f,checked:x,"aria-required":o&&h==="aria"||void 0,required:o&&h==="native"},isSelected:x,isPressed:m,isDisabled:v,isReadOnly:k,isInvalid:i,validationErrors:l,validationDetails:u}}function de(e={}){let{isReadOnly:s}=e,[r,t]=ee(e.isSelected,e.defaultSelected||!1,e.onChange);function i(u){s||t(u)}function l(){s||t(!r)}return{isSelected:r,setSelected:i,toggle:l}}var ce=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ce||{}),ue=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(ue||{}),fe=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(fe||{});const be=e=>e==="Checked"||e==="Mixed",R="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",we={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:R,Strong:R},xe={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},me=({id:e,emphasis:s="Default",size:r="Default",disabled:t,required:i,label:l,hideLabel:u,tooltip:g,helperText:f,"aria-label":x="Checkbox",value:m,groupInputProps:v,onChange:k,state:b="Unchecked","data-test-id":o="checkbox"},h)=>{const D=re(e),a=le(h),{focusProps:j}=T(),E=de({onChange:t?void 0:k,isSelected:b==="Checked"}),[M,L]=c.useState(),d=c.useRef(null),$=c.useRef(null),[W,V]=c.useState(!1),[X,A]=c.useState(!1),N=w=>{w.key==="Tab"&&L(!0)},F=()=>{L(!1)};c.useEffect(()=>{var w,C;return(w=a==null?void 0:a.current)==null||w.addEventListener("keyup",N),(C=a==null?void 0:a.current)==null||C.addEventListener("blur",F),()=>{var P,y;(P=a==null?void 0:a.current)==null||P.removeEventListener("keyup",N),(y=a==null?void 0:a.current)==null||y.removeEventListener("blur",F)}},[]);const{inputProps:_}=oe({isDisabled:t,isRequired:i,isIndeterminate:b==="Mixed","aria-label":x,value:m},E,a),B={Checked:n.jsx(ae,{size:r==="XLarge"?z.Size24:z.Size16}),Mixed:n.jsx(se,{}),Unchecked:null},I=be(b),G=p(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",I&&"tw-text-box-disabled-inverse tw-border-line-strong"]),H=I?we[s]:p(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),S=c.useCallback(()=>{var w,C,P,y;d.current&&V(((w=d.current)==null?void 0:w.scrollWidth)>((C=d.current)==null?void 0:C.clientWidth)),$.current&&A(((P=$.current)==null?void 0:P.scrollWidth)>((y=$.current)==null?void 0:y.clientWidth))},[d,$]);return c.useEffect(()=>{if(!(!l&&!f||u))return S(),window.removeEventListener("resize",S),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[l,f,u,S]),n.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":o,children:n.jsx("div",{className:p(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",M?ie:""]),children:n.jsx(te,{disabled:t,clickable:!0,htmlFor:D,tooltip:g,required:i,bold:I,children:n.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[n.jsxs("span",{className:"tw-inline-flex",children:[n.jsx("input",{...O(v||_,j),id:D,ref:a,className:"tw-sr-only","data-test-id":`${o}-input`,role:"checkbox","aria-checked":b==="Checked",required:i}),n.jsx("span",{"data-test-id":`${o}-icon-box`,"aria-hidden":"true",className:p(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",xe[r],t?G:H]),children:B[b]})]}),!u&&n.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[l&&n.jsx("span",{ref:d,"data-test-id":`${o}-label`,className:p(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",I&&"tw-font-medium"]),title:W?l:void 0,children:l}),f&&n.jsx("span",{ref:$,"data-test-id":`${o}-helper-text`,className:p(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",t?"text-disabled":"tw-text-text-weak"]),title:X?f:void 0,children:f})]})]})})})})},U=c.forwardRef(me);U.displayName="FondueCheckbox";U.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},"aria-label":{defaultValue:{value:"'Checkbox'",computed:!1},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{de as $,ce as C,ue as a,fe as b,U as c,oe as d};
