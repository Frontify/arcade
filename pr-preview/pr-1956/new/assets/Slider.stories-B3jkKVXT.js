import{j as d}from"./jsx-runtime-DBEcOq3S.js";import{r as c}from"./index-DtJulBIN.js";import{u as He,c as M}from"./index-BHYJtXto.js";import{u as j,P as U}from"./index-B6WxdOXM.js";import{c as ze}from"./index-P-l_ls5c.js";import{c as Oe,u as Le}from"./index-D8PusfQX.js";import{u as Ue}from"./index-BRCTM6zp.js";import{u as Ye}from"./index-CvTA8V3i.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-DD2ZIxVL.js";function Ce(e,[t,n]){return Math.min(n,Math.max(t,e))}var Pe=["PageUp","PageDown"],Te=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],De={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},E="Slider",[$,Fe,We]=Oe(E),[Me,Pt]=ze(E,[We]),[$e,Y]=Me(E),Ee=c.forwardRef((e,t)=>{const{name:n,min:r=0,max:o=100,step:l=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:u=0,defaultValue:g=[r],value:S,onValueChange:i=()=>{},onValueCommit:m=()=>{},inverted:b=!1,...x}=e,h=c.useRef(new Set),f=c.useRef(0),R=s==="horizontal"?Ge:Xe,[p=[],y]=He({prop:S,defaultProp:g,onChange:v=>{var T;(T=[...h.current][f.current])==null||T.focus(),i(v)}}),P=c.useRef(p);function Q(v){const _=tt(p,v);V(v,_)}function F(v){V(v,f.current)}function qe(){const v=P.current[f.current];p[f.current]!==v&&m(p)}function V(v,_,{commit:T}={commit:!1}){const Z=st(l),W=at(Math.round((v-r)/l)*l+r,Z),A=Ce(W,[r,o]);y((D=[])=>{const C=Ze(D,A,_);if(ot(C,u*l)){f.current=C.indexOf(A);const ee=String(C)!==String(D);return ee&&T&&m(C),ee?C:D}else return D})}return d.jsx($e,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:o,valueIndexToChangeRef:f,thumbs:h.current,values:p,orientation:s,children:d.jsx($.Provider,{scope:e.__scopeSlider,children:d.jsx($.Slot,{scope:e.__scopeSlider,children:d.jsx(R,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:M(x.onPointerDown,()=>{a||(P.current=p)}),min:r,max:o,inverted:b,onSlideStart:a?void 0:Q,onSlideMove:a?void 0:F,onSlideEnd:a?void 0:qe,onHomeKeyDown:()=>!a&&V(r,0,{commit:!0}),onEndKeyDown:()=>!a&&V(o,p.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:_})=>{if(!a){const W=Pe.includes(v.key)||v.shiftKey&&Te.includes(v.key)?10:1,A=f.current,D=p[A],C=l*W*_;V(D+C,A,{commit:!0})}}})})})})});Ee.displayName=E;var[Ve,Ae]=Me(E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ge=c.forwardRef((e,t)=>{const{min:n,max:r,dir:o,inverted:l,onSlideStart:s,onSlideMove:a,onSlideEnd:u,onStepKeyDown:g,...S}=e,[i,m]=c.useState(null),b=j(t,p=>m(p)),x=c.useRef(),h=Le(o),f=h==="ltr",w=f&&!l||!f&&l;function R(p){const y=x.current||i.getBoundingClientRect(),P=[0,y.width],F=J(P,w?[n,r]:[r,n]);return x.current=y,F(p-y.left)}return d.jsx(Ve,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:d.jsx(je,{dir:h,"data-orientation":"horizontal",...S,ref:b,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:p=>{const y=R(p.clientX);s==null||s(y)},onSlideMove:p=>{const y=R(p.clientX);a==null||a(y)},onSlideEnd:()=>{x.current=void 0,u==null||u()},onStepKeyDown:p=>{const P=De[w?"from-left":"from-right"].includes(p.key);g==null||g({event:p,direction:P?-1:1})}})})}),Xe=c.forwardRef((e,t)=>{const{min:n,max:r,inverted:o,onSlideStart:l,onSlideMove:s,onSlideEnd:a,onStepKeyDown:u,...g}=e,S=c.useRef(null),i=j(t,S),m=c.useRef(),b=!o;function x(h){const f=m.current||S.current.getBoundingClientRect(),w=[0,f.height],p=J(w,b?[r,n]:[n,r]);return m.current=f,p(h-f.top)}return d.jsx(Ve,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:d.jsx(je,{"data-orientation":"vertical",...g,ref:i,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const f=x(h.clientY);l==null||l(f)},onSlideMove:h=>{const f=x(h.clientY);s==null||s(f)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:h=>{const w=De[b?"from-bottom":"from-top"].includes(h.key);u==null||u({event:h,direction:w?-1:1})}})})}),je=c.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:o,onSlideEnd:l,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:u,...g}=e,S=Y(E,n);return d.jsx(U.span,{...g,ref:t,onKeyDown:M(e.onKeyDown,i=>{i.key==="Home"?(s(i),i.preventDefault()):i.key==="End"?(a(i),i.preventDefault()):Pe.concat(Te).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:M(e.onPointerDown,i=>{const m=i.target;m.setPointerCapture(i.pointerId),i.preventDefault(),S.thumbs.has(m)?m.focus():r(i)}),onPointerMove:M(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&o(i)}),onPointerUp:M(e.onPointerUp,i=>{const m=i.target;m.hasPointerCapture(i.pointerId)&&(m.releasePointerCapture(i.pointerId),l(i))})})}),Ie="SliderTrack",Be=c.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Y(Ie,n);return d.jsx(U.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...r,ref:t})});Be.displayName=Ie;var G="SliderRange",Ke=c.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,o=Y(G,n),l=Ae(G,n),s=c.useRef(null),a=j(t,s),u=o.values.length,g=o.values.map(m=>Ne(m,o.min,o.max)),S=u>1?Math.min(...g):0,i=100-Math.max(...g);return d.jsx(U.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...r,ref:a,style:{...e.style,[l.startEdge]:S+"%",[l.endEdge]:i+"%"}})});Ke.displayName=G;var X="SliderThumb",ke=c.forwardRef((e,t)=>{const n=Fe(e.__scopeSlider),[r,o]=c.useState(null),l=j(t,a=>o(a)),s=c.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(Je,{...e,ref:l,index:s})}),Je=c.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:o,...l}=e,s=Y(X,n),a=Ae(X,n),[u,g]=c.useState(null),S=j(t,R=>g(R)),i=u?!!u.closest("form"):!0,m=Ye(u),b=s.values[r],x=b===void 0?0:Ne(b,s.min,s.max),h=et(r,s.values.length),f=m==null?void 0:m[a.size],w=f?rt(f,x,a.direction):0;return c.useEffect(()=>{if(u)return s.thumbs.add(u),()=>{s.thumbs.delete(u)}},[u,s.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${w}px)`},children:[d.jsx($.ItemSlot,{scope:e.__scopeSlider,children:d.jsx(U.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":s.min,"aria-valuenow":b,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...l,ref:S,style:b===void 0?{display:"none"}:e.style,onFocus:M(e.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),i&&d.jsx(Qe,{name:o??(s.name?s.name+(s.values.length>1?"[]":""):void 0),value:b},r)]})});ke.displayName=X;var Qe=e=>{const{value:t,...n}=e,r=c.useRef(null),o=Ue(t);return c.useEffect(()=>{const l=r.current,s=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(s,"value").set;if(o!==t&&u){const g=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(g)}},[o,t]),d.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Ze(e=[],t,n){const r=[...e];return r[n]=t,r.sort((o,l)=>o-l)}function Ne(e,t,n){const l=100/(n-t)*(e-t);return Ce(l,[0,100])}function et(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function tt(e,t){if(e.length===1)return 0;const n=e.map(o=>Math.abs(o-t)),r=Math.min(...n);return n.indexOf(r)}function rt(e,t,n){const r=e/2,l=J([0,50],[0,r]);return(r-l(t)*n)*n}function nt(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ot(e,t){if(t>0){const n=nt(e);return Math.min(...n)>=t}return!0}function J(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function st(e){return(String(e).split(".")[1]||"").length}function at(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var it=Ee,lt=Be,ut=Ke,ct=ke;const dt="_slider_b7o4t_1",mt="_track_b7o4t_14",ft="_range_b7o4t_21",pt="_thumb_b7o4t_27",B={slider:dt,track:mt,range:ft,thumb:pt},gt=({value:e,defaultValue:t=[0],min:n=0,max:r=100,onChange:o,onCommit:l,"data-test-id":s="fondue-slider",...a},u)=>d.jsxs(it,{ref:u,className:B.slider,value:e,min:n,max:r,defaultValue:t,onValueChange:o,onValueCommit:l,"data-test-id":s,...a,children:[d.jsx(lt,{className:B.track,children:d.jsx(ut,{className:B.range})}),(e||t).map((g,S)=>d.jsx(ct,{className:B.thumb},S))]}),I=c.forwardRef(gt);I.displayName="Slider";I.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The default value of the slider
Used for uncontrolled components
@default [0]`,defaultValue:{value:"[0]",computed:!1}},value:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The controlled value of the slider
@default [0]`},min:{required:!1,tsType:{name:"number"},description:`Minimum value of the slider
@default 0`,defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:`Maximum value of the slider
@default 100`,defaultValue:{value:"100",computed:!1}},step:{required:!1,tsType:{name:"number"},description:`The granularity with which the slider can step through values
@default 1`},minStepsBetweenThumbs:{required:!1,tsType:{name:"number"},description:`The minimum steps between thumbs in a range slider
@default 0`},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the slider
@default false`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},onCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-slider'",computed:!1}},"aria-describedby":{required:!1,tsType:{name:"string"},description:""}}};const Tt={component:I,tags:["autodocs"],parameters:{status:{type:"in_progress"}},args:{"aria-labelledby":"some-label-id"}},K={},k={args:{min:0,max:100,step:10,disabled:!0,defaultValue:[50]}},N={args:{min:50,max:1e3,onCommit:e=>console.log(e)}},q={args:{minStepsBetweenThumbs:25,defaultValue:[50,100]}},H={args:{step:25}},z={render:e=>{const[t,n]=c.useState([50]),r=c.useRef(!1);return d.jsx(I,{onChange:o=>{o[0]&&(o[0]>80&&!r.current&&(r.current=!0,alert("You're going a bit high there")),n(o))},value:t,...e})}},O={render:e=>{const[t,n]=c.useState([33,67]);return d.jsx(I,{onChange:r=>{if(!(!r[0]||!r[1])){if(r[1]-r[0]>80){alert("The range is too large");return}n(r)}},value:t,...e})}},L={args:{defaultValue:[33,67]}};var te,re,ne;K.parameters={...K.parameters,docs:{...(te=K.parameters)==null?void 0:te.docs,source:{originalSource:"{}",...(ne=(re=K.parameters)==null?void 0:re.docs)==null?void 0:ne.source}}};var oe,se,ae;k.parameters={...k.parameters,docs:{...(oe=k.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 10,
    disabled: true,
    defaultValue: [50]
  }
}`,...(ae=(se=k.parameters)==null?void 0:se.docs)==null?void 0:ae.source}}};var ie,le,ue;N.parameters={...N.parameters,docs:{...(ie=N.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {
    min: 50,
    max: 1000,
    onCommit: value => console.log(value)
  }
}`,...(ue=(le=N.parameters)==null?void 0:le.docs)==null?void 0:ue.source}}};var ce,de,me;q.parameters={...q.parameters,docs:{...(ce=q.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  args: {
    minStepsBetweenThumbs: 25,
    defaultValue: [50, 100]
  }
}`,...(me=(de=q.parameters)==null?void 0:de.docs)==null?void 0:me.source}}};var fe,pe,ge;H.parameters={...H.parameters,docs:{...(fe=H.parameters)==null?void 0:fe.docs,source:{originalSource:`{
  args: {
    step: 25
  }
}`,...(ge=(pe=H.parameters)==null?void 0:pe.docs)==null?void 0:ge.source}}};var he,Se,be;z.parameters={...z.parameters,docs:{...(he=z.parameters)==null?void 0:he.docs,source:{originalSource:`{
  render: args => {
    const [sliderRange, setSliderRange] = useState([50]);
    const userIsWarned = useRef(false);
    return <Slider onChange={value => {
      if (!value[0]) {
        return;
      }
      if (value[0] > 80 && !userIsWarned.current) {
        userIsWarned.current = true;
        alert("You're going a bit high there");
      }
      setSliderRange(value);
    }} value={sliderRange} {...args} />;
  }
}`,...(be=(Se=z.parameters)==null?void 0:Se.docs)==null?void 0:be.source}}};var ve,xe,we;O.parameters={...O.parameters,docs:{...(ve=O.parameters)==null?void 0:ve.docs,source:{originalSource:`{
  render: args => {
    const [sliderRange, setSliderRange] = useState([33, 67]);
    return <Slider onChange={value => {
      if (!value[0] || !value[1]) {
        return;
      }
      if (value[1] - value[0] > 80) {
        alert('The range is too large');
        return;
      }
      setSliderRange(value);
    }} value={sliderRange} {...args} />;
  }
}`,...(we=(xe=O.parameters)==null?void 0:xe.docs)==null?void 0:we.source}}};var ye,Re,_e;L.parameters={...L.parameters,docs:{...(ye=L.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  args: {
    defaultValue: [33, 67]
  }
}`,...(_e=(Re=L.parameters)==null?void 0:Re.docs)==null?void 0:_e.source}}};const Dt=["SimpleSlider","Disabled","MinimumAndMaximum","MinimumGap","Steps","Controlled","MultipleThumbsControlled","MultipleThumbsUncontrolled"];export{z as Controlled,k as Disabled,N as MinimumAndMaximum,q as MinimumGap,O as MultipleThumbsControlled,L as MultipleThumbsUncontrolled,K as SimpleSlider,H as Steps,Dt as __namedExportsOrder,Tt as default};
