import{j as m}from"./jsx-runtime-DBEcOq3S.js";import{r as c}from"./index-DtJulBIN.js";import{u as Te,c as D}from"./index-BHYJtXto.js";import{u as A,P as N}from"./index-B6WxdOXM.js";import{c as _e}from"./index-P-l_ls5c.js";import{c as Me,u as Pe}from"./index-D8PusfQX.js";import{u as Ce}from"./index-BRCTM6zp.js";import{u as De}from"./index-CvTA8V3i.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-DD2ZIxVL.js";function de(e,[t,r]){return Math.min(r,Math.max(t,e))}var ue=["PageUp","PageDown"],ce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},E="Slider",[U,Ee,Ve]=Me(E),[fe,ut]=_e(E,[Ve]),[je,H]=fe(E),pe=c.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:l=1,orientation:o="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:S,onValueChange:s=()=>{},onValueCommit:u=()=>{},inverted:b=!1,...x}=e,g=c.useRef(new Set),f=c.useRef(0),R=o==="horizontal"?Ae:ke,[p=[],y]=Te({prop:S,defaultProp:h,onChange:v=>{var P;(P=[...g.current][f.current])==null||P.focus(),s(v)}}),M=c.useRef(p);function X(v){const T=Ne(p,v);V(v,T)}function O(v){V(v,f.current)}function Re(){const v=M.current[f.current];p[f.current]!==v&&u(p)}function V(v,T,{commit:P}={commit:!1}){const G=Le(l),L=Ue(Math.round((v-n)/l)*l+n,G),j=de(L,[n,a]);y((C=[])=>{const _=Be(C,j,T);if(Oe(_,d*l)){f.current=_.indexOf(j);const W=String(_)!==String(C);return W&&P&&u(_),W?_:C}else return C})}return m.jsx(je,{scope:e.__scopeSlider,name:r,disabled:i,min:n,max:a,valueIndexToChangeRef:f,thumbs:g.current,values:p,orientation:o,children:m.jsx(U.Provider,{scope:e.__scopeSlider,children:m.jsx(U.Slot,{scope:e.__scopeSlider,children:m.jsx(R,{"aria-disabled":i,"data-disabled":i?"":void 0,...x,ref:t,onPointerDown:D(x.onPointerDown,()=>{i||(M.current=p)}),min:n,max:a,inverted:b,onSlideStart:i?void 0:X,onSlideMove:i?void 0:O,onSlideEnd:i?void 0:Re,onHomeKeyDown:()=>!i&&V(n,0,{commit:!0}),onEndKeyDown:()=>!i&&V(a,p.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:T})=>{if(!i){const L=ue.includes(v.key)||v.shiftKey&&ce.includes(v.key)?10:1,j=f.current,C=p[j],_=l*L*T;V(C+_,j,{commit:!0})}}})})})})});pe.displayName=E;var[he,ge]=fe(E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ae=c.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:l,onSlideStart:o,onSlideMove:i,onSlideEnd:d,onStepKeyDown:h,...S}=e,[s,u]=c.useState(null),b=A(t,p=>u(p)),x=c.useRef(),g=Pe(a),f=g==="ltr",w=f&&!l||!f&&l;function R(p){const y=x.current||s.getBoundingClientRect(),M=[0,y.width],O=Y(M,w?[r,n]:[n,r]);return x.current=y,O(p-y.left)}return m.jsx(he,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:m.jsx(Se,{dir:g,"data-orientation":"horizontal",...S,ref:b,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:p=>{const y=R(p.clientX);o==null||o(y)},onSlideMove:p=>{const y=R(p.clientX);i==null||i(y)},onSlideEnd:()=>{x.current=void 0,d==null||d()},onStepKeyDown:p=>{const M=me[w?"from-left":"from-right"].includes(p.key);h==null||h({event:p,direction:M?-1:1})}})})}),ke=c.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:l,onSlideMove:o,onSlideEnd:i,onStepKeyDown:d,...h}=e,S=c.useRef(null),s=A(t,S),u=c.useRef(),b=!a;function x(g){const f=u.current||S.current.getBoundingClientRect(),w=[0,f.height],p=Y(w,b?[n,r]:[r,n]);return u.current=f,p(g-f.top)}return m.jsx(he,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:m.jsx(Se,{"data-orientation":"vertical",...h,ref:s,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const f=x(g.clientY);l==null||l(f)},onSlideMove:g=>{const f=x(g.clientY);o==null||o(f)},onSlideEnd:()=>{u.current=void 0,i==null||i()},onStepKeyDown:g=>{const w=me[b?"from-bottom":"from-top"].includes(g.key);d==null||d({event:g,direction:w?-1:1})}})})}),Se=c.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:i,onStepKeyDown:d,...h}=e,S=H(E,r);return m.jsx(N.span,{...h,ref:t,onKeyDown:D(e.onKeyDown,s=>{s.key==="Home"?(o(s),s.preventDefault()):s.key==="End"?(i(s),s.preventDefault()):ue.concat(ce).includes(s.key)&&(d(s),s.preventDefault())}),onPointerDown:D(e.onPointerDown,s=>{const u=s.target;u.setPointerCapture(s.pointerId),s.preventDefault(),S.thumbs.has(u)?u.focus():n(s)}),onPointerMove:D(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&a(s)}),onPointerUp:D(e.onPointerUp,s=>{const u=s.target;u.hasPointerCapture(s.pointerId)&&(u.releasePointerCapture(s.pointerId),l(s))})})}),be="SliderTrack",ve=c.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=H(be,r);return m.jsx(N.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});ve.displayName=be;var $="SliderRange",xe=c.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=H($,r),l=ge($,r),o=c.useRef(null),i=A(t,o),d=a.values.length,h=a.values.map(u=>ye(u,a.min,a.max)),S=d>1?Math.min(...h):0,s=100-Math.max(...h);return m.jsx(N.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:i,style:{...e.style,[l.startEdge]:S+"%",[l.endEdge]:s+"%"}})});xe.displayName=$;var F="SliderThumb",we=c.forwardRef((e,t)=>{const r=Ee(e.__scopeSlider),[n,a]=c.useState(null),l=A(t,i=>a(i)),o=c.useMemo(()=>n?r().findIndex(i=>i.ref.current===n):-1,[r,n]);return m.jsx(Ie,{...e,ref:l,index:o})}),Ie=c.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...l}=e,o=H(F,r),i=ge(F,r),[d,h]=c.useState(null),S=A(t,R=>h(R)),s=d?!!d.closest("form"):!0,u=De(d),b=o.values[n],x=b===void 0?0:ye(b,o.min,o.max),g=qe(n,o.values.length),f=u==null?void 0:u[i.size],w=f?He(f,x,i.direction):0;return c.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${x}% + ${w}px)`},children:[m.jsx(U.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(N.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:S,style:b===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),s&&m.jsx(Ke,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),value:b},n)]})});we.displayName=F;var Ke=e=>{const{value:t,...r}=e,n=c.useRef(null),a=Ce(t);return c.useEffect(()=>{const l=n.current,o=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&d){const h=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),m.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function Be(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,l)=>a-l)}function ye(e,t,r){const l=100/(r-t)*(e-t);return de(l,[0,100])}function qe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ne(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function He(e,t,r){const n=e/2,l=Y([0,50],[0,n]);return(n-l(t)*r)*r}function ze(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Oe(e,t){if(t>0){const r=ze(e);return Math.min(...r)>=t}return!0}function Y(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Le(e){return(String(e).split(".")[1]||"").length}function Ue(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var $e=pe,Fe=ve,Ye=xe,Xe=we;const Ge="_SliderRoot_igda3_1",We="_SliderTrack_igda3_11",Je="_SliderRange_igda3_19",Qe="_SliderThumb_igda3_26",k={SliderRoot:Ge,SliderTrack:We,SliderRange:Je,SliderThumb:Qe},Ze=({showMinMax:e=!1,value:t=[0],defaultValue:r=[0],min:n=0,max:a=100,onChange:l,onCommit:o,"aria-label":i,"data-test-id":d="fondue-slider",...h},S)=>m.jsxs($e,{ref:S,className:k.SliderRoot,defaultValue:r,"aria-label":i,onValueChange:l,onValueCommit:o,"data-test-id":d,...h,children:[m.jsx(Fe,{className:k.SliderTrack,children:m.jsx(Ye,{className:k.SliderRange})}),(t||r).map((s,u)=>m.jsx(Xe,{className:k.SliderThumb},u)),e&&m.jsxs("span",{children:[n," - ",a]})]}),z=c.forwardRef(Ze);z.displayName="Slider";z.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The default value of the slider
Used for uncontrolled components
@default [0]`,defaultValue:{value:"[0]",computed:!1}},value:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The controlled value of the slider
@default [0]`,defaultValue:{value:"[0]",computed:!1}},min:{required:!1,tsType:{name:"number"},description:`Minimum value of the slider
@default 0`,defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:`Maximum value of the slider
@default 100`,defaultValue:{value:"100",computed:!1}},step:{required:!1,tsType:{name:"number"},description:`The granularity with which the slider can step through values
@default 1`},minStepsBetweenThumbs:{required:!1,tsType:{name:"number"},description:`The minimum steps between thumbs in a range slider
@default 0`},showMinMax:{required:!1,tsType:{name:"boolean"},description:`Determines whether to display the minimum and maximum values below the slider
@default false`,defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the checkbox
@default false`},required:{required:!1,tsType:{name:"boolean"},description:`Make the checkbox required in form
@default false`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:`Make the checkbox read-only
@default false`},onCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},"aria-label":{required:!0,tsType:{name:"string"},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-slider'",computed:!1}}}};const ct={component:z,tags:["autodocs"],parameters:{status:{type:"in_progress"}},args:{label:"Slide me","aria-label":"Slide me"}},I={args:{min:0,max:100,step:10}},K={args:{min:0,max:100,showMinMax:!0,step:1}},B={render:e=>{const[t,r]=c.useState([33,67]);return m.jsx(z,{onChange:n=>{if(!(!n[0]||!n[1])){if(n[1]-n[0]>80){alert("The range is too big");return}r(n)}},value:t,...e})}},q={args:{min:0,max:100,defaultValue:[33,67],step:1}};var J,Q,Z;I.parameters={...I.parameters,docs:{...(J=I.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 10
  }
}`,...(Z=(Q=I.parameters)==null?void 0:Q.docs)==null?void 0:Z.source}}};var ee,te,ne;K.parameters={...K.parameters,docs:{...(ee=K.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    showMinMax: true,
    step: 1
  }
}`,...(ne=(te=K.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};var re,oe,ae;B.parameters={...B.parameters,docs:{...(re=B.parameters)==null?void 0:re.docs,source:{originalSource:`{
  render: args => {
    const [sliderRange, setSliderRange] = useState([33, 67]);
    return <Slider onChange={value => {
      if (!value[0] || !value[1]) {
        return;
      }
      if (value[1] - value[0] > 80) {
        alert('The range is too big');
        return;
      }
      setSliderRange(value);
    }} value={sliderRange} {...args} />;
  }
}`,...(ae=(oe=B.parameters)==null?void 0:oe.docs)==null?void 0:ae.source}}};var se,ie,le;q.parameters={...q.parameters,docs:{...(se=q.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    defaultValue: [33, 67],
    step: 1
  }
}`,...(le=(ie=q.parameters)==null?void 0:ie.docs)==null?void 0:le.source}}};const mt=["SimpleSlider","ShowMinMax","MultipleThumbsControlled","MultipleThumbsUncontrolled"];export{B as MultipleThumbsControlled,q as MultipleThumbsUncontrolled,K as ShowMinMax,I as SimpleSlider,mt as __namedExportsOrder,ct as default};
