import{j as f}from"./jsx-runtime-DBEcOq3S.js";import{r as u}from"./index-DtJulBIN.js";import{u as Ce,c as D}from"./index-BHYJtXto.js";import{u as A,P as H}from"./index-B6WxdOXM.js";import{c as De}from"./index-P-l_ls5c.js";import{c as Ee,u as Ve}from"./index-D8PusfQX.js";import{u as je}from"./index-BRCTM6zp.js";import{u as Ae}from"./index-CvTA8V3i.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-DD2ZIxVL.js";function fe(e,[t,r]){return Math.min(r,Math.max(t,e))}var pe=["PageUp","PageDown"],he=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ge={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},E="Slider",[F,Ie,ke]=Ee(E),[Se,pt]=De(E,[ke]),[Ke,z]=Se(E),be=u.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:l=1,orientation:o="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:b,onValueChange:s=()=>{},onValueCommit:c=()=>{},inverted:S=!1,...x}=e,g=u.useRef(new Set),m=u.useRef(0),R=o==="horizontal"?Be:qe,[p=[],y]=Ce({prop:b,defaultProp:h,onChange:v=>{var T;(T=[...g.current][m.current])==null||T.focus(),s(v)}}),P=u.useRef(p);function G(v){const _=Le(p,v);V(v,_)}function L(v){V(v,m.current)}function Te(){const v=P.current[m.current];p[m.current]!==v&&c(p)}function V(v,_,{commit:T}={commit:!1}){const W=$e(l),U=Xe(Math.round((v-n)/l)*l+n,W),j=fe(U,[n,a]);y((C=[])=>{const M=ze(C,j,_);if(Ye(M,d*l)){m.current=M.indexOf(j);const J=String(M)!==String(C);return J&&T&&c(M),J?M:C}else return C})}return f.jsx(Ke,{scope:e.__scopeSlider,name:r,disabled:i,min:n,max:a,valueIndexToChangeRef:m,thumbs:g.current,values:p,orientation:o,children:f.jsx(F.Provider,{scope:e.__scopeSlider,children:f.jsx(F.Slot,{scope:e.__scopeSlider,children:f.jsx(R,{"aria-disabled":i,"data-disabled":i?"":void 0,...x,ref:t,onPointerDown:D(x.onPointerDown,()=>{i||(P.current=p)}),min:n,max:a,inverted:S,onSlideStart:i?void 0:G,onSlideMove:i?void 0:L,onSlideEnd:i?void 0:Te,onHomeKeyDown:()=>!i&&V(n,0,{commit:!0}),onEndKeyDown:()=>!i&&V(a,p.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:_})=>{if(!i){const U=pe.includes(v.key)||v.shiftKey&&he.includes(v.key)?10:1,j=m.current,C=p[j],M=l*U*_;V(C+M,j,{commit:!0})}}})})})})});be.displayName=E;var[ve,xe]=Se(E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Be=u.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:l,onSlideStart:o,onSlideMove:i,onSlideEnd:d,onStepKeyDown:h,...b}=e,[s,c]=u.useState(null),S=A(t,p=>c(p)),x=u.useRef(),g=Ve(a),m=g==="ltr",w=m&&!l||!m&&l;function R(p){const y=x.current||s.getBoundingClientRect(),P=[0,y.width],L=X(P,w?[r,n]:[n,r]);return x.current=y,L(p-y.left)}return f.jsx(ve,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:f.jsx(we,{dir:g,"data-orientation":"horizontal",...b,ref:S,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:p=>{const y=R(p.clientX);o==null||o(y)},onSlideMove:p=>{const y=R(p.clientX);i==null||i(y)},onSlideEnd:()=>{x.current=void 0,d==null||d()},onStepKeyDown:p=>{const P=ge[w?"from-left":"from-right"].includes(p.key);h==null||h({event:p,direction:P?-1:1})}})})}),qe=u.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:l,onSlideMove:o,onSlideEnd:i,onStepKeyDown:d,...h}=e,b=u.useRef(null),s=A(t,b),c=u.useRef(),S=!a;function x(g){const m=c.current||b.current.getBoundingClientRect(),w=[0,m.height],p=X(w,S?[n,r]:[r,n]);return c.current=m,p(g-m.top)}return f.jsx(ve,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:f.jsx(we,{"data-orientation":"vertical",...h,ref:s,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=x(g.clientY);l==null||l(m)},onSlideMove:g=>{const m=x(g.clientY);o==null||o(m)},onSlideEnd:()=>{c.current=void 0,i==null||i()},onStepKeyDown:g=>{const w=ge[S?"from-bottom":"from-top"].includes(g.key);d==null||d({event:g,direction:w?-1:1})}})})}),we=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:i,onStepKeyDown:d,...h}=e,b=z(E,r);return f.jsx(H.span,{...h,ref:t,onKeyDown:D(e.onKeyDown,s=>{s.key==="Home"?(o(s),s.preventDefault()):s.key==="End"?(i(s),s.preventDefault()):pe.concat(he).includes(s.key)&&(d(s),s.preventDefault())}),onPointerDown:D(e.onPointerDown,s=>{const c=s.target;c.setPointerCapture(s.pointerId),s.preventDefault(),b.thumbs.has(c)?c.focus():n(s)}),onPointerMove:D(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&a(s)}),onPointerUp:D(e.onPointerUp,s=>{const c=s.target;c.hasPointerCapture(s.pointerId)&&(c.releasePointerCapture(s.pointerId),l(s))})})}),ye="SliderTrack",Re=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=z(ye,r);return f.jsx(H.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});Re.displayName=ye;var Y="SliderRange",_e=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=z(Y,r),l=xe(Y,r),o=u.useRef(null),i=A(t,o),d=a.values.length,h=a.values.map(c=>Pe(c,a.min,a.max)),b=d>1?Math.min(...h):0,s=100-Math.max(...h);return f.jsx(H.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:i,style:{...e.style,[l.startEdge]:b+"%",[l.endEdge]:s+"%"}})});_e.displayName=Y;var $="SliderThumb",Me=u.forwardRef((e,t)=>{const r=Ie(e.__scopeSlider),[n,a]=u.useState(null),l=A(t,i=>a(i)),o=u.useMemo(()=>n?r().findIndex(i=>i.ref.current===n):-1,[r,n]);return f.jsx(Ne,{...e,ref:l,index:o})}),Ne=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...l}=e,o=z($,r),i=xe($,r),[d,h]=u.useState(null),b=A(t,R=>h(R)),s=d?!!d.closest("form"):!0,c=Ae(d),S=o.values[n],x=S===void 0?0:Pe(S,o.min,o.max),g=Oe(n,o.values.length),m=c==null?void 0:c[i.size],w=m?Ue(m,x,i.direction):0;return u.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${x}% + ${w}px)`},children:[f.jsx(F.ItemSlot,{scope:e.__scopeSlider,children:f.jsx(H.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":S,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:b,style:S===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),s&&f.jsx(He,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),value:S},n)]})});Me.displayName=$;var He=e=>{const{value:t,...r}=e,n=u.useRef(null),a=je(t);return u.useEffect(()=>{const l=n.current,o=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&d){const h=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),f.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function ze(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,l)=>a-l)}function Pe(e,t,r){const l=100/(r-t)*(e-t);return fe(l,[0,100])}function Oe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Le(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function Ue(e,t,r){const n=e/2,l=X([0,50],[0,n]);return(n-l(t)*r)*r}function Fe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Ye(e,t){if(t>0){const r=Fe(e);return Math.min(...r)>=t}return!0}function X(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $e(e){return(String(e).split(".")[1]||"").length}function Xe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ge=be,We=Re,Je=_e,Qe=Me;const Ze="_slider_5r37r_1",et="_track_5r37r_10",tt="_range_5r37r_17",nt="_thumb_5r37r_23",I={slider:Ze,track:et,range:tt,thumb:nt},rt=({value:e,defaultValue:t=[0],min:r=0,max:n=100,onChange:a,onCommit:l,"aria-labelledby":o,"data-test-id":i="fondue-slider",...d},h)=>f.jsxs(Ge,{ref:h,className:I.slider,value:e,min:r,max:n,defaultValue:t,"aria-labelledby":o,onValueChange:a,onValueCommit:l,"data-test-id":i,...d,children:[f.jsx(We,{className:I.track,children:f.jsx(Je,{className:I.range})}),(e||t).map((b,s)=>f.jsx(Qe,{className:I.thumb},s))]}),O=u.forwardRef(rt);O.displayName="Slider";O.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The default value of the slider
Used for uncontrolled components
@default [0]`,defaultValue:{value:"[0]",computed:!1}},value:{required:!1,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:`The controlled value of the slider
@default [0]`},min:{required:!1,tsType:{name:"number"},description:`Minimum value of the slider
@default 0`,defaultValue:{value:"0",computed:!1}},max:{required:!1,tsType:{name:"number"},description:`Maximum value of the slider
@default 100`,defaultValue:{value:"100",computed:!1}},step:{required:!1,tsType:{name:"number"},description:`The granularity with which the slider can step through values
@default 1`},minStepsBetweenThumbs:{required:!1,tsType:{name:"number"},description:`The minimum steps between thumbs in a range slider
@default 0`},showMinMax:{required:!1,tsType:{name:"boolean"},description:`Determines whether to display the minimum and maximum values below the slider
@default false`},disabled:{required:!1,tsType:{name:"boolean"},description:`Disable the slider
@default false`},required:{required:!1,tsType:{name:"boolean"},description:`Make the slider required in form
@default false`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:`Make the slider read-only
@default false`},onCommit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"number"}],raw:"number[]"},name:"value"}],return:{name:"void"}}},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-slider'",computed:!1}},"aria-describedby":{required:!1,tsType:{name:"string"},description:""}}};const ht={component:O,tags:["autodocs"],parameters:{status:{type:"in_progress"}},args:{"aria-label":"Slide me"}},k={args:{min:0,max:100,step:10}},K={args:{min:0,max:100,showMinMax:!0,step:1}},B={render:e=>{const[t,r]=u.useState([33,67]);return f.jsx(O,{onChange:n=>{if(!(!n[0]||!n[1])){if(n[1]-n[0]>80){alert("The range is too big");return}r(n)}},value:t,...e})}},q={args:{min:0,max:100,defaultValue:[33,67],step:1}},N={args:{min:0,max:100,defaultValue:[50],disabled:!0}};var Q,Z,ee;k.parameters={...k.parameters,docs:{...(Q=k.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    step: 10
  }
}`,...(ee=(Z=k.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,ne,re;K.parameters={...K.parameters,docs:{...(te=K.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    showMinMax: true,
    step: 1
  }
}`,...(re=(ne=K.parameters)==null?void 0:ne.docs)==null?void 0:re.source}}};var oe,ae,se;B.parameters={...B.parameters,docs:{...(oe=B.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  render: args => {
    const [sliderRange, setSliderRange] = useState([33, 67]);
    return <Slider onChange={value => {
      if (!value[0] || !value[1]) {
        return;
      }
      if (value[1] - value[0] > 80) {
        alert('The range is too big');
        return;
      }
      setSliderRange(value);
    }} value={sliderRange} {...args} />;
  }
}`,...(se=(ae=B.parameters)==null?void 0:ae.docs)==null?void 0:se.source}}};var ie,le,de;q.parameters={...q.parameters,docs:{...(ie=q.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    defaultValue: [33, 67],
    step: 1
  }
}`,...(de=(le=q.parameters)==null?void 0:le.docs)==null?void 0:de.source}}};var ue,ce,me;N.parameters={...N.parameters,docs:{...(ue=N.parameters)==null?void 0:ue.docs,source:{originalSource:`{
  args: {
    min: 0,
    max: 100,
    defaultValue: [50],
    disabled: true
  }
}`,...(me=(ce=N.parameters)==null?void 0:ce.docs)==null?void 0:me.source}}};const gt=["SimpleSlider","ShowMinMax","MultipleThumbsControlled","MultipleThumbsUncontrolled","Disabled"];export{N as Disabled,B as MultipleThumbsControlled,q as MultipleThumbsUncontrolled,K as ShowMinMax,k as SimpleSlider,gt as __namedExportsOrder,ht as default};
