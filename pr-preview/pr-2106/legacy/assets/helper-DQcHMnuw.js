import{r as g,R as _}from"./index-BwDkhjyp.js";import{i as me,$ as he,b as ee,d as pe,g as q,j as ie,k as $e}from"./useFocusable-ClqOF1PM.js";import{$ as Ke,a as Pe}from"./SSRProvider-CYXx33DY.js";import{j as xe,k as De,l as re}from"./useFocusRing-Vzyl7-Lk.js";import{r as Se}from"./index-CS4BWtGh.js";import{b as Te}from"./FocusScope-CryrrNNO.js";import{$ as Z}from"./isScrollable-Bts8_1NI.js";import{$ as ye}from"./context-C2PaECDE.js";import{c as we}from"./SelectionManager-f1Y_ghrx.js";import{j as le}from"./jsx-runtime-Nms4Y4qS.js";function Ee(i,e){const t=[];for(;i&&i!==document.documentElement;)Z(i,e)&&t.push(i),i=i.parentElement;return t}let Ce=0;const Y=new Map;function Le(i){let[e,t]=g.useState();return Ke(()=>{if(!i)return;let r=Y.get(i);if(r)t(r.element.id);else{let l=`react-aria-description-${Ce++}`;t(l);let s=document.createElement("div");s.id=l,s.style.display="none",s.textContent=i,document.body.appendChild(s),r={refCount:0,element:s},Y.set(i,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),Y.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function oe(i,e,t,r){let l=Pe(t),s=t==null;g.useEffect(()=>{if(s||!i.current)return;let f=i.current;return f.addEventListener(e,l,r),()=>{f.removeEventListener(e,l,r)}},[i,e,r,s,l])}function ge(i,e){let t=ne(i,e,"left"),r=ne(i,e,"top"),l=e.offsetWidth,s=e.offsetHeight,f=i.scrollLeft,c=i.scrollTop,{borderTopWidth:d,borderLeftWidth:b}=getComputedStyle(i),p=i.scrollLeft+parseInt(b,10),v=i.scrollTop+parseInt(d,10),h=p+i.clientWidth,u=v+i.clientHeight;t<=f?f=t-parseInt(b,10):t+l>h&&(f+=t+l-h),r<=v?c=r-parseInt(d,10):r+s>u&&(c+=r+s-u),i.scrollLeft=f,i.scrollTop=c}function ne(i,e,t){const r=t==="left"?"offsetLeft":"offsetTop";let l=0;for(;e.offsetParent&&(l+=e[r],e.offsetParent!==i);){if(e.offsetParent.contains(i)){l-=i[r];break}e=e.offsetParent}return l}function se(i,e){if(document.contains(i)){let f=document.scrollingElement||document.documentElement;if(window.getComputedStyle(f).overflow==="hidden"){let d=Ee(i);for(let b of d)ge(b,i)}else{var t;let{left:d,top:b}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:p,top:v}=i.getBoundingClientRect();if(Math.abs(d-p)>1||Math.abs(b-v)>1){var r,l,s;e==null||(l=e.containingElement)===null||l===void 0||(r=l.scrollIntoView)===null||r===void 0||r.call(l,{block:"center",inline:"center"}),(s=i.scrollIntoView)===null||s===void 0||s.call(i,{block:"nearest"})}}}}let k=!1,V=0;function J(){k=!0,setTimeout(()=>{k=!1},50)}function ae(i){i.pointerType==="touch"&&J()}function Fe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ae):document.addEventListener("touchend",J),V++,()=>{V--,!(V>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ae):document.removeEventListener("touchend",J))}}function _e(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:l}=i,[s,f]=g.useState(!1),c=g.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;g.useEffect(Fe,[]);let{hoverProps:d,triggerHoverEnd:b}=g.useMemo(()=>{let p=(u,m)=>{if(c.pointerType=m,l||m==="touch"||c.isHovered||!u.currentTarget.contains(u.target))return;c.isHovered=!0;let K=u.currentTarget;c.target=K,e&&e({type:"hoverstart",target:K,pointerType:m}),t&&t(!0),f(!0)},v=(u,m)=>{if(c.pointerType="",c.target=null,m==="touch"||!c.isHovered)return;c.isHovered=!1;let K=u.currentTarget;r&&r({type:"hoverend",target:K,pointerType:m}),t&&t(!1),f(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=u=>{k&&u.pointerType==="mouse"||p(u,u.pointerType)},h.onPointerLeave=u=>{!l&&u.currentTarget.contains(u.target)&&v(u,u.pointerType)}):(h.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=u=>{!c.ignoreEmulatedMouseEvents&&!k&&p(u,"mouse"),c.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=u=>{!l&&u.currentTarget.contains(u.target)&&v(u,"mouse")}),{hoverProps:h,triggerHoverEnd:v}},[e,t,r,l,c]);return g.useEffect(()=>{l&&b({currentTarget:c.target},c.pointerType)},[l]),{hoverProps:d,isHovered:s}}const Re=500;function Me(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:r,onLongPress:l,threshold:s=Re,accessibilityDescription:f}=i;const c=g.useRef(void 0);let{addGlobalListener:d,removeGlobalListener:b}=me(),{pressProps:p}=he({isDisabled:e,onPressStart(h){if(h.continuePropagation(),(h.pointerType==="mouse"||h.pointerType==="touch")&&(t&&t({...h,type:"longpressstart"}),c.current=setTimeout(()=>{h.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),l&&l({...h,type:"longpress"}),c.current=void 0},s),h.pointerType==="touch")){let u=m=>{m.preventDefault()};d(h.target,"contextmenu",u,{once:!0}),d(window,"pointerup",()=>{setTimeout(()=>{b(h.target,"contextmenu",u)},30)},{once:!0})}},onPressEnd(h){c.current&&clearTimeout(c.current),r&&(h.pointerType==="mouse"||h.pointerType==="touch")&&r({...h,type:"longpressend"})}}),v=Le(l&&!e?f:void 0);return{longPressProps:ee(p,v)}}let X=new Map;function Ne(i){let{locale:e}=ye(),t=e+(i?Object.entries(i).sort((l,s)=>l[0]<s[0]?-1:1).join():"");if(X.has(t))return X.get(t);let r=new Intl.Collator(e,i);return X.set(t,r),r}function Q(i){return De()?i.altKey:i.ctrlKey}function I(i){return xe()?i.metaKey:i.ctrlKey}const Ie=1e3;function Ae(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:r}=i,l=g.useRef({search:"",timeout:null}).current,s=f=>{let c=Be(f.key);if(!c||f.ctrlKey||f.metaKey||!f.currentTarget.contains(f.target))return;c===" "&&l.search.trim().length>0&&(f.preventDefault(),"continuePropagation"in f||f.stopPropagation()),l.search+=c;let d=e.getKeyForSearch(l.search,t.focusedKey);d==null&&(d=e.getKeyForSearch(l.search)),d!=null&&(t.setFocusedKey(d),r&&r(d)),clearTimeout(l.timeout),l.timeout=setTimeout(()=>{l.search=""},Ie)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:null}}}function Be(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function Oe(i){let{selectionManager:e,keyboardDelegate:t,ref:r,autoFocus:l=!1,shouldFocusWrap:s=!1,disallowEmptySelection:f=!1,disallowSelectAll:c=!1,selectOnFocus:d=e.selectionBehavior==="replace",disallowTypeAhead:b=!1,shouldUseVirtualFocus:p,allowsTabNavigation:v=!1,isVirtualized:h,scrollRef:u=r,linkBehavior:m="action"}=i,{direction:K}=ye(),P=pe(),A=o=>{if(o.altKey&&o.key==="Tab"&&o.preventDefault(),!r.current.contains(o.target))return;const y=(a,M)=>{if(a!=null){if(e.isLink(a)&&m==="selection"&&d&&!Q(o)){Se.flushSync(()=>{e.setFocusedKey(a,M)});let N=u.current.querySelector(`[data-key="${CSS.escape(a.toString())}"]`),te=e.getItemProps(a);P.open(N,o,te.href,te.routerOptions);return}if(e.setFocusedKey(a,M),e.isLink(a)&&m==="override")return;o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(a):d&&!Q(o)&&e.replaceSelection(a)}};switch(o.key){case"ArrowDown":if(t.getKeyBelow){var x,$,T;let a=e.focusedKey!=null?(x=t.getKeyBelow)===null||x===void 0?void 0:x.call(t,e.focusedKey):($=t.getFirstKey)===null||$===void 0?void 0:$.call(t);a==null&&s&&(a=(T=t.getFirstKey)===null||T===void 0?void 0:T.call(t,e.focusedKey)),a!=null&&(o.preventDefault(),y(a))}break;case"ArrowUp":if(t.getKeyAbove){var w,O,n;let a=e.focusedKey!=null?(w=t.getKeyAbove)===null||w===void 0?void 0:w.call(t,e.focusedKey):(O=t.getLastKey)===null||O===void 0?void 0:O.call(t);a==null&&s&&(a=(n=t.getLastKey)===null||n===void 0?void 0:n.call(t,e.focusedKey)),a!=null&&(o.preventDefault(),y(a))}break;case"ArrowLeft":if(t.getKeyLeftOf){var E,W,U;let a=(E=t.getKeyLeftOf)===null||E===void 0?void 0:E.call(t,e.focusedKey);a==null&&s&&(a=K==="rtl"?(W=t.getFirstKey)===null||W===void 0?void 0:W.call(t,e.focusedKey):(U=t.getLastKey)===null||U===void 0?void 0:U.call(t,e.focusedKey)),a!=null&&(o.preventDefault(),y(a,K==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var j,z,G;let a=(j=t.getKeyRightOf)===null||j===void 0?void 0:j.call(t,e.focusedKey);a==null&&s&&(a=K==="rtl"?(z=t.getLastKey)===null||z===void 0?void 0:z.call(t,e.focusedKey):(G=t.getFirstKey)===null||G===void 0?void 0:G.call(t,e.focusedKey)),a!=null&&(o.preventDefault(),y(a,K==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){o.preventDefault();let a=t.getFirstKey(e.focusedKey,I(o));e.setFocusedKey(a),I(o)&&o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(a):d&&e.replaceSelection(a)}break;case"End":if(t.getLastKey){o.preventDefault();let a=t.getLastKey(e.focusedKey,I(o));e.setFocusedKey(a),I(o)&&o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(a):d&&e.replaceSelection(a)}break;case"PageDown":if(t.getKeyPageBelow){let a=t.getKeyPageBelow(e.focusedKey);a!=null&&(o.preventDefault(),y(a))}break;case"PageUp":if(t.getKeyPageAbove){let a=t.getKeyPageAbove(e.focusedKey);a!=null&&(o.preventDefault(),y(a))}break;case"a":I(o)&&e.selectionMode==="multiple"&&c!==!0&&(o.preventDefault(),e.selectAll());break;case"Escape":!f&&e.selectedKeys.size!==0&&(o.stopPropagation(),o.preventDefault(),e.clearSelection());break;case"Tab":if(!v){if(o.shiftKey)r.current.focus();else{let a=Te(r.current,{tabbable:!0}),M,N;do N=a.lastChild(),N&&(M=N);while(N);M&&!M.contains(document.activeElement)&&ie(M)}break}}},D=g.useRef({top:0,left:0});oe(u,"scroll",h?null:()=>{D.current={top:u.current.scrollTop,left:u.current.scrollLeft}});let B=o=>{if(e.isFocused){o.currentTarget.contains(o.target)||e.setFocused(!1);return}if(o.currentTarget.contains(o.target)){if(e.setFocused(!0),e.focusedKey==null){let $=w=>{w!=null&&(e.setFocusedKey(w),d&&e.replaceSelection(w))},T=o.relatedTarget;var y,x;T&&o.currentTarget.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?$((y=e.lastSelectedKey)!==null&&y!==void 0?y:t.getLastKey()):$((x=e.firstSelectedKey)!==null&&x!==void 0?x:t.getFirstKey())}else h||(u.current.scrollTop=D.current.top,u.current.scrollLeft=D.current.left);if(e.focusedKey!=null){let $=u.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);$&&($.contains(document.activeElement)||ie($),re()==="keyboard"&&se($,{containingElement:r.current}))}}},L=o=>{o.currentTarget.contains(o.relatedTarget)||e.setFocused(!1)};const S=g.useRef(l);g.useEffect(()=>{if(S.current){let o=null;l==="first"&&(o=t.getFirstKey()),l==="last"&&(o=t.getLastKey());let y=e.selectedKeys;if(y.size){for(let x of y)if(e.canSelectItem(x)){o=x;break}}e.setFocused(!0),e.setFocusedKey(o),o==null&&!p&&q(r.current)}},[]);let C=g.useRef(e.focusedKey);g.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==C.current||S.current)&&(u!=null&&u.current)){let o=re(),y=r.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!y)return;(o==="keyboard"||S.current)&&(ge(u.current,y),o!=="virtual"&&se(y,{containingElement:r.current}))}!p&&e.isFocused&&e.focusedKey==null&&C.current!=null&&q(r.current),C.current=e.focusedKey,S.current=!1}),oe(r,"react-aria-focus-scope-restore",o=>{o.preventDefault(),e.setFocused(!0)});let F={onKeyDown:A,onFocus:B,onBlur:L,onMouseDown(o){u.current===o.target&&o.preventDefault()}},{typeSelectProps:H}=Ae({keyboardDelegate:t,selectionManager:e});b||(F=ee(H,F));let R;return p||(R=e.focusedKey==null?0:-1),{collectionProps:{...F,tabIndex:R}}}function et(i){let{selectionManager:e,key:t,ref:r,shouldSelectOnPressUp:l,shouldUseVirtualFocus:s,focus:f,isDisabled:c,onAction:d,allowsDifferentPressOrigin:b,linkBehavior:p="action"}=i,v=pe(),h=n=>{if(n.pointerType==="keyboard"&&Q(n))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(p==="selection"){let E=e.getItemProps(t);v.open(r.current,n,E.href,E.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(p==="override"||p==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):n&&n.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||n&&(I(n)||n.pointerType==="touch"||n.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};g.useEffect(()=>{t===e.focusedKey&&e.isFocused&&!s&&(f?f():document.activeElement!==r.current&&q(r.current))},[r,t,e.focusedKey,e.childFocusStrategy,e.isFocused,s]),c=c||e.isDisabled(t);let u={};!s&&!c?u={tabIndex:t===e.focusedKey?0:-1,onFocus(n){n.target===r.current&&e.setFocusedKey(t)}}:c&&(u.onMouseDown=n=>{n.preventDefault()});let m=e.isLink(t)&&p==="override",K=e.isLink(t)&&p!=="selection"&&p!=="none",P=!c&&e.canSelectItem(t)&&!m,A=(d||K)&&!c,D=A&&(e.selectionBehavior==="replace"?!P:!P||e.isEmpty),B=A&&P&&e.selectionBehavior==="replace",L=D||B,S=g.useRef(null),C=L&&P,F=g.useRef(!1),H=g.useRef(!1),R=n=>{if(d&&d(),K){let E=e.getItemProps(t);v.open(r.current,n,E.href,E.routerOptions)}},o={};l?(o.onPressStart=n=>{S.current=n.pointerType,F.current=C,n.pointerType==="keyboard"&&(!L||ue())&&h(n)},b?(o.onPressUp=D?null:n=>{n.pointerType!=="keyboard"&&P&&h(n)},o.onPress=D?R:null):o.onPress=n=>{if(D||B&&n.pointerType!=="mouse"){if(n.pointerType==="keyboard"&&!ce())return;R(n)}else n.pointerType!=="keyboard"&&P&&h(n)}):(o.onPressStart=n=>{S.current=n.pointerType,F.current=C,H.current=D,P&&(n.pointerType==="mouse"&&!D||n.pointerType==="keyboard"&&(!A||ue()))&&h(n)},o.onPress=n=>{(n.pointerType==="touch"||n.pointerType==="pen"||n.pointerType==="virtual"||n.pointerType==="keyboard"&&L&&ce()||n.pointerType==="mouse"&&H.current)&&(L?R(n):P&&h(n))}),u["data-key"]=t,o.preventFocusOnPress=s;let{pressProps:y,isPressed:x}=he(o),$=B?n=>{S.current==="mouse"&&(n.stopPropagation(),n.preventDefault(),R(n))}:void 0,{longPressProps:T}=Me({isDisabled:!C,onLongPress(n){n.pointerType==="touch"&&(h(n),e.setSelectionBehavior("toggle"))}}),w=n=>{S.current==="touch"&&F.current&&n.preventDefault()},O=e.isLink(t)?n=>{$e.isOpening||n.preventDefault()}:void 0;return{itemProps:ee(u,P||D?y:{},C?T:{},{onDoubleClick:$,onDragStartCapture:w,onClick:O}),isPressed:x,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:c,allowsSelection:P,hasAction:L}}function ce(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function ue(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class fe{getItemRect(e){let t=this.ref.current,r=e!=null?t.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null;if(!r)return null;let l=t.getBoundingClientRect(),s=r.getBoundingClientRect();return{x:s.left-l.left+t.scrollLeft,y:s.top-l.top+t.scrollTop,width:s.width,height:s.height}}getContentSize(){let e=this.ref.current;return{width:e.scrollWidth,height:e.scrollHeight}}getVisibleRect(){let e=this.ref.current;return{x:e.scrollLeft,y:e.scrollTop,width:e.offsetWidth,height:e.offsetHeight}}constructor(e){this.ref=e}}class He{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){for(;e!=null;){let r=this.collection.getItem(e);if((r==null?void 0:r.type)==="item"&&!this.isDisabled(r))return e;e=t(e)}return null}getNextKey(e){return e=this.collection.getKeyAfter(e),this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getPreviousKey(e){return e=this.collection.getKeyBefore(e),this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}findKey(e,t,r){let l=this.layoutDelegate.getItemRect(e);if(!l)return null;let s=l;do e=t(e),l=this.layoutDelegate.getItemRect(e);while(l&&r(s,l));return e}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(!Z(t))return this.getFirstKey();if(this.orientation==="horizontal"){let l=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>l;)e=this.getKeyAbove(e),r=e==null?null:this.layoutDelegate.getItemRect(e)}else{let l=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>l;)e=this.getKeyAbove(e),r=e==null?null:this.layoutDelegate.getItemRect(e)}return e??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(!Z(t))return this.getLastKey();if(this.orientation==="horizontal"){let l=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<l;)e=this.getKeyBelow(e),r=e==null?null:this.layoutDelegate.getItemRect(e)}else{let l=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<l;)e=this.getKeyBelow(e),r=e==null?null:this.layoutDelegate.getItemRect(e)}return e??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,l=t||this.getFirstKey();for(;l!=null;){let s=r.getItem(l),f=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(f,e)===0)return l;l=this.getNextKey(l)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new fe(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new fe(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function tt(i){let{selectionManager:e,collection:t,disabledKeys:r,ref:l,keyboardDelegate:s,layoutDelegate:f}=i,c=Ne({usage:"search",sensitivity:"base"}),d=e.disabledBehavior,b=g.useMemo(()=>s||new He({collection:t,disabledKeys:r,disabledBehavior:d,ref:l,collator:c,layoutDelegate:f}),[s,f,t,r,l,c,d]),{collectionProps:p}=Oe({...i,ref:l,selectionManager:e,keyboardDelegate:b});return{listProps:p}}function be(i){return null}be.getCollectionNode=function*(e,t){let{childItems:r,title:l,children:s}=e,f=e.title||e.children,c=e.textValue||(typeof f=="string"?f:"")||e["aria-label"]||"";!c&&!(t!=null&&t.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:f,textValue:c,"aria-label":e["aria-label"],hasChildNodes:ke(e),*childNodes(){if(r)for(let d of r)yield{type:"item",value:d};else if(l){let d=[];_.Children.forEach(s,b=>{d.push({type:"item",element:b})}),yield*d}}}};function ke(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&_.Children.count(i.children)>0)}let We=be;function ve(i){return null}ve.getCollectionNode=function*(e){let{children:t,title:r,items:l}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:r,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");for(let s of l)yield{type:"item",value:s,renderer:t}}else{let s=[];_.Children.forEach(t,f=>{s.push({type:"item",element:f})}),yield*s}}}};let Ue=ve;const de=new WeakMap;function it(i){let e=de.get(i);if(e!=null)return e;e=0;let t=r=>{for(let l of r)l.type==="section"?t(we(l,i)):e++};return t(i),de.set(i,e),e}const rt=(i,e)=>({"aria-label":i,children:e.map(({id:t,menuItems:r,ariaLabel:l})=>le.jsx(Ue,{title:t,"aria-label":l,children:r.map(s=>le.jsx(We,{children:s.title},s.id))},t))}),lt=i=>i.flatMap(({menuItems:e})=>e),ot=i=>i.reduce((e,t)=>({...e,[t.id]:t}),{}),nt=i=>new Set(i.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{tt as $,et as a,We as b,it as c,_e as d,ot as e,nt as f,lt as g,Ne as h,He as i,Ae as j,Me as k,rt as m};
