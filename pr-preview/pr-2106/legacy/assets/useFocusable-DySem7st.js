import{m as he,h as Pe,j as B,n as me,g as se,c as w,o as Ee,p as Z,b as W,l as Se,f as Ke}from"./useFocusRing-BuOUPy6p.js";import{r as $,R as le}from"./index-BEEaWAwe.js";import{a as fe,c as we}from"./chain-Ck9CKbau.js";import{$ as xe,a as I}from"./SSRProvider-4hSGecE0.js";function ue(e){var r,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=ue(e[r]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function ke(){for(var e,r,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=ue(e))&&(i&&(i+=" "),i+=r);return i}function R(...e){let r={...e[0]};for(let n=1;n<e.length;n++){let i=e[n];for(let s in i){let u=r[s],f=i[s];typeof u=="function"&&typeof f=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?r[s]=fe(u,f):(s==="className"||s==="UNSAFE_className")&&typeof u=="string"&&typeof f=="string"?r[s]=ke(u,f):s==="id"&&u&&f?r.id=we(u,f):r[s]=f!==void 0?f:u}}return r}const Le=new Set(["id"]),Oe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Ce=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Me=/^(data-.*)$/;function it(e,r={}){let{labelable:n,isLink:i,propNames:s}=r,u={};for(const f in e)Object.prototype.hasOwnProperty.call(e,f)&&(Le.has(f)||n&&Oe.has(f)||i&&Ce.has(f)||s!=null&&s.has(f)||Me.test(f))&&(u[f]=e[f]);return u}function k(e){if(_e())e.focus({preventScroll:!0});else{let r=Ae(e);e.focus(),De(r)}}let F=null;function _e(){if(F==null){F=!1;try{document.createElement("div").focus({get preventScroll(){return F=!0,!0}})}catch{}}return F}function Ae(e){let r=e.parentNode,n=[],i=document.scrollingElement||document.documentElement;for(;r instanceof HTMLElement&&r!==i;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}function De(e){for(let{element:r,scrollTop:n,scrollLeft:i}of e)r.scrollTop=n,r.scrollLeft=i}const Ie=$.createContext({isNative:!0,open:Fe,useHref:e=>e});function Ue(){return $.useContext(Ie)}function ot(e,r){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function D(e,r,n=!0){var i,s;let{metaKey:u,ctrlKey:f,altKey:g,shiftKey:b}=r;he()&&(!((s=window.event)===null||s===void 0||(i=s.type)===null||i===void 0)&&i.startsWith("key"))&&e.target==="_blank"&&(B()?u=!0:f=!0);let T=Pe()&&B()&&!me()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:f,altKey:g,shiftKey:b}):new MouseEvent("click",{metaKey:u,ctrlKey:f,altKey:g,shiftKey:b,bubbles:!0,cancelable:!0});D.isOpening=n,k(e),e.dispatchEvent(T),D.isOpening=!1}D.isOpening=!1;function Ne(e,r){if(e instanceof HTMLAnchorElement)r(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),r(n),e.removeChild(n)}}function Fe(e,r){Ne(e,n=>D(n,r))}function st(e){let r=Ue();var n;const i=r.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?i:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let _=new Map,V=new Set;function ee(){if(typeof window>"u")return;function e(i){return"propertyName"in i}let r=i=>{if(!e(i)||!i.target)return;let s=_.get(i.target);s||(s=new Set,_.set(i.target,s),i.target.addEventListener("transitioncancel",n,{once:!0})),s.add(i.propertyName)},n=i=>{if(!e(i)||!i.target)return;let s=_.get(i.target);if(s&&(s.delete(i.propertyName),s.size===0&&(i.target.removeEventListener("transitioncancel",n),_.delete(i.target)),_.size===0)){for(let u of V)u();V.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?ee():document.addEventListener("DOMContentLoaded",ee));function ce(e){requestAnimationFrame(()=>{_.size===0?e():V.add(e)})}function He(){let e=$.useRef(new Map),r=$.useCallback((s,u,f,g)=>{let b=g!=null&&g.once?(...T)=>{e.current.delete(f),f(...T)}:f;e.current.set(f,{type:u,eventTarget:s,fn:b,options:g}),s.addEventListener(u,f,g)},[]),n=$.useCallback((s,u,f,g)=>{var b;let T=((b=e.current.get(f))===null||b===void 0?void 0:b.fn)||f;s.removeEventListener(u,T,g),e.current.delete(f)},[]),i=$.useCallback(()=>{e.current.forEach((s,u)=>{n(s.eventTarget,s.type,u,s.options)})},[n]);return $.useEffect(()=>i,[i]),{addGlobalListener:r,removeGlobalListener:n,removeAllGlobalListeners:i}}function de(e,r){xe(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}let A="default",q="",G=new WeakMap;function te(e){if(se()){if(A==="default"){const r=w(e);q=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}A="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(G.set(e,e.style.userSelect),e.style.userSelect="none")}function H(e){if(se()){if(A!=="disabled")return;A="restoring",setTimeout(()=>{ce(()=>{if(A==="restoring"){const r=w(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=q||""),q="",A="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&G.has(e)){let r=G.get(e);e.style.userSelect==="none"&&(e.style.userSelect=r),e.getAttribute("style")===""&&e.removeAttribute("style"),G.delete(e)}}const pe=le.createContext({register:()=>{}});pe.displayName="PressResponderContext";function Ye(e,r){return r.get?r.get.call(e):r.value}function ge(e,r,n){if(!r.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return r.get(e)}function Xe(e,r){var n=ge(e,r,"get");return Ye(e,n)}function Ge(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Re(e,r,n){Ge(e,r),r.set(e,n)}function je(e,r,n){if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}function re(e,r,n){var i=ge(e,r,"set");return je(e,i,n),n}function ze(e){let r=$.useContext(pe);if(r){let{register:n,...i}=r;e=R(i,e),n()}return de(r,e.ref),e}var Y=new WeakMap;class X{continuePropagation(){re(this,Y,!1)}get shouldStopPropagation(){return Xe(this,Y)}constructor(r,n,i,s){Re(this,Y,{writable:!0,value:void 0}),re(this,Y,!0);var u;let f=(u=s==null?void 0:s.target)!==null&&u!==void 0?u:i.currentTarget;const g=f==null?void 0:f.getBoundingClientRect();let b,T=0,y,U=null;i.clientX!=null&&i.clientY!=null&&(y=i.clientX,U=i.clientY),g&&(y!=null&&U!=null?(b=y-g.left,T=U-g.top):(b=g.width/2,T=g.height/2)),this.type=r,this.pointerType=n,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.x=b,this.y=T}}const ne=Symbol("linkClicked");function lt(e){let{onPress:r,onPressChange:n,onPressStart:i,onPressEnd:s,onPressUp:u,isDisabled:f,isPressed:g,preventFocusOnPress:b,shouldCancelOnPointerExit:T,allowTextSelectionOnPress:y,ref:U,...ve}=ze(e),[ye,Q]=$.useState(!1),L=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:S,removeAllGlobalListeners:O}=He(),P=I((t,c)=>{let h=L.current;if(f||h.didFirePressStart)return!1;let l=!0;if(h.isTriggeringEvent=!0,i){let p=new X("pressstart",c,t);i(p),l=p.shouldStopPropagation}return n&&n(!0),h.isTriggeringEvent=!1,h.didFirePressStart=!0,Q(!0),l}),v=I((t,c,h=!0)=>{let l=L.current;if(!l.didFirePressStart)return!1;l.ignoreClickAfterPress=!0,l.didFirePressStart=!1,l.isTriggeringEvent=!0;let p=!0;if(s){let a=new X("pressend",c,t);s(a),p=a.shouldStopPropagation}if(n&&n(!1),Q(!1),r&&h&&!f){let a=new X("press",c,t);r(a),p&&(p=a.shouldStopPropagation)}return l.isTriggeringEvent=!1,p}),C=I((t,c)=>{let h=L.current;if(f)return!1;if(u){h.isTriggeringEvent=!0;let l=new X("pressup",c,t);return u(l),h.isTriggeringEvent=!1,l.shouldStopPropagation}return!0}),x=I(t=>{let c=L.current;c.isPressed&&c.target&&(c.isOverTarget&&c.pointerType!=null&&v(E(c.target,t),c.pointerType,!1),c.isPressed=!1,c.isOverTarget=!1,c.activePointerId=null,c.pointerType=null,O(),y||H(c.target))}),N=I(t=>{T&&x(t)}),Te=$.useMemo(()=>{let t=L.current,c={onKeyDown(l){if(j(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)){var p;ie(l.target,l.key)&&l.preventDefault();let a=!0;if(!t.isPressed&&!l.repeat){t.target=l.currentTarget,t.isPressed=!0,a=P(l,"keyboard");let d=l.currentTarget,o=m=>{j(m,d)&&!m.repeat&&d.contains(m.target)&&t.target&&C(E(t.target,m),"keyboard")};S(w(l.currentTarget),"keyup",fe(o,h),!0)}a&&l.stopPropagation(),l.metaKey&&B()&&((p=t.metaKeyEvents)===null||p===void 0||p.set(l.key,l.nativeEvent))}else l.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(l){if(!(l&&!l.currentTarget.contains(l.target))&&l&&l.button===0&&!t.isTriggeringEvent&&!D.isOpening){let p=!0;if(f&&l.preventDefault(),!t.ignoreClickAfterPress&&!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Z(l.nativeEvent))){!f&&!b&&k(l.currentTarget);let a=P(l,"virtual"),d=C(l,"virtual"),o=v(l,"virtual");p=a&&d&&o}t.ignoreEmulatedMouseEvents=!1,t.ignoreClickAfterPress=!1,p&&l.stopPropagation()}}},h=l=>{var p;if(t.isPressed&&t.target&&j(l,t.target)){var a;ie(l.target,l.key)&&l.preventDefault();let o=l.target;v(E(t.target,l),"keyboard",t.target.contains(o)),O(),l.key!=="Enter"&&J(t.target)&&t.target.contains(o)&&!l[ne]&&(l[ne]=!0,D(t.target,l,!1)),t.isPressed=!1,(a=t.metaKeyEvents)===null||a===void 0||a.delete(l.key)}else if(l.key==="Meta"&&(!((p=t.metaKeyEvents)===null||p===void 0)&&p.size)){var d;let o=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let m of o.values())(d=t.target)===null||d===void 0||d.dispatchEvent(new KeyboardEvent("keyup",m))}};if(typeof PointerEvent<"u"){c.onPointerDown=o=>{if(o.button!==0||!o.currentTarget.contains(o.target))return;if(Ee(o.nativeEvent)){t.pointerType="virtual";return}z(o.currentTarget)&&o.preventDefault(),t.pointerType=o.pointerType;let m=!0;t.isPressed||(t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=o.pointerId,t.target=o.currentTarget,!f&&!b&&k(o.currentTarget),y||te(t.target),m=P(o,t.pointerType),S(w(o.currentTarget),"pointermove",l,!1),S(w(o.currentTarget),"pointerup",p,!1),S(w(o.currentTarget),"pointercancel",d,!1)),m&&o.stopPropagation()},c.onMouseDown=o=>{o.currentTarget.contains(o.target)&&o.button===0&&(z(o.currentTarget)&&o.preventDefault(),o.stopPropagation())},c.onPointerUp=o=>{!o.currentTarget.contains(o.target)||t.pointerType==="virtual"||o.button===0&&M(o,o.currentTarget)&&C(o,t.pointerType||o.pointerType)};let l=o=>{o.pointerId===t.activePointerId&&(t.target&&M(o,t.target)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,P(E(t.target,o),t.pointerType)):t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,v(E(t.target,o),t.pointerType,!1),N(o)))},p=o=>{o.pointerId===t.activePointerId&&t.isPressed&&o.button===0&&t.target&&(M(o,t.target)&&t.pointerType!=null?v(E(t.target,o),t.pointerType):t.isOverTarget&&t.pointerType!=null&&v(E(t.target,o),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,O(),y||H(t.target),"ontouchend"in t.target&&o.pointerType!=="mouse"&&S(t.target,"touchend",a,{once:!0}))},a=o=>{be(o.currentTarget)&&o.preventDefault()},d=o=>{x(o)};c.onDragStart=o=>{o.currentTarget.contains(o.target)&&x(o)}}else{c.onMouseDown=a=>{if(a.button!==0||!a.currentTarget.contains(a.target))return;if(z(a.currentTarget)&&a.preventDefault(),t.ignoreEmulatedMouseEvents){a.stopPropagation();return}t.isPressed=!0,t.isOverTarget=!0,t.target=a.currentTarget,t.pointerType=Z(a.nativeEvent)?"virtual":"mouse",!f&&!b&&k(a.currentTarget),P(a,t.pointerType)&&a.stopPropagation(),S(w(a.currentTarget),"mouseup",l,!1)},c.onMouseEnter=a=>{if(!a.currentTarget.contains(a.target))return;let d=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!0,d=P(a,t.pointerType)),d&&a.stopPropagation()},c.onMouseLeave=a=>{if(!a.currentTarget.contains(a.target))return;let d=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!1,d=v(a,t.pointerType,!1),N(a)),d&&a.stopPropagation()},c.onMouseUp=a=>{a.currentTarget.contains(a.target)&&!t.ignoreEmulatedMouseEvents&&a.button===0&&C(a,t.pointerType||"mouse")};let l=a=>{if(a.button===0){if(t.isPressed=!1,O(),t.ignoreEmulatedMouseEvents){t.ignoreEmulatedMouseEvents=!1;return}t.target&&M(a,t.target)&&t.pointerType!=null?v(E(t.target,a),t.pointerType):t.target&&t.isOverTarget&&t.pointerType!=null&&v(E(t.target,a),t.pointerType,!1),t.isOverTarget=!1}};c.onTouchStart=a=>{if(!a.currentTarget.contains(a.target))return;let d=Be(a.nativeEvent);if(!d)return;t.activePointerId=d.identifier,t.ignoreEmulatedMouseEvents=!0,t.isOverTarget=!0,t.isPressed=!0,t.target=a.currentTarget,t.pointerType="touch",!f&&!b&&k(a.currentTarget),y||te(t.target),P(K(t.target,a),t.pointerType)&&a.stopPropagation(),S(W(a.currentTarget),"scroll",p,!0)},c.onTouchMove=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let d=ae(a.nativeEvent,t.activePointerId),o=!0;d&&M(d,a.currentTarget)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,o=P(K(t.target,a),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,o=v(K(t.target,a),t.pointerType,!1),N(K(t.target,a))),o&&a.stopPropagation()},c.onTouchEnd=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let d=ae(a.nativeEvent,t.activePointerId),o=!0;d&&M(d,a.currentTarget)&&t.pointerType!=null?(C(K(t.target,a),t.pointerType),o=v(K(t.target,a),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(o=v(K(t.target,a),t.pointerType,!1)),o&&a.stopPropagation(),t.isPressed=!1,t.activePointerId=null,t.isOverTarget=!1,t.ignoreEmulatedMouseEvents=!0,t.target&&!y&&H(t.target),O()},c.onTouchCancel=a=>{a.currentTarget.contains(a.target)&&(a.stopPropagation(),t.isPressed&&x(K(t.target,a)))};let p=a=>{t.isPressed&&a.target.contains(t.target)&&x({currentTarget:t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};c.onDragStart=a=>{a.currentTarget.contains(a.target)&&x(a)}}return c},[S,f,b,O,y,x,N,v,P,C]);return $.useEffect(()=>()=>{var t;y||H((t=L.current.target)!==null&&t!==void 0?t:void 0)},[y]),{isPressed:g||ye,pressProps:R(ve,Te)}}function J(e){return e.tagName==="A"&&e.hasAttribute("href")}function j(e,r){const{key:n,code:i}=e,s=r,u=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||i==="Space")&&!(s instanceof W(s).HTMLInputElement&&!$e(s,n)||s instanceof W(s).HTMLTextAreaElement||s.isContentEditable)&&!((u==="link"||!u&&J(s))&&n!=="Enter")}function Be(e){const{targetTouches:r}=e;return r.length>0?r[0]:null}function ae(e,r){const n=e.changedTouches;for(let i=0;i<n.length;i++){const s=n[i];if(s.identifier===r)return s}return null}function K(e,r){let n=0,i=0;return r.targetTouches&&r.targetTouches.length===1&&(n=r.targetTouches[0].clientX,i=r.targetTouches[0].clientY),{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:n,clientY:i}}function E(e,r){let n=r.clientX,i=r.clientY;return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:n,clientY:i}}function We(e){let r=0,n=0;return e.width!==void 0?r=e.width/2:e.radiusX!==void 0&&(r=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+r,bottom:e.clientY+n,left:e.clientX-r}}function Ve(e,r){return!(e.left>r.right||r.left>e.right||e.top>r.bottom||r.top>e.bottom)}function M(e,r){let n=r.getBoundingClientRect(),i=We(e);return Ve(n,i)}function z(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function be(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!J(e)}function ie(e,r){return e instanceof HTMLInputElement?!$e(e,r):be(e)}const qe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $e(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":qe.has(e.type)}function oe(e){if(!e)return;let r=!0;return n=>{let i={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){r=!1}};e(i),r&&n.stopPropagation()}}function Je(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:oe(e.onKeyDown),onKeyUp:oe(e.onKeyUp)}}}function Qe(e){const r=w(e);if(Se()==="virtual"){let n=r.activeElement;ce(()=>{r.activeElement===n&&e.isConnected&&k(e)})}else k(e)}let Ze=le.createContext(null);function et(e){let r=$.useContext(Ze)||{};de(r,e);let{ref:n,...i}=r;return i}function ft(e,r){let{focusProps:n}=Ke(e),{keyboardProps:i}=Je(e),s=R(n,i),u=et(r),f=e.isDisabled?{}:u,g=$.useRef(e.autoFocus);return $.useEffect(()=>{g.current&&r.current&&Qe(r.current),g.current=!1},[r]),{focusableProps:R({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},f)}}export{lt as $,ft as a,R as b,it as c,Ue as d,st as e,ot as f,Qe as g,Je as h,He as i,k as j,D as k,ke as l};
