import{r as g,R as _}from"./index-BEEaWAwe.js";import{i as $e,$ as he,b as ee,d as pe,g as q,j as ie,k as ve}from"./useFocusable-DySem7st.js";import{$ as Ke,a as Pe}from"./SSRProvider-4hSGecE0.js";import{k as xe,j as De,l as ne}from"./useFocusRing-BuOUPy6p.js";import{r as Se}from"./index-CJX6plO5.js";import{b as Te}from"./FocusScope-CqItlJEB.js";import{$ as Z}from"./isScrollable-Bts8_1NI.js";import{$ as ye}from"./context-DXnD6xbD.js";import{c as we}from"./SelectionManager-LV9dL26g.js";import{j as re}from"./jsx-runtime-BvI67ttx.js";function Ee(i,e){const t=[];for(;i&&i!==document.documentElement;)Z(i,e)&&t.push(i),i=i.parentElement;return t}let Ce=0;const Y=new Map;function Le(i){let[e,t]=g.useState();return Ke(()=>{if(!i)return;let n=Y.get(i);if(n)t(n.element.id);else{let r=`react-aria-description-${Ce++}`;t(r);let s=document.createElement("div");s.id=r,s.style.display="none",s.textContent=i,document.body.appendChild(s),n={refCount:0,element:s},Y.set(i,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),Y.delete(i))}},[i]),{"aria-describedby":i?e:void 0}}function le(i,e,t,n){let r=Pe(t),s=t==null;g.useEffect(()=>{if(s||!i.current)return;let f=i.current;return f.addEventListener(e,r,n),()=>{f.removeEventListener(e,r,n)}},[i,e,n,s,r])}function ge(i,e){let t=oe(i,e,"left"),n=oe(i,e,"top"),r=e.offsetWidth,s=e.offsetHeight,f=i.scrollLeft,u=i.scrollTop,{borderTopWidth:d,borderLeftWidth:b}=getComputedStyle(i),p=i.scrollLeft+parseInt(b,10),m=i.scrollTop+parseInt(d,10),h=p+i.clientWidth,c=m+i.clientHeight;t<=f?f=t-parseInt(b,10):t+r>h&&(f+=t+r-h),n<=m?u=n-parseInt(d,10):n+s>c&&(u+=n+s-c),i.scrollLeft=f,i.scrollTop=u}function oe(i,e,t){const n=t==="left"?"offsetLeft":"offsetTop";let r=0;for(;e.offsetParent&&(r+=e[n],e.offsetParent!==i);){if(e.offsetParent.contains(i)){r-=i[n];break}e=e.offsetParent}return r}function se(i,e){if(document.contains(i)){let f=document.scrollingElement||document.documentElement;if(window.getComputedStyle(f).overflow==="hidden"){let d=Ee(i);for(let b of d)ge(b,i)}else{var t;let{left:d,top:b}=i.getBoundingClientRect();i==null||(t=i.scrollIntoView)===null||t===void 0||t.call(i,{block:"nearest"});let{left:p,top:m}=i.getBoundingClientRect();if(Math.abs(d-p)>1||Math.abs(b-m)>1){var n,r,s;e==null||(r=e.containingElement)===null||r===void 0||(n=r.scrollIntoView)===null||n===void 0||n.call(r,{block:"center",inline:"center"}),(s=i.scrollIntoView)===null||s===void 0||s.call(i,{block:"nearest"})}}}}let k=!1,V=0;function J(){k=!0,setTimeout(()=>{k=!1},50)}function ae(i){i.pointerType==="touch"&&J()}function Fe(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",ae):document.addEventListener("touchend",J),V++,()=>{V--,!(V>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",ae):document.removeEventListener("touchend",J))}}function _e(i){let{onHoverStart:e,onHoverChange:t,onHoverEnd:n,isDisabled:r}=i,[s,f]=g.useState(!1),u=g.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;g.useEffect(Fe,[]);let{hoverProps:d,triggerHoverEnd:b}=g.useMemo(()=>{let p=(c,$)=>{if(u.pointerType=$,r||$==="touch"||u.isHovered||!c.currentTarget.contains(c.target))return;u.isHovered=!0;let K=c.currentTarget;u.target=K,e&&e({type:"hoverstart",target:K,pointerType:$}),t&&t(!0),f(!0)},m=(c,$)=>{if(u.pointerType="",u.target=null,$==="touch"||!u.isHovered)return;u.isHovered=!1;let K=c.currentTarget;n&&n({type:"hoverend",target:K,pointerType:$}),t&&t(!1),f(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=c=>{k&&c.pointerType==="mouse"||p(c,c.pointerType)},h.onPointerLeave=c=>{!r&&c.currentTarget.contains(c.target)&&m(c,c.pointerType)}):(h.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=c=>{!u.ignoreEmulatedMouseEvents&&!k&&p(c,"mouse"),u.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=c=>{!r&&c.currentTarget.contains(c.target)&&m(c,"mouse")}),{hoverProps:h,triggerHoverEnd:m}},[e,t,n,r,u]);return g.useEffect(()=>{r&&b({currentTarget:u.target},u.pointerType)},[r]),{hoverProps:d,isHovered:s}}const Re=500;function Me(i){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:n,onLongPress:r,threshold:s=Re,accessibilityDescription:f}=i;const u=g.useRef(void 0);let{addGlobalListener:d,removeGlobalListener:b}=$e(),{pressProps:p}=he({isDisabled:e,onPressStart(h){if(h.continuePropagation(),(h.pointerType==="mouse"||h.pointerType==="touch")&&(t&&t({...h,type:"longpressstart"}),u.current=setTimeout(()=>{h.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),r&&r({...h,type:"longpress"}),u.current=void 0},s),h.pointerType==="touch")){let c=$=>{$.preventDefault()};d(h.target,"contextmenu",c,{once:!0}),d(window,"pointerup",()=>{setTimeout(()=>{b(h.target,"contextmenu",c)},30)},{once:!0})}},onPressEnd(h){u.current&&clearTimeout(u.current),n&&(h.pointerType==="mouse"||h.pointerType==="touch")&&n({...h,type:"longpressend"})}}),m=Le(r&&!e?f:void 0);return{longPressProps:ee(p,m)}}let X=new Map;function Ne(i){let{locale:e}=ye(),t=e+(i?Object.entries(i).sort((r,s)=>r[0]<s[0]?-1:1).join():"");if(X.has(t))return X.get(t);let n=new Intl.Collator(e,i);return X.set(t,n),n}function Q(i){return xe()?i.altKey:i.ctrlKey}function I(i){return De()?i.metaKey:i.ctrlKey}const Ie=1e3;function Ae(i){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:n}=i,r=g.useRef({search:"",timeout:null}).current,s=f=>{let u=Be(f.key);if(!u||f.ctrlKey||f.metaKey||!f.currentTarget.contains(f.target))return;u===" "&&r.search.trim().length>0&&(f.preventDefault(),"continuePropagation"in f||f.stopPropagation()),r.search+=u;let d=e.getKeyForSearch(r.search,t.focusedKey);d==null&&(d=e.getKeyForSearch(r.search)),d!=null&&(t.setFocusedKey(d),n&&n(d)),clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.search=""},Ie)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:null}}}function Be(i){return i.length===1||!/^[A-Z]/i.test(i)?i:""}function Oe(i){let{selectionManager:e,keyboardDelegate:t,ref:n,autoFocus:r=!1,shouldFocusWrap:s=!1,disallowEmptySelection:f=!1,disallowSelectAll:u=!1,selectOnFocus:d=e.selectionBehavior==="replace",disallowTypeAhead:b=!1,shouldUseVirtualFocus:p,allowsTabNavigation:m=!1,isVirtualized:h,scrollRef:c=n,linkBehavior:$="action"}=i,{direction:K}=ye(),P=pe(),A=l=>{if(l.altKey&&l.key==="Tab"&&l.preventDefault(),!n.current.contains(l.target))return;const y=(a,M)=>{if(a!=null){if(e.isLink(a)&&$==="selection"&&d&&!Q(l)){Se.flushSync(()=>{e.setFocusedKey(a,M)});let N=c.current.querySelector(`[data-key="${CSS.escape(a.toString())}"]`),te=e.getItemProps(a);P.open(N,l,te.href,te.routerOptions);return}if(e.setFocusedKey(a,M),e.isLink(a)&&$==="override")return;l.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(a):d&&!Q(l)&&e.replaceSelection(a)}};switch(l.key){case"ArrowDown":if(t.getKeyBelow){var x,v,T;let a=e.focusedKey!=null?(x=t.getKeyBelow)===null||x===void 0?void 0:x.call(t,e.focusedKey):(v=t.getFirstKey)===null||v===void 0?void 0:v.call(t);a==null&&s&&(a=(T=t.getFirstKey)===null||T===void 0?void 0:T.call(t,e.focusedKey)),a!=null&&(l.preventDefault(),y(a))}break;case"ArrowUp":if(t.getKeyAbove){var w,O,o;let a=e.focusedKey!=null?(w=t.getKeyAbove)===null||w===void 0?void 0:w.call(t,e.focusedKey):(O=t.getLastKey)===null||O===void 0?void 0:O.call(t);a==null&&s&&(a=(o=t.getLastKey)===null||o===void 0?void 0:o.call(t,e.focusedKey)),a!=null&&(l.preventDefault(),y(a))}break;case"ArrowLeft":if(t.getKeyLeftOf){var E,W,U;let a=(E=t.getKeyLeftOf)===null||E===void 0?void 0:E.call(t,e.focusedKey);a==null&&s&&(a=K==="rtl"?(W=t.getFirstKey)===null||W===void 0?void 0:W.call(t,e.focusedKey):(U=t.getLastKey)===null||U===void 0?void 0:U.call(t,e.focusedKey)),a!=null&&(l.preventDefault(),y(a,K==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var j,z,G;let a=(j=t.getKeyRightOf)===null||j===void 0?void 0:j.call(t,e.focusedKey);a==null&&s&&(a=K==="rtl"?(z=t.getLastKey)===null||z===void 0?void 0:z.call(t,e.focusedKey):(G=t.getFirstKey)===null||G===void 0?void 0:G.call(t,e.focusedKey)),a!=null&&(l.preventDefault(),y(a,K==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){l.preventDefault();let a=t.getFirstKey(e.focusedKey,I(l));e.setFocusedKey(a),I(l)&&l.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(a):d&&e.replaceSelection(a)}break;case"End":if(t.getLastKey){l.preventDefault();let a=t.getLastKey(e.focusedKey,I(l));e.setFocusedKey(a),I(l)&&l.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(a):d&&e.replaceSelection(a)}break;case"PageDown":if(t.getKeyPageBelow){let a=t.getKeyPageBelow(e.focusedKey);a!=null&&(l.preventDefault(),y(a))}break;case"PageUp":if(t.getKeyPageAbove){let a=t.getKeyPageAbove(e.focusedKey);a!=null&&(l.preventDefault(),y(a))}break;case"a":I(l)&&e.selectionMode==="multiple"&&u!==!0&&(l.preventDefault(),e.selectAll());break;case"Escape":!f&&e.selectedKeys.size!==0&&(l.stopPropagation(),l.preventDefault(),e.clearSelection());break;case"Tab":if(!m){if(l.shiftKey)n.current.focus();else{let a=Te(n.current,{tabbable:!0}),M,N;do N=a.lastChild(),N&&(M=N);while(N);M&&!M.contains(document.activeElement)&&ie(M)}break}}},D=g.useRef({top:0,left:0});le(c,"scroll",h?null:()=>{D.current={top:c.current.scrollTop,left:c.current.scrollLeft}});let B=l=>{if(e.isFocused){l.currentTarget.contains(l.target)||e.setFocused(!1);return}if(l.currentTarget.contains(l.target)){if(e.setFocused(!0),e.focusedKey==null){let v=w=>{w!=null&&(e.setFocusedKey(w),d&&e.replaceSelection(w))},T=l.relatedTarget;var y,x;T&&l.currentTarget.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?v((y=e.lastSelectedKey)!==null&&y!==void 0?y:t.getLastKey()):v((x=e.firstSelectedKey)!==null&&x!==void 0?x:t.getFirstKey())}else h||(c.current.scrollTop=D.current.top,c.current.scrollLeft=D.current.left);if(e.focusedKey!=null){let v=c.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);v&&(v.contains(document.activeElement)||ie(v),ne()==="keyboard"&&se(v,{containingElement:n.current}))}}},L=l=>{l.currentTarget.contains(l.relatedTarget)||e.setFocused(!1)};const S=g.useRef(r);g.useEffect(()=>{if(S.current){let l=null;r==="first"&&(l=t.getFirstKey()),r==="last"&&(l=t.getLastKey());let y=e.selectedKeys;if(y.size){for(let x of y)if(e.canSelectItem(x)){l=x;break}}e.setFocused(!0),e.setFocusedKey(l),l==null&&!p&&q(n.current)}},[]);let C=g.useRef(e.focusedKey);g.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==C.current||S.current)&&(c!=null&&c.current)){let l=ne(),y=n.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!y)return;(l==="keyboard"||S.current)&&(ge(c.current,y),l!=="virtual"&&se(y,{containingElement:n.current}))}!p&&e.isFocused&&e.focusedKey==null&&C.current!=null&&q(n.current),C.current=e.focusedKey,S.current=!1}),le(n,"react-aria-focus-scope-restore",l=>{l.preventDefault(),e.setFocused(!0)});let F={onKeyDown:A,onFocus:B,onBlur:L,onMouseDown(l){c.current===l.target&&l.preventDefault()}},{typeSelectProps:H}=Ae({keyboardDelegate:t,selectionManager:e});b||(F=ee(H,F));let R;return p||(R=e.focusedKey==null?0:-1),{collectionProps:{...F,tabIndex:R}}}function et(i){let{selectionManager:e,key:t,ref:n,shouldSelectOnPressUp:r,shouldUseVirtualFocus:s,focus:f,isDisabled:u,onAction:d,allowsDifferentPressOrigin:b,linkBehavior:p="action"}=i,m=pe(),h=o=>{if(o.pointerType==="keyboard"&&Q(o))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(p==="selection"){let E=e.getItemProps(t);m.open(n.current,o,E.href,E.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(p==="override"||p==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):o&&o.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||o&&(I(o)||o.pointerType==="touch"||o.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};g.useEffect(()=>{t===e.focusedKey&&e.isFocused&&!s&&(f?f():document.activeElement!==n.current&&q(n.current))},[n,t,e.focusedKey,e.childFocusStrategy,e.isFocused,s]),u=u||e.isDisabled(t);let c={};!s&&!u?c={tabIndex:t===e.focusedKey?0:-1,onFocus(o){o.target===n.current&&e.setFocusedKey(t)}}:u&&(c.onMouseDown=o=>{o.preventDefault()});let $=e.isLink(t)&&p==="override",K=e.isLink(t)&&p!=="selection"&&p!=="none",P=!u&&e.canSelectItem(t)&&!$,A=(d||K)&&!u,D=A&&(e.selectionBehavior==="replace"?!P:!P||e.isEmpty),B=A&&P&&e.selectionBehavior==="replace",L=D||B,S=g.useRef(null),C=L&&P,F=g.useRef(!1),H=g.useRef(!1),R=o=>{if(d&&d(),K){let E=e.getItemProps(t);m.open(n.current,o,E.href,E.routerOptions)}},l={};r?(l.onPressStart=o=>{S.current=o.pointerType,F.current=C,o.pointerType==="keyboard"&&(!L||ce())&&h(o)},b?(l.onPressUp=D?null:o=>{o.pointerType!=="keyboard"&&P&&h(o)},l.onPress=D?R:null):l.onPress=o=>{if(D||B&&o.pointerType!=="mouse"){if(o.pointerType==="keyboard"&&!ue())return;R(o)}else o.pointerType!=="keyboard"&&P&&h(o)}):(l.onPressStart=o=>{S.current=o.pointerType,F.current=C,H.current=D,P&&(o.pointerType==="mouse"&&!D||o.pointerType==="keyboard"&&(!A||ce()))&&h(o)},l.onPress=o=>{(o.pointerType==="touch"||o.pointerType==="pen"||o.pointerType==="virtual"||o.pointerType==="keyboard"&&L&&ue()||o.pointerType==="mouse"&&H.current)&&(L?R(o):P&&h(o))}),c["data-key"]=t,l.preventFocusOnPress=s;let{pressProps:y,isPressed:x}=he(l),v=B?o=>{S.current==="mouse"&&(o.stopPropagation(),o.preventDefault(),R(o))}:void 0,{longPressProps:T}=Me({isDisabled:!C,onLongPress(o){o.pointerType==="touch"&&(h(o),e.setSelectionBehavior("toggle"))}}),w=o=>{S.current==="touch"&&F.current&&o.preventDefault()},O=e.isLink(t)?o=>{ve.isOpening||o.preventDefault()}:void 0;return{itemProps:ee(c,P||D?y:{},C?T:{},{onDoubleClick:v,onDragStartCapture:w,onClick:O}),isPressed:x,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:u,allowsSelection:P,hasAction:L}}function ue(){let i=window.event;return(i==null?void 0:i.key)==="Enter"}function ce(){let i=window.event;return(i==null?void 0:i.key)===" "||(i==null?void 0:i.code)==="Space"}class fe{getItemRect(e){let t=this.ref.current,n=e!=null?t.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null;if(!n)return null;let r=t.getBoundingClientRect(),s=n.getBoundingClientRect();return{x:s.left-r.left+t.scrollLeft,y:s.top-r.top+t.scrollTop,width:s.width,height:s.height}}getContentSize(){let e=this.ref.current;return{width:e.scrollWidth,height:e.scrollHeight}}getVisibleRect(){let e=this.ref.current;return{x:e.scrollLeft,y:e.scrollTop,width:e.offsetWidth,height:e.offsetHeight}}constructor(e){this.ref=e}}class He{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){for(;e!=null;){let n=this.collection.getItem(e);if((n==null?void 0:n.type)==="item"&&!this.isDisabled(n))return e;e=t(e)}return null}getNextKey(e){return e=this.collection.getKeyAfter(e),this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getPreviousKey(e){return e=this.collection.getKeyBefore(e),this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}findKey(e,t,n){let r=this.layoutDelegate.getItemRect(e);if(!r)return null;let s=r;do e=t(e),r=this.layoutDelegate.getItemRect(e);while(r&&n(s,r));return e}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,n=>this.layoutDelegate[t](n))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,n=>this.getNextColumn(n,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,n=>this.layoutDelegate[t](n))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,n=>this.getNextColumn(n,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,n=this.layoutDelegate.getItemRect(e);if(!n)return null;if(!Z(t))return this.getFirstKey();if(this.orientation==="horizontal"){let r=Math.max(0,n.x+n.width-this.layoutDelegate.getVisibleRect().width);for(;n&&n.x>r;)e=this.getKeyAbove(e),n=e==null?null:this.layoutDelegate.getItemRect(e)}else{let r=Math.max(0,n.y+n.height-this.layoutDelegate.getVisibleRect().height);for(;n&&n.y>r;)e=this.getKeyAbove(e),n=e==null?null:this.layoutDelegate.getItemRect(e)}return e??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,n=this.layoutDelegate.getItemRect(e);if(!n)return null;if(!Z(t))return this.getLastKey();if(this.orientation==="horizontal"){let r=Math.min(this.layoutDelegate.getContentSize().width,n.y-n.width+this.layoutDelegate.getVisibleRect().width);for(;n&&n.x<r;)e=this.getKeyBelow(e),n=e==null?null:this.layoutDelegate.getItemRect(e)}else{let r=Math.min(this.layoutDelegate.getContentSize().height,n.y-n.height+this.layoutDelegate.getVisibleRect().height);for(;n&&n.y<r;)e=this.getKeyBelow(e),n=e==null?null:this.layoutDelegate.getItemRect(e)}return e??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let n=this.collection,r=t||this.getFirstKey();for(;r!=null;){let s=n.getItem(r),f=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(f,e)===0)return r;r=this.getNextKey(r)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new fe(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new fe(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function tt(i){let{selectionManager:e,collection:t,disabledKeys:n,ref:r,keyboardDelegate:s,layoutDelegate:f}=i,u=Ne({usage:"search",sensitivity:"base"}),d=e.disabledBehavior,b=g.useMemo(()=>s||new He({collection:t,disabledKeys:n,disabledBehavior:d,ref:r,collator:u,layoutDelegate:f}),[s,f,t,n,r,u,d]),{collectionProps:p}=Oe({...i,ref:r,selectionManager:e,keyboardDelegate:b});return{listProps:p}}function be(i){return null}be.getCollectionNode=function*(e,t){let{childItems:n,title:r,children:s}=e,f=e.title||e.children,u=e.textValue||(typeof f=="string"?f:"")||e["aria-label"]||"";!u&&!(t!=null&&t.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:f,textValue:u,"aria-label":e["aria-label"],hasChildNodes:ke(e),*childNodes(){if(n)for(let d of n)yield{type:"item",value:d};else if(r){let d=[];_.Children.forEach(s,b=>{d.push({type:"item",element:b})}),yield*d}}}};function ke(i){return i.hasChildItems!=null?i.hasChildItems:!!(i.childItems||i.title&&_.Children.count(i.children)>0)}let We=be;function me(i){return null}me.getCollectionNode=function*(e){let{children:t,title:n,items:r}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:n,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");for(let s of r)yield{type:"item",value:s,renderer:t}}else{let s=[];_.Children.forEach(t,f=>{s.push({type:"item",element:f})}),yield*s}}}};let Ue=me;const de=new WeakMap;function it(i){let e=de.get(i);if(e!=null)return e;e=0;let t=n=>{for(let r of n)r.type==="section"?t(we(r,i)):e++};return t(i),de.set(i,e),e}const nt=(i,e)=>({"aria-label":i,children:e.map(({id:t,menuItems:n,ariaLabel:r})=>re.jsx(Ue,{title:t,"aria-label":r,children:n.map(s=>re.jsx(We,{children:s.title},s.id))},t))}),rt=i=>i.flatMap(({menuItems:e})=>e),lt=i=>i.reduce((e,t)=>({...e,[t.id]:t}),{}),ot=i=>new Set(i.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{tt as $,et as a,We as b,it as c,_e as d,lt as e,ot as f,rt as g,Ne as h,He as i,Ae as j,Me as k,nt as m};
