import{m as Te,j as B,h as he,n as Pe,g as se,c as S,o as me,p as Z,b as W,l as Ee,f as Se}from"./useFocusRing-Vzyl7-Lk.js";import{r as b,R as le}from"./index-BwDkhjyp.js";import{a as ce,c as Ke}from"./chain-D5h1pgIF.js";import{$ as we,a as I}from"./SSRProvider-CYXx33DY.js";function fe(e){var r,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=fe(e[r]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function xe(){for(var e,r,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=fe(e))&&(i&&(i+=" "),i+=r);return i}function R(...e){let r={...e[0]};for(let n=1;n<e.length;n++){let i=e[n];for(let s in i){let f=r[s],c=i[s];typeof f=="function"&&typeof c=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?r[s]=ce(f,c):(s==="className"||s==="UNSAFE_className")&&typeof f=="string"&&typeof c=="string"?r[s]=xe(f,c):s==="id"&&f&&c?r.id=Ke(f,c):r[s]=c!==void 0?c:f}}return r}const ke=new Set(["id"]),Le=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Oe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Ce=/^(data-.*)$/;function at(e,r={}){let{labelable:n,isLink:i,propNames:s}=r,f={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(ke.has(c)||n&&Le.has(c)||i&&Oe.has(c)||s!=null&&s.has(c)||Ce.test(c))&&(f[c]=e[c]);return f}function x(e){if(Me())e.focus({preventScroll:!0});else{let r=Ae(e);e.focus(),_e(r)}}let F=null;function Me(){if(F==null){F=!1;try{document.createElement("div").focus({get preventScroll(){return F=!0,!0}})}catch{}}return F}function Ae(e){let r=e.parentNode,n=[],i=document.scrollingElement||document.documentElement;for(;r instanceof HTMLElement&&r!==i;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}function _e(e){for(let{element:r,scrollTop:n,scrollLeft:i}of e)r.scrollTop=n,r.scrollLeft=i}const De=b.createContext({isNative:!0,open:Ne,useHref:e=>e});function Ie(){return b.useContext(De)}function it(e,r){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function D(e,r,n=!0){var i,s;let{metaKey:f,ctrlKey:c,altKey:p,shiftKey:v}=r;Te()&&(!((s=window.event)===null||s===void 0||(i=s.type)===null||i===void 0)&&i.startsWith("key"))&&e.target==="_blank"&&(B()?f=!0:c=!0);let T=he()&&B()&&!Pe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:f,ctrlKey:c,altKey:p,shiftKey:v}):new MouseEvent("click",{metaKey:f,ctrlKey:c,altKey:p,shiftKey:v,bubbles:!0,cancelable:!0});D.isOpening=n,x(e),e.dispatchEvent(T),D.isOpening=!1}D.isOpening=!1;function Ue(e,r){if(e instanceof HTMLAnchorElement)r(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),r(n),e.removeChild(n)}}function Ne(e,r){Ue(e,n=>D(n,r))}function ot(e){let r=Ie();return{href:e!=null&&e.href?r.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let A=new Map,V=new Set;function ee(){if(typeof window>"u")return;function e(i){return"propertyName"in i}let r=i=>{if(!e(i)||!i.target)return;let s=A.get(i.target);s||(s=new Set,A.set(i.target,s),i.target.addEventListener("transitioncancel",n,{once:!0})),s.add(i.propertyName)},n=i=>{if(!e(i)||!i.target)return;let s=A.get(i.target);if(s&&(s.delete(i.propertyName),s.size===0&&(i.target.removeEventListener("transitioncancel",n),A.delete(i.target)),A.size===0)){for(let f of V)f();V.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?ee():document.addEventListener("DOMContentLoaded",ee));function ue(e){requestAnimationFrame(()=>{A.size===0?e():V.add(e)})}function Fe(){let e=b.useRef(new Map),r=b.useCallback((s,f,c,p)=>{let v=p!=null&&p.once?(...T)=>{e.current.delete(c),c(...T)}:c;e.current.set(c,{type:f,eventTarget:s,fn:v,options:p}),s.addEventListener(f,c,p)},[]),n=b.useCallback((s,f,c,p)=>{var v;let T=((v=e.current.get(c))===null||v===void 0?void 0:v.fn)||c;s.removeEventListener(f,T,p),e.current.delete(c)},[]),i=b.useCallback(()=>{e.current.forEach((s,f)=>{n(s.eventTarget,s.type,f,s.options)})},[n]);return b.useEffect(()=>i,[i]),{addGlobalListener:r,removeGlobalListener:n,removeAllGlobalListeners:i}}function de(e,r){we(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}let _="default",q="",G=new WeakMap;function te(e){if(se()){if(_==="default"){const r=S(e);q=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}_="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(G.set(e,e.style.userSelect),e.style.userSelect="none")}function H(e){if(se()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{ue(()=>{if(_==="restoring"){const r=S(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=q||""),q="",_="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&G.has(e)){let r=G.get(e);e.style.userSelect==="none"&&(e.style.userSelect=r),e.getAttribute("style")===""&&e.removeAttribute("style"),G.delete(e)}}const pe=le.createContext({register:()=>{}});pe.displayName="PressResponderContext";function He(e,r){return r.get?r.get.call(e):r.value}function ge(e,r,n){if(!r.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return r.get(e)}function Ye(e,r){var n=ge(e,r,"get");return He(e,n)}function Xe(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ge(e,r,n){Xe(e,r),r.set(e,n)}function Re(e,r,n){if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}function re(e,r,n){var i=ge(e,r,"set");return Re(e,i,n),n}function je(e){let r=b.useContext(pe);if(r){let{register:n,...i}=r;e=R(i,e),n()}return de(r,e.ref),e}var Y=new WeakMap;class X{continuePropagation(){re(this,Y,!1)}get shouldStopPropagation(){return Ye(this,Y)}constructor(r,n,i,s){Ge(this,Y,{writable:!0,value:void 0}),re(this,Y,!0);var f;let c=(f=s==null?void 0:s.target)!==null&&f!==void 0?f:i.currentTarget;const p=c==null?void 0:c.getBoundingClientRect();let v,T=0,y,U=null;i.clientX!=null&&i.clientY!=null&&(y=i.clientX,U=i.clientY),p&&(y!=null&&U!=null?(v=y-p.left,T=U-p.top):(v=p.width/2,T=p.height/2)),this.type=r,this.pointerType=n,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.x=v,this.y=T}}const ne=Symbol("linkClicked");function st(e){let{onPress:r,onPressChange:n,onPressStart:i,onPressEnd:s,onPressUp:f,isDisabled:c,isPressed:p,preventFocusOnPress:v,shouldCancelOnPointerExit:T,allowTextSelectionOnPress:y,ref:U,...be}=je(e),[$e,Q]=b.useState(!1),k=b.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:K,removeAllGlobalListeners:L}=Fe(),P=I((t,u)=>{let h=k.current;if(c||h.didFirePressStart)return!1;let l=!0;if(h.isTriggeringEvent=!0,i){let d=new X("pressstart",u,t);i(d),l=d.shouldStopPropagation}return n&&n(!0),h.isTriggeringEvent=!1,h.didFirePressStart=!0,Q(!0),l}),$=I((t,u,h=!0)=>{let l=k.current;if(!l.didFirePressStart)return!1;l.ignoreClickAfterPress=!0,l.didFirePressStart=!1,l.isTriggeringEvent=!0;let d=!0;if(s){let a=new X("pressend",u,t);s(a),d=a.shouldStopPropagation}if(n&&n(!1),Q(!1),r&&h&&!c){let a=new X("press",u,t);r(a),d&&(d=a.shouldStopPropagation)}return l.isTriggeringEvent=!1,d}),O=I((t,u)=>{let h=k.current;if(c)return!1;if(f){h.isTriggeringEvent=!0;let l=new X("pressup",u,t);return f(l),h.isTriggeringEvent=!1,l.shouldStopPropagation}return!0}),w=I(t=>{let u=k.current;u.isPressed&&u.target&&(u.isOverTarget&&u.pointerType!=null&&$(m(u.target,t),u.pointerType,!1),u.isPressed=!1,u.isOverTarget=!1,u.activePointerId=null,u.pointerType=null,L(),y||H(u.target))}),N=I(t=>{T&&w(t)}),ye=b.useMemo(()=>{let t=k.current,u={onKeyDown(l){if(j(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)){var d;ie(l.target,l.key)&&l.preventDefault();let a=!0;if(!t.isPressed&&!l.repeat){t.target=l.currentTarget,t.isPressed=!0,a=P(l,"keyboard");let o=l.currentTarget,g=C=>{j(C,o)&&!C.repeat&&o.contains(C.target)&&t.target&&O(m(t.target,C),"keyboard")};K(S(l.currentTarget),"keyup",ce(g,h),!0)}a&&l.stopPropagation(),l.metaKey&&B()&&((d=t.metaKeyEvents)===null||d===void 0||d.set(l.key,l.nativeEvent))}else l.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(l){if(!(l&&!l.currentTarget.contains(l.target))&&l&&l.button===0&&!t.isTriggeringEvent&&!D.isOpening){let d=!0;if(c&&l.preventDefault(),!t.ignoreClickAfterPress&&!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Z(l.nativeEvent))){!c&&!v&&x(l.currentTarget);let a=P(l,"virtual"),o=O(l,"virtual"),g=$(l,"virtual");d=a&&o&&g}t.ignoreEmulatedMouseEvents=!1,t.ignoreClickAfterPress=!1,d&&l.stopPropagation()}}},h=l=>{var d;if(t.isPressed&&t.target&&j(l,t.target)){var a;ie(l.target,l.key)&&l.preventDefault();let g=l.target;$(m(t.target,l),"keyboard",t.target.contains(g)),L(),l.key!=="Enter"&&J(t.target)&&t.target.contains(g)&&!l[ne]&&(l[ne]=!0,D(t.target,l,!1)),t.isPressed=!1,(a=t.metaKeyEvents)===null||a===void 0||a.delete(l.key)}else if(l.key==="Meta"&&(!((d=t.metaKeyEvents)===null||d===void 0)&&d.size)){var o;let g=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let C of g.values())(o=t.target)===null||o===void 0||o.dispatchEvent(new KeyboardEvent("keyup",C))}};if(typeof PointerEvent<"u"){u.onPointerDown=o=>{if(o.button!==0||!o.currentTarget.contains(o.target))return;if(me(o.nativeEvent)){t.pointerType="virtual";return}z(o.currentTarget)&&o.preventDefault(),t.pointerType=o.pointerType;let g=!0;t.isPressed||(t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=o.pointerId,t.target=o.currentTarget,!c&&!v&&x(o.currentTarget),y||te(t.target),g=P(o,t.pointerType),K(S(o.currentTarget),"pointermove",l,!1),K(S(o.currentTarget),"pointerup",d,!1),K(S(o.currentTarget),"pointercancel",a,!1)),g&&o.stopPropagation()},u.onMouseDown=o=>{o.currentTarget.contains(o.target)&&o.button===0&&(z(o.currentTarget)&&o.preventDefault(),o.stopPropagation())},u.onPointerUp=o=>{!o.currentTarget.contains(o.target)||t.pointerType==="virtual"||o.button===0&&M(o,o.currentTarget)&&O(o,t.pointerType||o.pointerType)};let l=o=>{o.pointerId===t.activePointerId&&(t.target&&M(o,t.target)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,P(m(t.target,o),t.pointerType)):t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,$(m(t.target,o),t.pointerType,!1),N(o)))},d=o=>{o.pointerId===t.activePointerId&&t.isPressed&&o.button===0&&t.target&&(M(o,t.target)&&t.pointerType!=null?$(m(t.target,o),t.pointerType):t.isOverTarget&&t.pointerType!=null&&$(m(t.target,o),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,L(),y||H(t.target))},a=o=>{w(o)};u.onDragStart=o=>{o.currentTarget.contains(o.target)&&w(o)}}else{u.onMouseDown=a=>{if(a.button!==0||!a.currentTarget.contains(a.target))return;if(z(a.currentTarget)&&a.preventDefault(),t.ignoreEmulatedMouseEvents){a.stopPropagation();return}t.isPressed=!0,t.isOverTarget=!0,t.target=a.currentTarget,t.pointerType=Z(a.nativeEvent)?"virtual":"mouse",!c&&!v&&x(a.currentTarget),P(a,t.pointerType)&&a.stopPropagation(),K(S(a.currentTarget),"mouseup",l,!1)},u.onMouseEnter=a=>{if(!a.currentTarget.contains(a.target))return;let o=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!0,o=P(a,t.pointerType)),o&&a.stopPropagation()},u.onMouseLeave=a=>{if(!a.currentTarget.contains(a.target))return;let o=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!1,o=$(a,t.pointerType,!1),N(a)),o&&a.stopPropagation()},u.onMouseUp=a=>{a.currentTarget.contains(a.target)&&!t.ignoreEmulatedMouseEvents&&a.button===0&&O(a,t.pointerType||"mouse")};let l=a=>{if(a.button===0){if(t.isPressed=!1,L(),t.ignoreEmulatedMouseEvents){t.ignoreEmulatedMouseEvents=!1;return}t.target&&M(a,t.target)&&t.pointerType!=null?$(m(t.target,a),t.pointerType):t.target&&t.isOverTarget&&t.pointerType!=null&&$(m(t.target,a),t.pointerType,!1),t.isOverTarget=!1}};u.onTouchStart=a=>{if(!a.currentTarget.contains(a.target))return;let o=ze(a.nativeEvent);if(!o)return;t.activePointerId=o.identifier,t.ignoreEmulatedMouseEvents=!0,t.isOverTarget=!0,t.isPressed=!0,t.target=a.currentTarget,t.pointerType="touch",!c&&!v&&x(a.currentTarget),y||te(t.target),P(E(t.target,a),t.pointerType)&&a.stopPropagation(),K(W(a.currentTarget),"scroll",d,!0)},u.onTouchMove=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let o=ae(a.nativeEvent,t.activePointerId),g=!0;o&&M(o,a.currentTarget)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,g=P(E(t.target,a),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,g=$(E(t.target,a),t.pointerType,!1),N(E(t.target,a))),g&&a.stopPropagation()},u.onTouchEnd=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let o=ae(a.nativeEvent,t.activePointerId),g=!0;o&&M(o,a.currentTarget)&&t.pointerType!=null?(O(E(t.target,a),t.pointerType),g=$(E(t.target,a),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(g=$(E(t.target,a),t.pointerType,!1)),g&&a.stopPropagation(),t.isPressed=!1,t.activePointerId=null,t.isOverTarget=!1,t.ignoreEmulatedMouseEvents=!0,t.target&&!y&&H(t.target),L()},u.onTouchCancel=a=>{a.currentTarget.contains(a.target)&&(a.stopPropagation(),t.isPressed&&w(E(t.target,a)))};let d=a=>{t.isPressed&&a.target.contains(t.target)&&w({currentTarget:t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};u.onDragStart=a=>{a.currentTarget.contains(a.target)&&w(a)}}return u},[K,c,v,L,y,w,N,$,P,O]);return b.useEffect(()=>()=>{var t;y||H((t=k.current.target)!==null&&t!==void 0?t:void 0)},[y]),{isPressed:p||$e,pressProps:R(be,ye)}}function J(e){return e.tagName==="A"&&e.hasAttribute("href")}function j(e,r){const{key:n,code:i}=e,s=r,f=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||i==="Space")&&!(s instanceof W(s).HTMLInputElement&&!ve(s,n)||s instanceof W(s).HTMLTextAreaElement||s.isContentEditable)&&!((f==="link"||!f&&J(s))&&n!=="Enter")}function ze(e){const{targetTouches:r}=e;return r.length>0?r[0]:null}function ae(e,r){const n=e.changedTouches;for(let i=0;i<n.length;i++){const s=n[i];if(s.identifier===r)return s}return null}function E(e,r){let n=0,i=0;return r.targetTouches&&r.targetTouches.length===1&&(n=r.targetTouches[0].clientX,i=r.targetTouches[0].clientY),{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:n,clientY:i}}function m(e,r){let n=r.clientX,i=r.clientY;return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:n,clientY:i}}function Be(e){let r=0,n=0;return e.width!==void 0?r=e.width/2:e.radiusX!==void 0&&(r=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+r,bottom:e.clientY+n,left:e.clientX-r}}function We(e,r){return!(e.left>r.right||r.left>e.right||e.top>r.bottom||r.top>e.bottom)}function M(e,r){let n=r.getBoundingClientRect(),i=Be(e);return We(n,i)}function z(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function ie(e,r){return e instanceof HTMLInputElement?!ve(e,r):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!J(e)}const Ve=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ve(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":Ve.has(e.type)}function oe(e){if(!e)return;let r=!0;return n=>{let i={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){r=!1}};e(i),r&&n.stopPropagation()}}function qe(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:oe(e.onKeyDown),onKeyUp:oe(e.onKeyUp)}}}function Je(e){const r=S(e);if(Ee()==="virtual"){let n=r.activeElement;ue(()=>{r.activeElement===n&&e.isConnected&&x(e)})}else x(e)}let Qe=le.createContext(null);function Ze(e){let r=b.useContext(Qe)||{};de(r,e);let{ref:n,...i}=r;return i}function lt(e,r){let{focusProps:n}=Se(e),{keyboardProps:i}=qe(e),s=R(n,i),f=Ze(r),c=e.isDisabled?{}:f,p=b.useRef(e.autoFocus);return b.useEffect(()=>{p.current&&r.current&&Je(r.current),p.current=!1},[r]),{focusableProps:R({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}export{st as $,lt as a,R as b,at as c,Ie as d,ot as e,it as f,Je as g,qe as h,Fe as i,x as j,D as k,xe as l};
