import{r as y,R as q}from"./index-BwDkhjyp.js";import{i as ge,$ as ce,b as Z,d as ue,g as G,j as Q,k as ye}from"./useFocusable-wKuCPQI4.js";import{$ as be,a as ve}from"./SSRProvider-CYXx33DY.js";import{k as me,j as $e,l as _}from"./useFocusRing-Vzyl7-Lk.js";import{r as Ke}from"./index-DxjWwZXO.js";import{b as Pe}from"./FocusScope-DegwnO3I.js";import{$ as Y}from"./isScrollable-Bts8_1NI.js";import{$ as fe}from"./context-C2PaECDE.js";import{c as Se}from"./SelectionManager-C_gdLktp.js";import{j as ee}from"./jsx-runtime-Nms4Y4qS.js";function xe(r,e){const t=[];for(;r&&r!==document.documentElement;)Y(r,e)&&t.push(r),r=r.parentElement;return t}let De=0;const U=new Map;function Te(r){let[e,t]=y.useState();return be(()=>{if(!r)return;let i=U.get(r);if(i)t(i.element.id);else{let l=`react-aria-description-${De++}`;t(l);let s=document.createElement("div");s.id=l,s.style.display="none",s.textContent=r,document.body.appendChild(s),i={refCount:0,element:s},U.set(r,i)}return i.refCount++,()=>{i&&--i.refCount===0&&(i.element.remove(),U.delete(r))}},[r]),{"aria-describedby":r?e:void 0}}function te(r,e,t,i){let l=ve(t),s=t==null;y.useEffect(()=>{if(s||!r.current)return;let u=r.current;return u.addEventListener(e,l,i),()=>{u.removeEventListener(e,l,i)}},[r,e,i,s,l])}function de(r,e){let t=re(r,e,"left"),i=re(r,e,"top"),l=e.offsetWidth,s=e.offsetHeight,u=r.scrollLeft,a=r.scrollTop,{borderTopWidth:d,borderLeftWidth:b}=getComputedStyle(r),p=r.scrollLeft+parseInt(b,10),v=r.scrollTop+parseInt(d,10),h=p+r.clientWidth,c=v+r.clientHeight;t<=u?u=t-parseInt(b,10):t+l>h&&(u+=t+l-h),i<=v?a=i-parseInt(d,10):i+s>c&&(a+=i+s-c),r.scrollLeft=u,r.scrollTop=a}function re(r,e,t){const i=t==="left"?"offsetLeft":"offsetTop";let l=0;for(;e.offsetParent&&(l+=e[i],e.offsetParent!==r);){if(e.offsetParent.contains(r)){l-=r[i];break}e=e.offsetParent}return l}function ie(r,e){if(document.contains(r)){let u=document.scrollingElement||document.documentElement;if(window.getComputedStyle(u).overflow==="hidden"){let d=xe(r);for(let b of d)de(b,r)}else{var t;let{left:d,top:b}=r.getBoundingClientRect();r==null||(t=r.scrollIntoView)===null||t===void 0||t.call(r,{block:"nearest"});let{left:p,top:v}=r.getBoundingClientRect();if(Math.abs(d-p)>1||Math.abs(b-v)>1){var i,l,s;e==null||(l=e.containingElement)===null||l===void 0||(i=l.scrollIntoView)===null||i===void 0||i.call(l,{block:"center",inline:"center"}),(s=r.scrollIntoView)===null||s===void 0||s.call(r,{block:"nearest"})}}}}let k=!1,j=0;function V(){k=!0,setTimeout(()=>{k=!1},50)}function le(r){r.pointerType==="touch"&&V()}function we(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",le):document.addEventListener("touchend",V),j++,()=>{j--,!(j>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",le):document.removeEventListener("touchend",V))}}function qe(r){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:l}=r,[s,u]=y.useState(!1),a=y.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;y.useEffect(we,[]);let{hoverProps:d,triggerHoverEnd:b}=y.useMemo(()=>{let p=(c,m)=>{if(a.pointerType=m,l||m==="touch"||a.isHovered||!c.currentTarget.contains(c.target))return;a.isHovered=!0;let K=c.currentTarget;a.target=K,e&&e({type:"hoverstart",target:K,pointerType:m}),t&&t(!0),u(!0)},v=(c,m)=>{if(a.pointerType="",a.target=null,m==="touch"||!a.isHovered)return;a.isHovered=!1;let K=c.currentTarget;i&&i({type:"hoverend",target:K,pointerType:m}),t&&t(!1),u(!1)},h={};return typeof PointerEvent<"u"?(h.onPointerEnter=c=>{k&&c.pointerType==="mouse"||p(c,c.pointerType)},h.onPointerLeave=c=>{!l&&c.currentTarget.contains(c.target)&&v(c,c.pointerType)}):(h.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},h.onMouseEnter=c=>{!a.ignoreEmulatedMouseEvents&&!k&&p(c,"mouse"),a.ignoreEmulatedMouseEvents=!1},h.onMouseLeave=c=>{!l&&c.currentTarget.contains(c.target)&&v(c,"mouse")}),{hoverProps:h,triggerHoverEnd:v}},[e,t,i,l,a]);return y.useEffect(()=>{l&&b({currentTarget:a.target},a.pointerType)},[l]),{hoverProps:d,isHovered:s}}const Ee=500;function Ce(r){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:i,onLongPress:l,threshold:s=Ee,accessibilityDescription:u}=r;const a=y.useRef(void 0);let{addGlobalListener:d,removeGlobalListener:b}=ge(),{pressProps:p}=ce({isDisabled:e,onPressStart(h){if(h.continuePropagation(),(h.pointerType==="mouse"||h.pointerType==="touch")&&(t&&t({...h,type:"longpressstart"}),a.current=setTimeout(()=>{h.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),l&&l({...h,type:"longpress"}),a.current=void 0},s),h.pointerType==="touch")){let c=m=>{m.preventDefault()};d(h.target,"contextmenu",c,{once:!0}),d(window,"pointerup",()=>{setTimeout(()=>{b(h.target,"contextmenu",c)},30)},{once:!0})}},onPressEnd(h){a.current&&clearTimeout(a.current),i&&(h.pointerType==="mouse"||h.pointerType==="touch")&&i({...h,type:"longpressend"})}}),v=Te(l&&!e?u:void 0);return{longPressProps:Z(p,v)}}let z=new Map;function Le(r){let{locale:e}=fe(),t=e+(r?Object.entries(r).sort((l,s)=>l[0]<s[0]?-1:1).join():"");if(z.has(t))return z.get(t);let i=new Intl.Collator(e,r);return z.set(t,i),i}function X(r){return me()?r.altKey:r.ctrlKey}function A(r){return $e()?r.metaKey:r.ctrlKey}const Fe=1e3;function Re(r){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:i}=r,l=y.useRef({search:"",timeout:null}).current,s=u=>{let a=Ie(u.key);if(!a||u.ctrlKey||u.metaKey||!u.currentTarget.contains(u.target))return;a===" "&&l.search.trim().length>0&&(u.preventDefault(),"continuePropagation"in u||u.stopPropagation()),l.search+=a;let d=e.getKeyForSearch(l.search,t.focusedKey);d==null&&(d=e.getKeyForSearch(l.search)),d!=null&&(t.setFocusedKey(d),i&&i(d)),clearTimeout(l.timeout),l.timeout=setTimeout(()=>{l.search=""},Fe)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:null}}}function Ie(r){return r.length===1||!/^[A-Z]/i.test(r)?r:""}function Me(r){let{selectionManager:e,keyboardDelegate:t,ref:i,autoFocus:l=!1,shouldFocusWrap:s=!1,disallowEmptySelection:u=!1,disallowSelectAll:a=!1,selectOnFocus:d=e.selectionBehavior==="replace",disallowTypeAhead:b=!1,shouldUseVirtualFocus:p,allowsTabNavigation:v=!1,isVirtualized:h,scrollRef:c=i,linkBehavior:m="action"}=r,{direction:K}=fe(),P=ue(),B=o=>{if(o.altKey&&o.key==="Tab"&&o.preventDefault(),!i.current.contains(o.target))return;const g=(f,I)=>{if(f!=null){if(e.isLink(f)&&m==="selection"&&d&&!X(o)){Ke.flushSync(()=>{e.setFocusedKey(f,I)});let M=c.current.querySelector(`[data-key="${CSS.escape(f.toString())}"]`),J=e.getItemProps(f);P.open(M,o,J.href,J.routerOptions);return}if(e.setFocusedKey(f,I),e.isLink(f)&&m==="override")return;o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(f):d&&!X(o)&&e.replaceSelection(f)}};switch(o.key){case"ArrowDown":if(t.getKeyBelow){var S,$;o.preventDefault();let f=e.focusedKey!=null?t.getKeyBelow(e.focusedKey):(S=t.getFirstKey)===null||S===void 0?void 0:S.call(t);f==null&&s&&(f=($=t.getFirstKey)===null||$===void 0?void 0:$.call(t,e.focusedKey)),g(f)}break;case"ArrowUp":if(t.getKeyAbove){var T,w;o.preventDefault();let f=e.focusedKey!=null?t.getKeyAbove(e.focusedKey):(T=t.getLastKey)===null||T===void 0?void 0:T.call(t);f==null&&s&&(f=(w=t.getLastKey)===null||w===void 0?void 0:w.call(t,e.focusedKey)),g(f)}break;case"ArrowLeft":if(t.getKeyLeftOf){var H,n;o.preventDefault();let f=t.getKeyLeftOf(e.focusedKey);f==null&&s&&(f=K==="rtl"?(H=t.getFirstKey)===null||H===void 0?void 0:H.call(t,e.focusedKey):(n=t.getLastKey)===null||n===void 0?void 0:n.call(t,e.focusedKey)),g(f,K==="rtl"?"first":"last")}break;case"ArrowRight":if(t.getKeyRightOf){var E,W;o.preventDefault();let f=t.getKeyRightOf(e.focusedKey);f==null&&s&&(f=K==="rtl"?(E=t.getLastKey)===null||E===void 0?void 0:E.call(t,e.focusedKey):(W=t.getFirstKey)===null||W===void 0?void 0:W.call(t,e.focusedKey)),g(f,K==="rtl"?"last":"first")}break;case"Home":if(t.getFirstKey){o.preventDefault();let f=t.getFirstKey(e.focusedKey,A(o));e.setFocusedKey(f),A(o)&&o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(f):d&&e.replaceSelection(f)}break;case"End":if(t.getLastKey){o.preventDefault();let f=t.getLastKey(e.focusedKey,A(o));e.setFocusedKey(f),A(o)&&o.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(f):d&&e.replaceSelection(f)}break;case"PageDown":if(t.getKeyPageBelow){o.preventDefault();let f=t.getKeyPageBelow(e.focusedKey);g(f)}break;case"PageUp":if(t.getKeyPageAbove){o.preventDefault();let f=t.getKeyPageAbove(e.focusedKey);g(f)}break;case"a":A(o)&&e.selectionMode==="multiple"&&a!==!0&&(o.preventDefault(),e.selectAll());break;case"Escape":!u&&e.selectedKeys.size!==0&&(o.stopPropagation(),o.preventDefault(),e.clearSelection());break;case"Tab":if(!v){if(o.shiftKey)i.current.focus();else{let f=Pe(i.current,{tabbable:!0}),I,M;do M=f.lastChild(),M&&(I=M);while(M);I&&!I.contains(document.activeElement)&&Q(I)}break}}},x=y.useRef({top:0,left:0});te(c,"scroll",h?null:()=>{x.current={top:c.current.scrollTop,left:c.current.scrollLeft}});let O=o=>{if(e.isFocused){o.currentTarget.contains(o.target)||e.setFocused(!1);return}if(o.currentTarget.contains(o.target)){if(e.setFocused(!0),e.focusedKey==null){let $=w=>{w!=null&&(e.setFocusedKey(w),d&&e.replaceSelection(w))},T=o.relatedTarget;var g,S;T&&o.currentTarget.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?$((g=e.lastSelectedKey)!==null&&g!==void 0?g:t.getLastKey()):$((S=e.firstSelectedKey)!==null&&S!==void 0?S:t.getFirstKey())}else h||(c.current.scrollTop=x.current.top,c.current.scrollLeft=x.current.left);if(e.focusedKey!=null){let $=c.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);$&&($.contains(document.activeElement)||Q($),_()==="keyboard"&&ie($,{containingElement:i.current}))}}},L=o=>{o.currentTarget.contains(o.relatedTarget)||e.setFocused(!1)};const D=y.useRef(l);y.useEffect(()=>{if(D.current){let o=null;l==="first"&&(o=t.getFirstKey()),l==="last"&&(o=t.getLastKey());let g=e.selectedKeys;if(g.size){for(let S of g)if(e.canSelectItem(S)){o=S;break}}e.setFocused(!0),e.setFocusedKey(o),o==null&&!p&&G(i.current)}},[]);let C=y.useRef(e.focusedKey);y.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==C.current||D.current)&&(c!=null&&c.current)){let o=_(),g=i.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!g)return;(o==="keyboard"||D.current)&&(de(c.current,g),o!=="virtual"&&ie(g,{containingElement:i.current}))}!p&&e.isFocused&&e.focusedKey==null&&C.current!=null&&G(i.current),C.current=e.focusedKey,D.current=!1}),te(i,"react-aria-focus-scope-restore",o=>{o.preventDefault(),e.setFocused(!0)});let F={onKeyDown:B,onFocus:O,onBlur:L,onMouseDown(o){c.current===o.target&&o.preventDefault()}},{typeSelectProps:N}=Re({keyboardDelegate:t,selectionManager:e});b||(F=Z(N,F));let R;return p||(R=e.focusedKey==null?0:-1),{collectionProps:{...F,tabIndex:R}}}function Ze(r){let{selectionManager:e,key:t,ref:i,shouldSelectOnPressUp:l,shouldUseVirtualFocus:s,focus:u,isDisabled:a,onAction:d,allowsDifferentPressOrigin:b,linkBehavior:p="action"}=r,v=ue(),h=n=>{if(n.pointerType==="keyboard"&&X(n))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(p==="selection"){let E=e.getItemProps(t);v.open(i.current,n,E.href,E.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(p==="override"||p==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):n&&n.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||n&&(A(n)||n.pointerType==="touch"||n.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};y.useEffect(()=>{t===e.focusedKey&&e.isFocused&&!s&&(u?u():document.activeElement!==i.current&&G(i.current))},[i,t,e.focusedKey,e.childFocusStrategy,e.isFocused,s]),a=a||e.isDisabled(t);let c={};!s&&!a?c={tabIndex:t===e.focusedKey?0:-1,onFocus(n){n.target===i.current&&e.setFocusedKey(t)}}:a&&(c.onMouseDown=n=>{n.preventDefault()});let m=e.isLink(t)&&p==="override",K=e.isLink(t)&&p!=="selection"&&p!=="none",P=!a&&e.canSelectItem(t)&&!m,B=(d||K)&&!a,x=B&&(e.selectionBehavior==="replace"?!P:!P||e.isEmpty),O=B&&P&&e.selectionBehavior==="replace",L=x||O,D=y.useRef(null),C=L&&P,F=y.useRef(!1),N=y.useRef(!1),R=n=>{if(d&&d(),K){let E=e.getItemProps(t);v.open(i.current,n,E.href,E.routerOptions)}},o={};l?(o.onPressStart=n=>{D.current=n.pointerType,F.current=C,n.pointerType==="keyboard"&&(!L||ne())&&h(n)},b?(o.onPressUp=x?null:n=>{n.pointerType!=="keyboard"&&P&&h(n)},o.onPress=x?R:null):o.onPress=n=>{if(x||O&&n.pointerType!=="mouse"){if(n.pointerType==="keyboard"&&!oe())return;R(n)}else n.pointerType!=="keyboard"&&P&&h(n)}):(o.onPressStart=n=>{D.current=n.pointerType,F.current=C,N.current=x,P&&(n.pointerType==="mouse"&&!x||n.pointerType==="keyboard"&&(!B||ne()))&&h(n)},o.onPress=n=>{(n.pointerType==="touch"||n.pointerType==="pen"||n.pointerType==="virtual"||n.pointerType==="keyboard"&&L&&oe()||n.pointerType==="mouse"&&N.current)&&(L?R(n):P&&h(n))}),c["data-key"]=t,o.preventFocusOnPress=s;let{pressProps:g,isPressed:S}=ce(o),$=O?n=>{D.current==="mouse"&&(n.stopPropagation(),n.preventDefault(),R(n))}:void 0,{longPressProps:T}=Ce({isDisabled:!C,onLongPress(n){n.pointerType==="touch"&&(h(n),e.setSelectionBehavior("toggle"))}}),w=n=>{D.current==="touch"&&F.current&&n.preventDefault()},H=e.isLink(t)?n=>{ye.isOpening||n.preventDefault()}:void 0;return{itemProps:Z(c,P||x?g:{},C?T:{},{onDoubleClick:$,onDragStartCapture:w,onClick:H}),isPressed:S,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:a,allowsSelection:P,hasAction:L}}function oe(){let r=window.event;return(r==null?void 0:r.key)==="Enter"}function ne(){let r=window.event;return(r==null?void 0:r.key)===" "||(r==null?void 0:r.code)==="Space"}class se{getItemRect(e){let t=this.ref.current,i=e!=null?t.querySelector(`[data-key="${CSS.escape(e.toString())}"]`):null;if(!i)return null;let l=t.getBoundingClientRect(),s=i.getBoundingClientRect();return{x:s.left-l.left+t.scrollLeft,y:s.top-l.top+t.scrollTop,width:s.width,height:s.height}}getContentSize(){let e=this.ref.current;return{width:e.scrollWidth,height:e.scrollHeight}}getVisibleRect(){let e=this.ref.current;return{x:e.scrollLeft,y:e.scrollTop,width:e.offsetWidth,height:e.offsetHeight}}constructor(e){this.ref=e}}class Ae{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}getNextKey(e){for(e=this.collection.getKeyAfter(e);e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,i){let l=this.layoutDelegate.getItemRect(e);if(!l)return null;let s=l;do e=t(e),l=this.layoutDelegate.getItemRect(e);while(l&&i(s,l));return e}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,t=>this.getNextColumn(t,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,t=>this.getNextColumn(t,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();for(;e!=null;){let t=this.collection.getItem(e);if((t==null?void 0:t.type)==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;e!=null;){let t=this.collection.getItem(e);if(t.type==="item"&&!this.isDisabled(t))return e;e=this.collection.getKeyBefore(e)}return null}getKeyPageAbove(e){let t=this.ref.current,i=this.layoutDelegate.getItemRect(e);if(!i)return null;if(!Y(t))return this.getFirstKey();if(this.orientation==="horizontal"){let l=Math.max(0,i.x+i.width-this.layoutDelegate.getVisibleRect().width);for(;i&&i.x>l;)e=this.getKeyAbove(e),i=e==null?null:this.layoutDelegate.getItemRect(e)}else{let l=Math.max(0,i.y+i.height-this.layoutDelegate.getVisibleRect().height);for(;i&&i.y>l;)e=this.getKeyAbove(e),i=e==null?null:this.layoutDelegate.getItemRect(e)}return e??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,i=this.layoutDelegate.getItemRect(e);if(!i)return null;if(!Y(t))return this.getLastKey();if(this.orientation==="horizontal"){let l=Math.min(this.layoutDelegate.getContentSize().width,i.y-i.width+this.layoutDelegate.getVisibleRect().width);for(;i&&i.x<l;)e=this.getKeyBelow(e),i=e==null?null:this.layoutDelegate.getItemRect(e)}else{let l=Math.min(this.layoutDelegate.getContentSize().height,i.y-i.height+this.layoutDelegate.getVisibleRect().height);for(;i&&i.y<l;)e=this.getKeyBelow(e),i=e==null?null:this.layoutDelegate.getItemRect(e)}return e??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let i=this.collection,l=t||this.getFirstKey();for(;l!=null;){let s=i.getItem(l),u=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(u,e)===0)return l;l=this.getKeyBelow(l)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new se(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new se(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Je(r){let{selectionManager:e,collection:t,disabledKeys:i,ref:l,keyboardDelegate:s,layoutDelegate:u}=r,a=Le({usage:"search",sensitivity:"base"}),d=e.disabledBehavior,b=y.useMemo(()=>s||new Ae({collection:t,disabledKeys:i,disabledBehavior:d,ref:l,collator:a,layoutDelegate:u}),[s,u,t,i,l,a,d]),{collectionProps:p}=Me({...r,ref:l,selectionManager:e,keyboardDelegate:b});return{listProps:p}}function he(r){return null}he.getCollectionNode=function*(e,t){let{childItems:i,title:l,children:s}=e,u=e.title||e.children,a=e.textValue||(typeof u=="string"?u:"")||e["aria-label"]||"";!a&&!(t!=null&&t.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:u,textValue:a,"aria-label":e["aria-label"],hasChildNodes:Be(e),*childNodes(){if(i)for(let d of i)yield{type:"item",value:d};else if(l){let d=[];q.Children.forEach(s,b=>{d.push({type:"item",element:b})}),yield*d}}}};function Be(r){return r.hasChildItems!=null?r.hasChildItems:!!(r.childItems||r.title&&q.Children.count(r.children)>0)}let Oe=he;function pe(r){return null}pe.getCollectionNode=function*(e){let{children:t,title:i,items:l}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:i,"aria-label":e["aria-label"],*childNodes(){if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");for(let s of l)yield{type:"item",value:s,renderer:t}}else{let s=[];q.Children.forEach(t,u=>{s.push({type:"item",element:u})}),yield*s}}}};let He=pe;const ae=new WeakMap;function Qe(r){let e=ae.get(r);if(e!=null)return e;e=0;let t=i=>{for(let l of i)l.type==="section"?t(Se(l,r)):e++};return t(r),ae.set(r,e),e}const _e=(r,e)=>({"aria-label":r,children:e.map(({id:t,menuItems:i,ariaLabel:l})=>ee.jsx(He,{title:t,"aria-label":l,children:i.map(s=>ee.jsx(Oe,{children:s.title},s.id))},t))}),et=r=>r.flatMap(({menuItems:e})=>e),tt=r=>r.reduce((e,t)=>({...e,[t.id]:t}),{}),rt=r=>new Set(r.reduce((e,t)=>[...e,t.disabled?t.id:""],[]).filter(e=>e!=="").map(e=>e.toString()));export{Je as $,Ze as a,Oe as b,Qe as c,qe as d,tt as e,rt as f,et as g,Le as h,Ae as i,Re as j,Ce as k,_e as m};
