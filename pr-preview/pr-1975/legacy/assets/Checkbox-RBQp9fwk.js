import{j as l}from"./jsx-runtime-Nms4Y4qS.js";import{r as o}from"./index-BwDkhjyp.js";import{$ as J,a as Q,b as Z}from"./useFormValidationState-Vs0Uifwm.js";import{$ as q,a as T,b as O,c as ee}from"./useFocusable-CAGu0lKI.js";import{$ as te}from"./useFocusRing-4Vnvtzpc.js";import{$ as se}from"./useControlledState-C0C-dzuH.js";import{I as ae}from"./InputLabel-DTQphj_R.js";import{I as re}from"./IconCheckMark-BVQYjlwc.js";import{I as ie}from"./IconMinus-BhxphMyC.js";import{I as R}from"./IconSize-BcCrF_mi.js";import{u as ne}from"./useMemoizedId-EtHZ7Sxa.js";import{F as le}from"./focusStyle-CBFElZiz.js";import{m as g}from"./merge-DI-veSMP.js";import{u as oe}from"./Button-CYWlMQhW.js";function de(e,a,r){let{isDisabled:s=!1,isReadOnly:n=!1,value:i,name:c,children:$,"aria-label":u,"aria-labelledby":b,validationState:m="valid",isInvalid:v}=e,k=w=>{w.stopPropagation(),a.setSelected(w.target.checked)},f=$!=null,d=u!=null||b!=null;!f&&!d&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:h,isPressed:p}=q({isDisabled:s}),{pressProps:t,isPressed:j}=q({isDisabled:s||n,onPress(){a.toggle()}}),{focusableProps:M}=T(e,r),F=O(h,M),I=ee(e,{labelable:!0});return J(r,a.isSelected,a.setSelected),{labelProps:O(t,{onClick:w=>w.preventDefault()}),inputProps:O(I,{"aria-invalid":v||m==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":n||void 0,onChange:k,disabled:s,...i==null?{}:{value:i},name:c,type:"checkbox",...F}),isSelected:a.isSelected,isPressed:p||j,isDisabled:s,isReadOnly:n,isInvalid:v||m==="invalid"}}function ce(e,a,r){let s=Q({...e,value:a.isSelected}),{isInvalid:n,validationErrors:i,validationDetails:c}=s.displayValidation,{labelProps:$,inputProps:u,isSelected:b,isPressed:m,isDisabled:v,isReadOnly:k}=de({...e,isInvalid:n},a,r);Z(e,s,r);let{isIndeterminate:f,isRequired:d,validationBehavior:h="aria"}=e;return o.useEffect(()=>{r.current&&(r.current.indeterminate=!!f)}),{labelProps:$,inputProps:{...u,checked:b,"aria-required":d&&h==="aria"||void 0,required:d&&h==="native"},isSelected:b,isPressed:m,isDisabled:v,isReadOnly:k,isInvalid:n,validationErrors:i,validationDetails:c}}function ue(e={}){let{isReadOnly:a}=e,[r,s]=se(e.isSelected,e.defaultSelected||!1,e.onChange);function n(c){a||s(c)}function i(){a||s(!r)}return{isSelected:r,setSelected:n,toggle:i}}var fe=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(fe||{}),be=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(be||{}),we=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(we||{});const xe=e=>e==="Checked"||e==="Mixed",U="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:U,Strong:U},ve={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},he=({id:e,emphasis:a="Default",size:r="Default",disabled:s,required:n,label:i,hideLabel:c,tooltip:$,helperText:u,"aria-label":b,value:m,groupInputProps:v,onChange:k,state:f="Unchecked","data-test-id":d="checkbox"},h)=>{const p=ne(e),t=oe(h),{focusProps:j}=te(),M=ue({onChange:s?void 0:k,isSelected:f==="Checked"}),[F,I]=o.useState(),[w,V]=o.useState(),S=o.useRef(null),y=o.useRef(null),[X,A]=o.useState(!1),[_,B]=o.useState(!1),N=x=>{x.key==="Tab"&&I(!0)},z=()=>{I(!1)};o.useEffect(()=>{var x,P,D,L;w||((x=t==null?void 0:t.current)==null||x.removeEventListener("keyup",N),(P=t==null?void 0:t.current)==null||P.addEventListener("keyup",N),(D=t==null?void 0:t.current)==null||D.removeEventListener("blur",z),(L=t==null?void 0:t.current)==null||L.addEventListener("blur",z),V(!0))},[w,t]);const{inputProps:G}=ce({isDisabled:s,isRequired:n,isIndeterminate:f==="Mixed","aria-label":b,value:m},M,t),H={Checked:l.jsx(re,{size:r==="XLarge"?R.Size24:R.Size16}),Mixed:l.jsx(ie,{}),Unchecked:null},E=xe(f),K=g(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",E&&"tw-text-box-disabled-inverse tw-border-line-strong"]),Y=E?me[a]:g(["tw-bg-base hover:tw-bg-box-neutral",a==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),C=o.useCallback(()=>{var x,P,D,L;S.current&&A(((x=S.current)==null?void 0:x.scrollWidth)>((P=S.current)==null?void 0:P.clientWidth)),y.current&&B(((D=y.current)==null?void 0:D.scrollWidth)>((L=y.current)==null?void 0:L.clientWidth))},[S,y]);return o.useEffect(()=>{if(!(!i&&!u||c))return C(),window.removeEventListener("resize",C),window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[i,u,c,C]),l.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":d,children:l.jsx("div",{className:g(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",F?le:""]),children:l.jsx(ae,{id:`${p}-label`,disabled:s,clickable:!0,htmlFor:p,tooltip:$,required:n,bold:E,children:l.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[l.jsxs("span",{className:"tw-inline-flex",children:[l.jsx("input",{...O(v||G,j),id:p,ref:t,className:"tw-sr-only","data-test-id":`${d}-input`,role:"checkbox","aria-checked":f==="Checked",required:n,"aria-label":b,"aria-labelledby":i?`${p}-label`:void 0}),l.jsx("span",{"data-test-id":`${d}-icon-box`,"aria-hidden":"true",className:g(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",ve[r],s?K:Y]),children:H[f]})]}),!c&&l.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[i&&l.jsx("span",{ref:S,"data-test-id":`${d}-label`,className:g(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",E&&"tw-font-medium"]),title:X?i:void 0,children:i}),u&&l.jsx("span",{ref:y,"data-test-id":`${d}-helper-text`,className:g(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",s?"text-disabled":"tw-text-text-weak"]),title:_?u:void 0,children:u})]})]})})})})},W=o.forwardRef(he);W.displayName="FondueCheckbox";W.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{emphasis:{defaultValue:{value:"CheckboxEmphasis.Default",computed:!0},required:!1},size:{defaultValue:{value:"CheckboxSize.Default",computed:!0},required:!1},state:{defaultValue:{value:"CheckboxState.Unchecked",computed:!0},required:!1},"data-test-id":{defaultValue:{value:"'checkbox'",computed:!1},required:!1}}};export{ue as $,fe as C,be as a,we as b,W as c,ce as d};
