import{m as $e,j as z,h as ye,n as Te,g as ie,c as m,o as Pe,p as J,b as W,l as he,f as me}from"./useFocusRing-4Vnvtzpc.js";import{r as v,R as oe}from"./index-BwDkhjyp.js";import{a as se,c as Ee}from"./chain-D5h1pgIF.js";import{$ as Se,a as D}from"./SSRProvider-CYXx33DY.js";function le(e){var r,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=le(e[r]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function we(){for(var e,r,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=le(e))&&(i&&(i+=" "),i+=r);return i}function R(...e){let r={...e[0]};for(let n=1;n<e.length;n++){let i=e[n];for(let s in i){let u=r[s],f=i[s];typeof u=="function"&&typeof f=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?r[s]=se(u,f):(s==="className"||s==="UNSAFE_className")&&typeof u=="string"&&typeof f=="string"?r[s]=we(u,f):s==="id"&&u&&f?r.id=Ee(u,f):r[s]=f!==void 0?f:u}}return r}const xe=new Set(["id"]),Ke=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),ke=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Le=/^(data-.*)$/;function nt(e,r={}){let{labelable:n,isLink:i,propNames:s}=r,u={};for(const f in e)Object.prototype.hasOwnProperty.call(e,f)&&(xe.has(f)||n&&Ke.has(f)||i&&ke.has(f)||s!=null&&s.has(f)||Le.test(f))&&(u[f]=e[f]);return u}function x(e){if(Oe())e.focus({preventScroll:!0});else{let r=Ce(e);e.focus(),Me(r)}}let U=null;function Oe(){if(U==null){U=!1;try{document.createElement("div").focus({get preventScroll(){return U=!0,!0}})}catch{}}return U}function Ce(e){let r=e.parentNode,n=[],i=document.scrollingElement||document.documentElement;for(;r instanceof HTMLElement&&r!==i;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}function Me(e){for(let{element:r,scrollTop:n,scrollLeft:i}of e)r.scrollTop=n,r.scrollLeft=i}const Ae=v.createContext({isNative:!0,open:Ie,useHref:e=>e});function _e(){return v.useContext(Ae)}function at(e,r){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function _(e,r,n=!0){var i,s;let{metaKey:u,ctrlKey:f,altKey:g,shiftKey:b}=r;$e()&&(!((s=window.event)===null||s===void 0||(i=s.type)===null||i===void 0)&&i.startsWith("key"))&&e.target==="_blank"&&(z()?u=!0:f=!0);let E=ye()&&z()&&!Te()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:f,altKey:g,shiftKey:b}):new MouseEvent("click",{metaKey:u,ctrlKey:f,altKey:g,shiftKey:b,bubbles:!0,cancelable:!0});_.isOpening=n,x(e),e.dispatchEvent(E),_.isOpening=!1}_.isOpening=!1;function De(e,r){if(e instanceof HTMLAnchorElement)r(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),r(n),e.removeChild(n)}}function Ie(e,r){De(e,n=>_(n,r))}function it(e){let r=_e();return{href:e!=null&&e.href?r.useHref(e==null?void 0:e.href):void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let M=new Map,X=new Set;function Q(){if(typeof window>"u")return;function e(i){return"propertyName"in i}let r=i=>{if(!e(i)||!i.target)return;let s=M.get(i.target);s||(s=new Set,M.set(i.target,s),i.target.addEventListener("transitioncancel",n,{once:!0})),s.add(i.propertyName)},n=i=>{if(!e(i)||!i.target)return;let s=M.get(i.target);if(s&&(s.delete(i.propertyName),s.size===0&&(i.target.removeEventListener("transitioncancel",n),M.delete(i.target)),M.size===0)){for(let u of X)u();X.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?Q():document.addEventListener("DOMContentLoaded",Q));function fe(e){requestAnimationFrame(()=>{M.size===0?e():X.add(e)})}function Ue(){let e=v.useRef(new Map),r=v.useCallback((s,u,f,g)=>{let b=g!=null&&g.once?(...E)=>{e.current.delete(f),f(...E)}:f;e.current.set(f,{type:u,eventTarget:s,fn:b,options:g}),s.addEventListener(u,f,g)},[]),n=v.useCallback((s,u,f,g)=>{var b;let E=((b=e.current.get(f))===null||b===void 0?void 0:b.fn)||f;s.removeEventListener(u,E,g),e.current.delete(f)},[]),i=v.useCallback(()=>{e.current.forEach((s,u)=>{n(s.eventTarget,s.type,u,s.options)})},[n]);return v.useEffect(()=>i,[i]),{addGlobalListener:r,removeGlobalListener:n,removeAllGlobalListeners:i}}function ce(e,r){Se(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}let A="default",B="",G=new WeakMap;function Z(e){if(ie()){if(A==="default"){const r=m(e);B=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}A="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(G.set(e,e.style.userSelect),e.style.userSelect="none")}function N(e){if(ie()){if(A!=="disabled")return;A="restoring",setTimeout(()=>{fe(()=>{if(A==="restoring"){const r=m(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=B||""),B="",A="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&G.has(e)){let r=G.get(e);e.style.userSelect==="none"&&(e.style.userSelect=r),e.getAttribute("style")===""&&e.removeAttribute("style"),G.delete(e)}}const ue=oe.createContext({register:()=>{}});ue.displayName="PressResponderContext";function Ne(e,r){return r.get?r.get.call(e):r.value}function de(e,r,n){if(!r.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return r.get(e)}function Fe(e,r){var n=de(e,r,"get");return Ne(e,n)}function He(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ge(e,r,n){He(e,r),r.set(e,n)}function Re(e,r,n){if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}function ee(e,r,n){var i=de(e,r,"set");return Re(e,i,n),n}function je(e){let r=v.useContext(ue);if(r){let{register:n,...i}=r;e=R(i,e),n()}return ce(r,e.ref),e}var F=new WeakMap;class H{continuePropagation(){ee(this,F,!1)}get shouldStopPropagation(){return Fe(this,F)}constructor(r,n,i){Ge(this,F,{writable:!0,value:void 0}),ee(this,F,!0),this.type=r,this.pointerType=n,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey}}const te=Symbol("linkClicked");function ot(e){let{onPress:r,onPressChange:n,onPressStart:i,onPressEnd:s,onPressUp:u,isDisabled:f,isPressed:g,preventFocusOnPress:b,shouldCancelOnPointerExit:E,allowTextSelectionOnPress:h,ref:Qe,...ge}=je(e),[ve,q]=v.useState(!1),K=v.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:S,removeAllGlobalListeners:k}=Ue(),T=D((t,c)=>{let y=K.current;if(f||y.didFirePressStart)return!1;let l=!0;if(y.isTriggeringEvent=!0,i){let d=new H("pressstart",c,t);i(d),l=d.shouldStopPropagation}return n&&n(!0),y.isTriggeringEvent=!1,y.didFirePressStart=!0,q(!0),l}),$=D((t,c,y=!0)=>{let l=K.current;if(!l.didFirePressStart)return!1;l.ignoreClickAfterPress=!0,l.didFirePressStart=!1,l.isTriggeringEvent=!0;let d=!0;if(s){let a=new H("pressend",c,t);s(a),d=a.shouldStopPropagation}if(n&&n(!1),q(!1),r&&y&&!f){let a=new H("press",c,t);r(a),d&&(d=a.shouldStopPropagation)}return l.isTriggeringEvent=!1,d}),L=D((t,c)=>{let y=K.current;if(f)return!1;if(u){y.isTriggeringEvent=!0;let l=new H("pressup",c,t);return u(l),y.isTriggeringEvent=!1,l.shouldStopPropagation}return!0}),w=D(t=>{let c=K.current;c.isPressed&&c.target&&(c.isOverTarget&&c.pointerType!=null&&$(P(c.target,t),c.pointerType,!1),c.isPressed=!1,c.isOverTarget=!1,c.activePointerId=null,c.pointerType=null,k(),h||N(c.target))}),I=D(t=>{E&&w(t)}),be=v.useMemo(()=>{let t=K.current,c={onKeyDown(l){if(j(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)){var d;ne(l.target,l.key)&&l.preventDefault();let a=!0;if(!t.isPressed&&!l.repeat){t.target=l.currentTarget,t.isPressed=!0,a=T(l,"keyboard");let o=l.currentTarget,p=O=>{j(O,o)&&!O.repeat&&o.contains(O.target)&&t.target&&L(P(t.target,O),"keyboard")};S(m(l.currentTarget),"keyup",se(p,y),!0)}a&&l.stopPropagation(),l.metaKey&&z()&&((d=t.metaKeyEvents)===null||d===void 0||d.set(l.key,l.nativeEvent))}else l.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(l){if(!(l&&!l.currentTarget.contains(l.target))&&l&&l.button===0&&!t.isTriggeringEvent&&!_.isOpening){let d=!0;if(f&&l.preventDefault(),!t.ignoreClickAfterPress&&!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||J(l.nativeEvent))){!f&&!b&&x(l.currentTarget);let a=T(l,"virtual"),o=L(l,"virtual"),p=$(l,"virtual");d=a&&o&&p}t.ignoreEmulatedMouseEvents=!1,t.ignoreClickAfterPress=!1,d&&l.stopPropagation()}}},y=l=>{var d;if(t.isPressed&&t.target&&j(l,t.target)){var a;ne(l.target,l.key)&&l.preventDefault();let p=l.target;$(P(t.target,l),"keyboard",t.target.contains(p)),k(),l.key!=="Enter"&&V(t.target)&&t.target.contains(p)&&!l[te]&&(l[te]=!0,_(t.target,l,!1)),t.isPressed=!1,(a=t.metaKeyEvents)===null||a===void 0||a.delete(l.key)}else if(l.key==="Meta"&&(!((d=t.metaKeyEvents)===null||d===void 0)&&d.size)){var o;let p=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let O of p.values())(o=t.target)===null||o===void 0||o.dispatchEvent(new KeyboardEvent("keyup",O))}};if(typeof PointerEvent<"u"){c.onPointerDown=o=>{if(o.button!==0||!o.currentTarget.contains(o.target))return;if(Pe(o.nativeEvent)){t.pointerType="virtual";return}Y(o.currentTarget)&&o.preventDefault(),t.pointerType=o.pointerType;let p=!0;t.isPressed||(t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=o.pointerId,t.target=o.currentTarget,!f&&!b&&x(o.currentTarget),h||Z(t.target),p=T(o,t.pointerType),S(m(o.currentTarget),"pointermove",l,!1),S(m(o.currentTarget),"pointerup",d,!1),S(m(o.currentTarget),"pointercancel",a,!1)),p&&o.stopPropagation()},c.onMouseDown=o=>{o.currentTarget.contains(o.target)&&o.button===0&&(Y(o.currentTarget)&&o.preventDefault(),o.stopPropagation())},c.onPointerUp=o=>{!o.currentTarget.contains(o.target)||t.pointerType==="virtual"||o.button===0&&C(o,o.currentTarget)&&L(o,t.pointerType||o.pointerType)};let l=o=>{o.pointerId===t.activePointerId&&(t.target&&C(o,t.target)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,T(P(t.target,o),t.pointerType)):t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,$(P(t.target,o),t.pointerType,!1),I(o)))},d=o=>{o.pointerId===t.activePointerId&&t.isPressed&&o.button===0&&t.target&&(C(o,t.target)&&t.pointerType!=null?$(P(t.target,o),t.pointerType):t.isOverTarget&&t.pointerType!=null&&$(P(t.target,o),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,k(),h||N(t.target))},a=o=>{w(o)};c.onDragStart=o=>{o.currentTarget.contains(o.target)&&w(o)}}else{c.onMouseDown=a=>{if(a.button!==0||!a.currentTarget.contains(a.target))return;if(Y(a.currentTarget)&&a.preventDefault(),t.ignoreEmulatedMouseEvents){a.stopPropagation();return}t.isPressed=!0,t.isOverTarget=!0,t.target=a.currentTarget,t.pointerType=J(a.nativeEvent)?"virtual":"mouse",!f&&!b&&x(a.currentTarget),T(a,t.pointerType)&&a.stopPropagation(),S(m(a.currentTarget),"mouseup",l,!1)},c.onMouseEnter=a=>{if(!a.currentTarget.contains(a.target))return;let o=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!0,o=T(a,t.pointerType)),o&&a.stopPropagation()},c.onMouseLeave=a=>{if(!a.currentTarget.contains(a.target))return;let o=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!1,o=$(a,t.pointerType,!1),I(a)),o&&a.stopPropagation()},c.onMouseUp=a=>{a.currentTarget.contains(a.target)&&!t.ignoreEmulatedMouseEvents&&a.button===0&&L(a,t.pointerType||"mouse")};let l=a=>{if(a.button===0){if(t.isPressed=!1,k(),t.ignoreEmulatedMouseEvents){t.ignoreEmulatedMouseEvents=!1;return}t.target&&C(a,t.target)&&t.pointerType!=null?$(P(t.target,a),t.pointerType):t.target&&t.isOverTarget&&t.pointerType!=null&&$(P(t.target,a),t.pointerType,!1),t.isOverTarget=!1}};c.onTouchStart=a=>{if(!a.currentTarget.contains(a.target))return;let o=Ye(a.nativeEvent);if(!o)return;t.activePointerId=o.identifier,t.ignoreEmulatedMouseEvents=!0,t.isOverTarget=!0,t.isPressed=!0,t.target=a.currentTarget,t.pointerType="touch",!f&&!b&&x(a.currentTarget),h||Z(t.target),T(a,t.pointerType)&&a.stopPropagation(),S(W(a.currentTarget),"scroll",d,!0)},c.onTouchMove=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let o=re(a.nativeEvent,t.activePointerId),p=!0;o&&C(o,a.currentTarget)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,p=T(a,t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,p=$(a,t.pointerType,!1),I(a)),p&&a.stopPropagation()},c.onTouchEnd=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let o=re(a.nativeEvent,t.activePointerId),p=!0;o&&C(o,a.currentTarget)&&t.pointerType!=null?(L(a,t.pointerType),p=$(a,t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(p=$(a,t.pointerType,!1)),p&&a.stopPropagation(),t.isPressed=!1,t.activePointerId=null,t.isOverTarget=!1,t.ignoreEmulatedMouseEvents=!0,t.target&&!h&&N(t.target),k()},c.onTouchCancel=a=>{a.currentTarget.contains(a.target)&&(a.stopPropagation(),t.isPressed&&w(a))};let d=a=>{t.isPressed&&a.target.contains(t.target)&&w({currentTarget:t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};c.onDragStart=a=>{a.currentTarget.contains(a.target)&&w(a)}}return c},[S,f,b,k,h,w,I,$,T,L]);return v.useEffect(()=>()=>{var t;h||N((t=K.current.target)!==null&&t!==void 0?t:void 0)},[h]),{isPressed:g||ve,pressProps:R(ge,be)}}function V(e){return e.tagName==="A"&&e.hasAttribute("href")}function j(e,r){const{key:n,code:i}=e,s=r,u=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||i==="Space")&&!(s instanceof W(s).HTMLInputElement&&!pe(s,n)||s instanceof W(s).HTMLTextAreaElement||s.isContentEditable)&&!((u==="link"||!u&&V(s))&&n!=="Enter")}function Ye(e){const{targetTouches:r}=e;return r.length>0?r[0]:null}function re(e,r){const n=e.changedTouches;for(let i=0;i<n.length;i++){const s=n[i];if(s.identifier===r)return s}return null}function P(e,r){return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey}}function ze(e){let r=0,n=0;return e.width!==void 0?r=e.width/2:e.radiusX!==void 0&&(r=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+r,bottom:e.clientY+n,left:e.clientX-r}}function We(e,r){return!(e.left>r.right||r.left>e.right||e.top>r.bottom||r.top>e.bottom)}function C(e,r){let n=r.getBoundingClientRect(),i=ze(e);return We(n,i)}function Y(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function ne(e,r){return e instanceof HTMLInputElement?!pe(e,r):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!V(e)}const Xe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function pe(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":Xe.has(e.type)}function ae(e){if(!e)return;let r=!0;return n=>{let i={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){r=!1}};e(i),r&&n.stopPropagation()}}function Be(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:ae(e.onKeyDown),onKeyUp:ae(e.onKeyUp)}}}function Ve(e){const r=m(e);if(he()==="virtual"){let n=r.activeElement;fe(()=>{r.activeElement===n&&e.isConnected&&x(e)})}else x(e)}let qe=oe.createContext(null);function Je(e){let r=v.useContext(qe)||{};ce(r,e);let{ref:n,...i}=r;return i}function st(e,r){let{focusProps:n}=me(e),{keyboardProps:i}=Be(e),s=R(n,i),u=Je(r),f=e.isDisabled?{}:u,g=v.useRef(e.autoFocus);return v.useEffect(()=>{g.current&&r.current&&Ve(r.current),g.current=!1},[r]),{focusableProps:R({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},f)}}export{ot as $,st as a,R as b,nt as c,_e as d,it as e,at as f,Ve as g,Be as h,Ue as i,x as j,_ as k,we as l};
