import{j as r}from"./jsx-runtime-Blucd9Qg.js";import{r as c}from"./index-CcKhGcwW.js";import{i as q,j as S,k as H}from"./fondue-icons348-B2f6cy1d.js";import{u as _}from"./useSyncRefs-C0ZH7x09.js";import{B as I}from"./Box-dLZSim8n.js";import{L as k}from"./LoadingCircle-B1hbLPc7.js";const j=e=>{c.useEffect(()=>{if(!e.current)return;const a=e.current,t=new ResizeObserver(()=>{const l=a.scrollWidth>a.clientWidth;a.title=l&&a.textContent||""});return t.observe(a),()=>t.disconnect()},[e])},A="_table_lj8j6_4",V="_headerCell_lj8j6_18",z="_rowCell_lj8j6_19",E="_caption_lj8j6_46",L="_cellContent_lj8j6_71",W="_sortIndicator_lj8j6_96",M="_body_lj8j6_100",B="_row_lj8j6_19",D="_buttonText_lj8j6_164",i={table:A,headerCell:V,rowCell:z,caption:E,cellContent:L,sortIndicator:W,body:M,row:B,buttonText:D};function K(e,a){const t='tr[tabindex="0"]',l=e.closest("table");if(!l)return null;const n=Array.from(l.querySelectorAll(t)),o=n.indexOf(e)+(a==="ArrowUp"?-1:1);return o>=0&&o<n.length?n[o]:null}function $(e){const a=e.target,t=a.closest("tr");if(!t||a!==t||!["ArrowUp","ArrowDown"].includes(e.key))return;const l=K(t,e.key);l&&(e.preventDefault(),l.focus())}const y=c.forwardRef(({layout:e="auto",fontSize:a="medium",sticky:t,children:l,...n},s)=>r.jsx("div",{onKeyDown:$,role:"grid",tabIndex:-1,children:r.jsx("table",{ref:s,className:i.table,"data-layout":e,"data-font-size":a,"data-sticky":t,...n,children:l})}));y.displayName="Table.Root";const h=c.forwardRef(({children:e},a)=>r.jsx("caption",{ref:a,className:i.caption,children:e}));h.displayName="Table.Caption";const g=c.forwardRef(({children:e,"aria-label":a,"aria-busy":t},l)=>r.jsx("thead",{ref:l,className:i.header,"aria-label":a,"aria-busy":t,children:e}));g.displayName="Table.Header";const w=c.forwardRef(({noShrink:e=!1,truncate:a=!1,align:t="left",scope:l="col",sortTranslations:n,sortDirection:s,colSpan:o,width:m,state:f="idle",loadingStateAriaLabel:p,onSortChange:u,children:d},C)=>{const b=c.useRef(null);_(b,C),j(b);const N=c.useMemo(()=>typeof d=="string"?s==="ascending"?(n==null?void 0:n.sortDescending)??`Sort by ${d} descending`:(n==null?void 0:n.sortAscending)??`Sort by ${d} ascending`:s==="ascending"?"Sort descending":"Sort ascending",[d,s,n]),R=()=>{if(!u)return;u(s===void 0||s==="descending"?"ascending":"descending")};return r.jsx("th",{ref:b,style:{width:m},className:i.headerCell,scope:l,colSpan:o,"data-align":t,"data-truncate":a,"data-no-shrink":e,"data-sortable":!!u,"aria-sort":u?s||"none":void 0,children:f==="loading"?r.jsxs("div",{className:i.cellContent,"aria-live":"polite","aria-label":p,children:[typeof d=="string"&&a?r.jsx("span",{className:i.buttonText,children:d}):d,r.jsx(k,{"data-test-id":"fondue-loading-circle",size:"xx-small"})]}):u?r.jsxs("button",{className:i.cellContent,"aria-label":N,"data-active":!!s,onClick:R,children:[typeof d=="string"&&a?r.jsx("span",{className:i.buttonText,children:d}):d,r.jsx(I,{width:3,children:s==="ascending"?r.jsx(q,{size:"12"}):s==="descending"?r.jsx(S,{size:"12"}):r.jsx(H,{className:i.sortIndicator,size:"12"})})]}):d})});w.displayName="Table.HeaderCell";const T=c.forwardRef(({children:e,"aria-busy":a},t)=>r.jsx("tbody",{ref:t,className:i.body,"aria-busy":a,children:e}));T.displayName="Table.Body";const v=c.forwardRef(({disabled:e=!1,selected:a=!1,onClick:t,children:l,"aria-label":n,"data-test-id":s},o)=>{const m=t!==void 0&&!e,f=()=>{e||t&&t(a)},p=u=>{m&&(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),f())};return r.jsx("tr",{ref:o,className:i.row,tabIndex:0,role:m?"button":"row","data-disabled":e,"data-interactive":m,"data-selected":a,"aria-disabled":e,"aria-label":n,"aria-selected":a,onClick:m?f:void 0,onKeyDown:m?p:void 0,"data-test-id":s,children:l})});v.displayName="Table.Row";const x=c.forwardRef(({colSpan:e,truncate:a,align:t="left",children:l,"aria-label":n},s)=>{const o=c.useRef(null);return _(o,s),j(o),r.jsx("td",{ref:o,className:i.rowCell,colSpan:e,"data-align":t,"data-truncate":a,"aria-label":n,children:l})});x.displayName="Table.RowCell";const X={Root:y,Caption:h,Header:g,HeaderCell:w,Body:T,Row:v,RowCell:x};y.__docgenInfo={description:"",methods:[],displayName:"Table.Root",props:{layout:{required:!1,tsType:{name:"union",raw:"'auto' | 'fixed'",elements:[{name:"literal",value:"'auto'"},{name:"literal",value:"'fixed'"}]},description:`Whether the table should have a fixed or auto layout
@default 'auto'`,defaultValue:{value:"'auto'",computed:!1}},fontSize:{required:!1,tsType:{name:"union",raw:"'small' | 'medium'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"}]},description:`Font size of the table content
@default 'small'`,defaultValue:{value:"'medium'",computed:!1}},sticky:{required:!1,tsType:{name:"union",raw:"'head' | 'col' | 'both'",elements:[{name:"literal",value:"'head'"},{name:"literal",value:"'col'"},{name:"literal",value:"'both'"}]},description:"Whether header should stick to the top when scrolling"},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};h.__docgenInfo={description:"",methods:[],displayName:"Table.Caption",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};g.__docgenInfo={description:"",methods:[],displayName:"Table.Header",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-busy":{required:!1,tsType:{name:"boolean"},description:""}}};w.__docgenInfo={description:"",methods:[],displayName:"Table.HeaderCell",props:{scope:{required:!1,tsType:{name:"HTMLTableCellElement['scope']",raw:"HTMLTableCellElement['scope']"},description:`Scope of the column
@default 'col'`,defaultValue:{value:"'col'",computed:!1}},colSpan:{required:!1,tsType:{name:"HTMLTableCellElement['colSpan']",raw:"HTMLTableCellElement['colSpan']"},description:"Number of columns the cell should span"},width:{required:!1,tsType:{name:"CSSProperties['width']",raw:"CSSProperties['width']"},description:"Width of the column"},sortDirection:{required:!1,tsType:{name:"union",raw:"'ascending' | 'descending' | undefined",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"},{name:"undefined"}]},description:"Current sort direction of the column"},align:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:`Horizontal alignment of the content
@default 'left'`,defaultValue:{value:"'left'",computed:!1}},truncate:{required:!1,tsType:{name:"boolean"},description:`Whether to truncate content with ellipsis when it overflows
@default false`,defaultValue:{value:"false",computed:!1}},sortTranslations:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    sortAscending?: string;
    sortDescending?: string;
}`,signature:{properties:[{key:"sortAscending",value:{name:"string",required:!1}},{key:"sortDescending",value:{name:"string",required:!1}}]}},description:`Aria label for asceding/descending sort. Variables: {column} - column name
@default "Sort by {column} ascending/descending"`},noShrink:{required:!1,tsType:{name:"boolean"},description:`Whether the column should have a minimum width
@default false`,defaultValue:{value:"false",computed:!1}},state:{required:!1,tsType:{name:"union",raw:"'idle' | 'loading'",elements:[{name:"literal",value:"'idle'"},{name:"literal",value:"'loading'"}]},description:`State of the cell, used for displaying loading state
@default 'idle'`,defaultValue:{value:"'idle'",computed:!1}},loadingStateAriaLabel:{required:!1,tsType:{name:"string"},description:"The aria-label to be applied when state='loading'"},onSortChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(direction: SortDirection) => void",signature:{arguments:[{type:{name:"union",raw:"'ascending' | 'descending' | undefined",elements:[{name:"literal",value:"'ascending'"},{name:"literal",value:"'descending'"},{name:"undefined"}]},name:"direction"}],return:{name:"void"}}},description:`Handler called when the sort direction changes
@param direction - The new sort direction`},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};T.__docgenInfo={description:"",methods:[],displayName:"Table.Body",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},"aria-busy":{required:!1,tsType:{name:"boolean"},description:""}}};v.__docgenInfo={description:"",methods:[],displayName:"Table.Row",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},selected:{defaultValue:{value:"false",computed:!1},required:!1}}};x.__docgenInfo={description:"",methods:[],displayName:"Table.RowCell",props:{colSpan:{required:!1,tsType:{name:"HTMLTableCellElement['colSpan']",raw:"HTMLTableCellElement['colSpan']"},description:"Number of columns the cell should span"},truncate:{required:!1,tsType:{name:"boolean"},description:`Whether to truncate content with ellipsis when it overflows
@default false`},align:{required:!1,tsType:{name:"union",raw:"'left' | 'center' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'center'"},{name:"literal",value:"'right'"}]},description:`Horizontal alignment of the content
@default 'left'`,defaultValue:{value:"'left'",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""}}};export{x as T,v as a,T as b,w as c,g as d,y as e,X as f};
