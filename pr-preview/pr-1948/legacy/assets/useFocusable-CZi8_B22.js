import{n as he,k as Pe,l as B,o as me,j as se,c as x,p as Ee,q as Z,b as W,f as Se,i as Ke}from"./useFocusRing-B9BQthcQ.js";import{r as b,R as le}from"./index-ClcD9ViR.js";import{a as ce,d as we}from"./chain-B69fAeb4.js";import{$ as xe,a as D}from"./useEffectEvent-23OTMzEQ.js";function fe(e){var r,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=fe(e[r]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function ke(){for(var e,r,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=fe(e))&&(i&&(i+=" "),i+=r);return i}function G(...e){let r={...e[0]};for(let n=1;n<e.length;n++){let i=e[n];for(let s in i){let f=r[s],c=i[s];typeof f=="function"&&typeof c=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?r[s]=ce(f,c):(s==="className"||s==="UNSAFE_className")&&typeof f=="string"&&typeof c=="string"?r[s]=ke(f,c):s==="id"&&f&&c?r.id=we(f,c):r[s]=c!==void 0?c:f}}return r}const Le=new Set(["id"]),Ce=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Oe=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Me=/^(data-.*)$/;function it(e,r={}){let{labelable:n,isLink:i,propNames:s}=r,f={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(Le.has(c)||n&&Ce.has(c)||i&&Oe.has(c)||s!=null&&s.has(c)||Me.test(c))&&(f[c]=e[c]);return f}function k(e){if(_e())e.focus({preventScroll:!0});else{let r=Ae(e);e.focus(),De(r)}}let N=null;function _e(){if(N==null){N=!1;try{document.createElement("div").focus({get preventScroll(){return N=!0,!0}})}catch{}}return N}function Ae(e){let r=e.parentNode,n=[],i=document.scrollingElement||document.documentElement;for(;r instanceof HTMLElement&&r!==i;)(r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth)&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),r=r.parentNode;return i instanceof HTMLElement&&n.push({element:i,scrollTop:i.scrollTop,scrollLeft:i.scrollLeft}),n}function De(e){for(let{element:r,scrollTop:n,scrollLeft:i}of e)r.scrollTop=n,r.scrollLeft=i}const Ie=b.createContext({isNative:!0,open:Fe,useHref:e=>e});function Ue(){return b.useContext(Ie)}function ot(e,r){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&!r.shiftKey}function A(e,r,n=!0){var i,s;let{metaKey:f,ctrlKey:c,altKey:p,shiftKey:v}=r;he()&&(!((s=window.event)===null||s===void 0||(i=s.type)===null||i===void 0)&&i.startsWith("key"))&&e.target==="_blank"&&(B()?f=!0:c=!0);let T=Pe()&&B()&&!me()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:f,ctrlKey:c,altKey:p,shiftKey:v}):new MouseEvent("click",{metaKey:f,ctrlKey:c,altKey:p,shiftKey:v,bubbles:!0,cancelable:!0});A.isOpening=n,k(e),e.dispatchEvent(T),A.isOpening=!1}A.isOpening=!1;function Ne(e,r){if(e instanceof HTMLAnchorElement)r(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),r(n),e.removeChild(n)}}function Fe(e,r){Ne(e,n=>A(n,r))}function st(e){let r=Ue();var n;const i=r.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?i:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let M=new Map,V=new Set;function ee(){if(typeof window>"u")return;function e(i){return"propertyName"in i}let r=i=>{if(!e(i)||!i.target)return;let s=M.get(i.target);s||(s=new Set,M.set(i.target,s),i.target.addEventListener("transitioncancel",n,{once:!0})),s.add(i.propertyName)},n=i=>{if(!e(i)||!i.target)return;let s=M.get(i.target);if(s&&(s.delete(i.propertyName),s.size===0&&(i.target.removeEventListener("transitioncancel",n),M.delete(i.target)),M.size===0)){for(let f of V)f();V.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?ee():document.addEventListener("DOMContentLoaded",ee));function ue(e){requestAnimationFrame(()=>{M.size===0?e():V.add(e)})}function He(){let e=b.useRef(new Map),r=b.useCallback((s,f,c,p)=>{let v=p!=null&&p.once?(...T)=>{e.current.delete(c),c(...T)}:c;e.current.set(c,{type:f,eventTarget:s,fn:v,options:p}),s.addEventListener(f,v,p)},[]),n=b.useCallback((s,f,c,p)=>{var v;let T=((v=e.current.get(c))===null||v===void 0?void 0:v.fn)||c;s.removeEventListener(f,T,p),e.current.delete(c)},[]),i=b.useCallback(()=>{e.current.forEach((s,f)=>{n(s.eventTarget,s.type,f,s.options)})},[n]);return b.useEffect(()=>i,[i]),{addGlobalListener:r,removeGlobalListener:n,removeAllGlobalListeners:i}}function de(e,r){xe(()=>{if(e&&e.ref&&r)return e.ref.current=r.current,()=>{e.ref&&(e.ref.current=null)}})}let _="default",q="",X=new WeakMap;function te(e){if(se()){if(_==="default"){const r=x(e);q=r.documentElement.style.webkitUserSelect,r.documentElement.style.webkitUserSelect="none"}_="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(X.set(e,e.style.userSelect),e.style.userSelect="none")}function F(e){if(se()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{ue(()=>{if(_==="restoring"){const r=x(e);r.documentElement.style.webkitUserSelect==="none"&&(r.documentElement.style.webkitUserSelect=q||""),q="",_="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&X.has(e)){let r=X.get(e);e.style.userSelect==="none"&&(e.style.userSelect=r),e.getAttribute("style")===""&&e.removeAttribute("style"),X.delete(e)}}const pe=le.createContext({register:()=>{}});pe.displayName="PressResponderContext";function Ye(e,r){return r.get?r.get.call(e):r.value}function ge(e,r,n){if(!r.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return r.get(e)}function Xe(e,r){var n=ge(e,r,"get");return Ye(e,n)}function Ge(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Re(e,r,n){Ge(e,r),r.set(e,n)}function je(e,r,n){if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}function re(e,r,n){var i=ge(e,r,"set");return je(e,i,n),n}function ze(e){let r=b.useContext(pe);if(r){let{register:n,...i}=r;e=G(i,e),n()}return de(r,e.ref),e}var H=new WeakMap;class Y{continuePropagation(){re(this,H,!1)}get shouldStopPropagation(){return Xe(this,H)}constructor(r,n,i,s){Re(this,H,{writable:!0,value:void 0}),re(this,H,!0);var f;let c=(f=s==null?void 0:s.target)!==null&&f!==void 0?f:i.currentTarget;const p=c==null?void 0:c.getBoundingClientRect();let v,T=0,y,I=null;i.clientX!=null&&i.clientY!=null&&(y=i.clientX,I=i.clientY),p&&(y!=null&&I!=null?(v=y-p.left,T=I-p.top):(v=p.width/2,T=p.height/2)),this.type=r,this.pointerType=n,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.x=v,this.y=T}}const ne=Symbol("linkClicked");function lt(e){let{onPress:r,onPressChange:n,onPressStart:i,onPressEnd:s,onPressUp:f,isDisabled:c,isPressed:p,preventFocusOnPress:v,shouldCancelOnPointerExit:T,allowTextSelectionOnPress:y,ref:I,...$e}=ze(e),[ye,Q]=b.useState(!1),L=b.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:K,removeAllGlobalListeners:C}=He(),P=D((t,u)=>{let h=L.current;if(c||h.didFirePressStart)return!1;let l=!0;if(h.isTriggeringEvent=!0,i){let d=new Y("pressstart",u,t);i(d),l=d.shouldStopPropagation}return n&&n(!0),h.isTriggeringEvent=!1,h.didFirePressStart=!0,Q(!0),l}),$=D((t,u,h=!0)=>{let l=L.current;if(!l.didFirePressStart)return!1;l.ignoreClickAfterPress=!0,l.didFirePressStart=!1,l.isTriggeringEvent=!0;let d=!0;if(s){let a=new Y("pressend",u,t);s(a),d=a.shouldStopPropagation}if(n&&n(!1),Q(!1),r&&h&&!c){let a=new Y("press",u,t);r(a),d&&(d=a.shouldStopPropagation)}return l.isTriggeringEvent=!1,d}),O=D((t,u)=>{let h=L.current;if(c)return!1;if(f){h.isTriggeringEvent=!0;let l=new Y("pressup",u,t);return f(l),h.isTriggeringEvent=!1,l.shouldStopPropagation}return!0}),w=D(t=>{let u=L.current;u.isPressed&&u.target&&(u.isOverTarget&&u.pointerType!=null&&$(E(u.target,t),u.pointerType,!1),u.isPressed=!1,u.isOverTarget=!1,u.activePointerId=null,u.pointerType=null,C(),y||F(u.target))}),U=D(t=>{T&&w(t)}),Te=b.useMemo(()=>{let t=L.current,u={onKeyDown(l){if(R(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)){var d;ie(l.target,l.key)&&l.preventDefault();let a=!0;if(!t.isPressed&&!l.repeat){t.target=l.currentTarget,t.isPressed=!0,a=P(l,"keyboard");let o=l.currentTarget,g=m=>{R(m,o)&&!m.repeat&&o.contains(m.target)&&t.target&&O(E(t.target,m),"keyboard")};K(x(l.currentTarget),"keyup",ce(g,h),!0)}a&&l.stopPropagation(),l.metaKey&&B()&&((d=t.metaKeyEvents)===null||d===void 0||d.set(l.key,l.nativeEvent))}else l.key==="Meta"&&(t.metaKeyEvents=new Map)},onClick(l){if(!(l&&!l.currentTarget.contains(l.target))&&l&&l.button===0&&!t.isTriggeringEvent&&!A.isOpening){let d=!0;if(c&&l.preventDefault(),!t.ignoreClickAfterPress&&!t.ignoreEmulatedMouseEvents&&!t.isPressed&&(t.pointerType==="virtual"||Z(l.nativeEvent))){!c&&!v&&k(l.currentTarget);let a=P(l,"virtual"),o=O(l,"virtual"),g=$(l,"virtual");d=a&&o&&g}t.ignoreEmulatedMouseEvents=!1,t.ignoreClickAfterPress=!1,d&&l.stopPropagation()}}},h=l=>{var d;if(t.isPressed&&t.target&&R(l,t.target)){var a;ie(l.target,l.key)&&l.preventDefault();let g=l.target;$(E(t.target,l),"keyboard",t.target.contains(g)),C(),l.key!=="Enter"&&J(t.target)&&t.target.contains(g)&&!l[ne]&&(l[ne]=!0,A(t.target,l,!1)),t.isPressed=!1,(a=t.metaKeyEvents)===null||a===void 0||a.delete(l.key)}else if(l.key==="Meta"&&(!((d=t.metaKeyEvents)===null||d===void 0)&&d.size)){var o;let g=t.metaKeyEvents;t.metaKeyEvents=void 0;for(let m of g.values())(o=t.target)===null||o===void 0||o.dispatchEvent(new KeyboardEvent("keyup",m))}};if(typeof PointerEvent<"u"){u.onPointerDown=o=>{if(o.button!==0||!o.currentTarget.contains(o.target))return;if(Ee(o.nativeEvent)){t.pointerType="virtual";return}z(o.currentTarget)&&o.preventDefault(),t.pointerType=o.pointerType;let g=!0;if(!t.isPressed){t.isPressed=!0,t.isOverTarget=!0,t.activePointerId=o.pointerId,t.target=o.currentTarget,!c&&!v&&k(o.currentTarget),y||te(t.target),g=P(o,t.pointerType);let m=o.target;"releasePointerCapture"in m&&m.releasePointerCapture(o.pointerId),K(x(o.currentTarget),"pointerup",l,!1),K(x(o.currentTarget),"pointercancel",a,!1)}g&&o.stopPropagation()},u.onMouseDown=o=>{o.currentTarget.contains(o.target)&&o.button===0&&(z(o.currentTarget)&&o.preventDefault(),o.stopPropagation())},u.onPointerUp=o=>{!o.currentTarget.contains(o.target)||t.pointerType==="virtual"||o.button===0&&O(o,t.pointerType||o.pointerType)},u.onPointerEnter=o=>{o.pointerId===t.activePointerId&&t.target&&!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,P(E(t.target,o),t.pointerType))},u.onPointerLeave=o=>{o.pointerId===t.activePointerId&&t.target&&t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,$(E(t.target,o),t.pointerType,!1),U(o))};let l=o=>{o.pointerId===t.activePointerId&&t.isPressed&&o.button===0&&t.target&&(t.target.contains(o.target)&&t.pointerType!=null?$(E(t.target,o),t.pointerType):t.isOverTarget&&t.pointerType!=null&&$(E(t.target,o),t.pointerType,!1),t.isPressed=!1,t.isOverTarget=!1,t.activePointerId=null,t.pointerType=null,C(),y||F(t.target),"ontouchend"in t.target&&o.pointerType!=="mouse"&&K(t.target,"touchend",d,{once:!0}))},d=o=>{ve(o.currentTarget)&&o.preventDefault()},a=o=>{w(o)};u.onDragStart=o=>{o.currentTarget.contains(o.target)&&w(o)}}else{u.onMouseDown=a=>{if(a.button!==0||!a.currentTarget.contains(a.target))return;if(z(a.currentTarget)&&a.preventDefault(),t.ignoreEmulatedMouseEvents){a.stopPropagation();return}t.isPressed=!0,t.isOverTarget=!0,t.target=a.currentTarget,t.pointerType=Z(a.nativeEvent)?"virtual":"mouse",!c&&!v&&k(a.currentTarget),P(a,t.pointerType)&&a.stopPropagation(),K(x(a.currentTarget),"mouseup",l,!1)},u.onMouseEnter=a=>{if(!a.currentTarget.contains(a.target))return;let o=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!0,o=P(a,t.pointerType)),o&&a.stopPropagation()},u.onMouseLeave=a=>{if(!a.currentTarget.contains(a.target))return;let o=!0;t.isPressed&&!t.ignoreEmulatedMouseEvents&&t.pointerType!=null&&(t.isOverTarget=!1,o=$(a,t.pointerType,!1),U(a)),o&&a.stopPropagation()},u.onMouseUp=a=>{a.currentTarget.contains(a.target)&&!t.ignoreEmulatedMouseEvents&&a.button===0&&O(a,t.pointerType||"mouse")};let l=a=>{if(a.button===0){if(t.isPressed=!1,C(),t.ignoreEmulatedMouseEvents){t.ignoreEmulatedMouseEvents=!1;return}t.target&&j(a,t.target)&&t.pointerType!=null?$(E(t.target,a),t.pointerType):t.target&&t.isOverTarget&&t.pointerType!=null&&$(E(t.target,a),t.pointerType,!1),t.isOverTarget=!1}};u.onTouchStart=a=>{if(!a.currentTarget.contains(a.target))return;let o=Be(a.nativeEvent);if(!o)return;t.activePointerId=o.identifier,t.ignoreEmulatedMouseEvents=!0,t.isOverTarget=!0,t.isPressed=!0,t.target=a.currentTarget,t.pointerType="touch",!c&&!v&&k(a.currentTarget),y||te(t.target),P(S(t.target,a),t.pointerType)&&a.stopPropagation(),K(W(a.currentTarget),"scroll",d,!0)},u.onTouchMove=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let o=ae(a.nativeEvent,t.activePointerId),g=!0;o&&j(o,a.currentTarget)?!t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!0,g=P(S(t.target,a),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(t.isOverTarget=!1,g=$(S(t.target,a),t.pointerType,!1),U(S(t.target,a))),g&&a.stopPropagation()},u.onTouchEnd=a=>{if(!a.currentTarget.contains(a.target))return;if(!t.isPressed){a.stopPropagation();return}let o=ae(a.nativeEvent,t.activePointerId),g=!0;o&&j(o,a.currentTarget)&&t.pointerType!=null?(O(S(t.target,a),t.pointerType),g=$(S(t.target,a),t.pointerType)):t.isOverTarget&&t.pointerType!=null&&(g=$(S(t.target,a),t.pointerType,!1)),g&&a.stopPropagation(),t.isPressed=!1,t.activePointerId=null,t.isOverTarget=!1,t.ignoreEmulatedMouseEvents=!0,t.target&&!y&&F(t.target),C()},u.onTouchCancel=a=>{a.currentTarget.contains(a.target)&&(a.stopPropagation(),t.isPressed&&w(S(t.target,a)))};let d=a=>{t.isPressed&&a.target.contains(t.target)&&w({currentTarget:t.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};u.onDragStart=a=>{a.currentTarget.contains(a.target)&&w(a)}}return u},[K,c,v,C,y,w,U,$,P,O]);return b.useEffect(()=>()=>{var t;y||F((t=L.current.target)!==null&&t!==void 0?t:void 0)},[y]),{isPressed:p||ye,pressProps:G($e,Te)}}function J(e){return e.tagName==="A"&&e.hasAttribute("href")}function R(e,r){const{key:n,code:i}=e,s=r,f=s.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||i==="Space")&&!(s instanceof W(s).HTMLInputElement&&!be(s,n)||s instanceof W(s).HTMLTextAreaElement||s.isContentEditable)&&!((f==="link"||!f&&J(s))&&n!=="Enter")}function Be(e){const{targetTouches:r}=e;return r.length>0?r[0]:null}function ae(e,r){const n=e.changedTouches;for(let i=0;i<n.length;i++){const s=n[i];if(s.identifier===r)return s}return null}function S(e,r){let n=0,i=0;return r.targetTouches&&r.targetTouches.length===1&&(n=r.targetTouches[0].clientX,i=r.targetTouches[0].clientY),{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:n,clientY:i}}function E(e,r){let n=r.clientX,i=r.clientY;return{currentTarget:e,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,metaKey:r.metaKey,altKey:r.altKey,clientX:n,clientY:i}}function We(e){let r=0,n=0;return e.width!==void 0?r=e.width/2:e.radiusX!==void 0&&(r=e.radiusX),e.height!==void 0?n=e.height/2:e.radiusY!==void 0&&(n=e.radiusY),{top:e.clientY-n,right:e.clientX+r,bottom:e.clientY+n,left:e.clientX-r}}function Ve(e,r){return!(e.left>r.right||r.left>e.right||e.top>r.bottom||r.top>e.bottom)}function j(e,r){let n=r.getBoundingClientRect(),i=We(e);return Ve(n,i)}function z(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function ve(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!J(e)}function ie(e,r){return e instanceof HTMLInputElement?!be(e,r):ve(e)}const qe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function be(e,r){return e.type==="checkbox"||e.type==="radio"?r===" ":qe.has(e.type)}function oe(e){if(!e)return;let r=!0;return n=>{let i={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){r?console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior."):r=!0},continuePropagation(){r=!1},isPropagationStopped(){return r}};e(i),r&&n.stopPropagation()}}function Je(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:oe(e.onKeyDown),onKeyUp:oe(e.onKeyUp)}}}function Qe(e){const r=x(e);if(Se()==="virtual"){let n=r.activeElement;ue(()=>{r.activeElement===n&&e.isConnected&&k(e)})}else k(e)}let Ze=le.createContext(null);function et(e){let r=b.useContext(Ze)||{};de(r,e);let{ref:n,...i}=r;return i}function ct(e,r){let{focusProps:n}=Ke(e),{keyboardProps:i}=Je(e),s=G(n,i),f=et(r),c=e.isDisabled?{}:f,p=b.useRef(e.autoFocus);return b.useEffect(()=>{p.current&&r.current&&Qe(r.current),p.current=!1},[r]),{focusableProps:G({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}export{lt as $,ct as a,G as b,it as c,Ue as d,st as e,ot as f,Qe as g,Je as h,He as i,k as j,A as k,ke as l};
