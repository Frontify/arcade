import{j as o}from"./jsx-runtime-DH9XN8A8.js";import{r as c}from"./index-v7USjxUg.js";import{$ as O,a as G,b as D,c as Y}from"./useFocusable-BRFkliNn.js";import{$ as J,a as K,b as Q,c as Z}from"./useFormValidationState-BKAFCnHb.js";import{$ as ee}from"./useFocusRing-CP9UJNUw.js";import{$ as te}from"./useControlledState-BSgwHaZM.js";import{I as re}from"./InputLabel-BjSnxKcM.js";import{I as se}from"./IconCheckMark-CMS57PRn.js";import{I as ae}from"./IconMinus-7GNK1BVK.js";import{I as F}from"./IconSize-BcCrF_mi.js";import{u as ie}from"./useMemoizedId-Cl5PI4eu.js";import{F as ne}from"./focusStyle-CBFElZiz.js";import{m as k}from"./merge-DI-veSMP.js";import{u as oe}from"./Button-1V9tmxFq.js";function le(e,s,a){let{isDisabled:r=!1,isReadOnly:n=!1,value:i,name:u,children:y,"aria-label":f,"aria-labelledby":m,validationState:x="valid",isInvalid:w}=e,h=d=>{d.stopPropagation(),s.setSelected(d.target.checked)},p=y!=null,l=f!=null||m!=null;!p&&!l&&console.warn("If you do not provide children, you must specify an aria-label for accessibility");let{pressProps:v,isPressed:b}=O({isDisabled:r}),{pressProps:t,isPressed:$}=O({isDisabled:r||n,onPress(){s.toggle()}}),{focusableProps:E}=G(e,a),M=D(v,E),T=Y(e,{labelable:!0});return J(a,s.isSelected,s.setSelected),{labelProps:D(t,{onClick:d=>d.preventDefault()}),inputProps:D(T,{"aria-invalid":w||x==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":n||void 0,onChange:h,disabled:r,...i==null?{}:{value:i},name:u,type:"checkbox",...M}),isSelected:s.isSelected,isPressed:b||$,isDisabled:r,isReadOnly:n,isInvalid:w||x==="invalid"}}function de(e,s,a){let r=K({...e,value:s.isSelected}),{isInvalid:n,validationErrors:i,validationDetails:u}=r.displayValidation,{labelProps:y,inputProps:f,isSelected:m,isPressed:x,isDisabled:w,isReadOnly:h}=le({...e,isInvalid:n},s,a);Q(e,r,a);let{isIndeterminate:p,isRequired:l,validationBehavior:v="aria"}=e;c.useEffect(()=>{a.current&&(a.current.indeterminate=!!p)});let{pressProps:b}=O({isDisabled:w||h,onPress(){let{[Z]:t}=e,{commitValidation:$}=t||r;$()}});return{labelProps:D(y,b),inputProps:{...f,checked:m,"aria-required":l&&v==="aria"||void 0,required:l&&v==="native"},isSelected:m,isPressed:x,isDisabled:w,isReadOnly:h,isInvalid:n,validationErrors:i,validationDetails:u}}function ce(e={}){let{isReadOnly:s}=e,[a,r]=te(e.isSelected,e.defaultSelected||!1,e.onChange);function n(u){s||r(u)}function i(){s||r(!a)}return{isSelected:a,setSelected:n,toggle:i}}var ue=(e=>(e.Checked="Checked",e.Unchecked="Unchecked",e.Mixed="Mixed",e))(ue||{}),fe=(e=>(e.Default="Default",e.Weak="Weak",e.Strong="Strong",e))(fe||{}),pe=(e=>(e.Default="Default",e.Large="Large",e.XLarge="XLarge",e))(pe||{});const be=e=>e==="Checked"||e==="Mixed",z="tw-bg-box-selected-strong tw-text-box-selected-strong-inverse hover:tw-bg-box-selected-strong-hover",me={Weak:"tw-bg-box-neutral-strong tw-text-box-neutral-strong-inverse hover:tw-bg-box-neutral-strong-hover",Default:z,Strong:z},we={Default:"tw-h-4 tw-w-4",Large:"tw-h-5 tw-w-5",XLarge:"tw-h-8 tw-w-8"},ge=({id:e,emphasis:s="Default",size:a="Default",disabled:r,required:n,label:i,hideLabel:u,tooltip:y,helperText:f,"aria-label":m,value:x,groupInputProps:w,onChange:h,state:p="Unchecked","data-test-id":l="checkbox"},v)=>{const b=ie(e),t=oe(v),{focusProps:$}=ee(),E=ce({onChange:r?void 0:h,isSelected:p==="Checked"}),[M,T]=c.useState(),d=c.useRef(null),P=c.useRef(null),[R,U]=c.useState(!1),[W,A]=c.useState(!1),j=g=>{g.key==="Tab"&&T(!0)},N=()=>{T(!1)};c.useEffect(()=>{var g,C;return(g=t==null?void 0:t.current)==null||g.addEventListener("keyup",j),(C=t==null?void 0:t.current)==null||C.addEventListener("blur",N),()=>{var L,I;(L=t==null?void 0:t.current)==null||L.removeEventListener("keyup",j),(I=t==null?void 0:t.current)==null||I.removeEventListener("blur",N)}},[]);const{inputProps:H}=de({isDisabled:r,isRequired:n,isIndeterminate:p==="Mixed","aria-label":m,value:x},E,t),X={Checked:o.jsx(se,{size:a==="XLarge"?F.Size24:F.Size16}),Mixed:o.jsx(ae,{}),Unchecked:null},q=be(p),_=k(["tw-bg-box-disabled tw-pointer-events-none tw-text-box-disabled-inverse tw-border-line-strong",q&&"tw-text-box-disabled-inverse tw-border-line-strong"]),B=q?me[s]:k(["tw-bg-base hover:tw-bg-box-neutral",s==="Strong"?"tw-border-2 tw-border-box-selected-strong":"tw-border tw-border-line-xx-strong"]),S=c.useCallback(()=>{var g,C,L,I;d.current&&U(((g=d.current)==null?void 0:g.scrollWidth)>((C=d.current)==null?void 0:C.clientWidth)),P.current&&A(((L=P.current)==null?void 0:L.scrollWidth)>((I=P.current)==null?void 0:I.clientWidth))},[d,P]);return c.useEffect(()=>{if(!(!i&&!f||u))return S(),window.removeEventListener("resize",S),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[i,f,u,S]),o.jsx("div",{className:"tw-gap-1 tw-transition-colors tw-w-full","data-test-id":l,children:o.jsx("div",{className:k(["tw-inline-flex tw-flex-row tw-rounded tw-w-full",M?ne:""]),children:o.jsx(re,{id:`${b}-label`,disabled:r,clickable:!0,htmlFor:b,tooltip:y,required:n,bold:q,children:o.jsxs("span",{className:"tw-flex tw-items-center tw-whitespace-nowrap",children:[o.jsxs("span",{className:"tw-inline-flex",children:[o.jsx("input",{...D(w||H,$),id:b,ref:t,className:"tw-sr-only","data-test-id":`${l}-input`,role:"checkbox","aria-checked":p==="Checked",required:n,"aria-label":m,"aria-labelledby":i?`${b}-label`:void 0}),o.jsx("span",{"data-test-id":`${l}-icon-box`,"aria-hidden":"true",className:k(["tw-leading-3 tw-relative tw-flex tw-items-center tw-justify-center tw-rounded tw-shrink-0 tw-flex-none",we[a],r?_:B]),children:X[p]})]}),!u&&o.jsxs("span",{className:"tw-inline-flex tw-flex-col tw-min-w-0 tw-ml-1.5",children:[i&&o.jsx("span",{ref:d,"data-test-id":`${l}-label`,className:k(["tw-text-ellipsis tw-overflow-hidden","tw-text-xs tw-select-none hover:tw-cursor-pointer hover:tw-text-black dark:hover:tw-text-white group-hover:tw-text-black dark:group-hover:tw-text-white",q&&"tw-font-medium"]),title:R?i:void 0,children:i}),f&&o.jsx("span",{ref:P,"data-test-id":`${l}-helper-text`,className:k(["tw-text-ellipsis tw-overflow-hidden","tw-font-sans tw-text-xs tw-font-normal",r?"text-disabled":"tw-text-text-weak"]),title:W?f:void 0,children:f})]})]})})})})},V=c.forwardRef(ge);V.displayName="FondueCheckbox";V.__docgenInfo={description:"@deprecated Use `Checkbox` from `@frontify/fondue/components` instead. Also check {@link https://github.com/Frontify/fondue/blob/main/packages/components/MIGRATING.md#checkbox the migration guide}.",methods:[],displayName:"FondueCheckbox",props:{id:{required:!1,tsType:{name:"string"},description:""},state:{required:!1,tsType:{name:"CheckboxState"},description:"",defaultValue:{value:"CheckboxState.Unchecked",computed:!0}},emphasis:{required:!1,tsType:{name:"CheckboxEmphasis"},description:"",defaultValue:{value:"CheckboxEmphasis.Default",computed:!0}},size:{required:!1,tsType:{name:"CheckboxSize"},description:"",defaultValue:{value:"CheckboxSize.Default",computed:!0}},disabled:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isChecked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isChecked"}],return:{name:"void"}}},description:""},label:{required:!1,tsType:{name:"string"},description:""},hideLabel:{required:!1,tsType:{name:"boolean"},description:""},tooltip:{required:!1,tsType:{name:"union",raw:`| (LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)
| (LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)[]`,elements:[{name:"unknown"},{name:"Array",elements:[{name:"unknown"}],raw:"(LegacyTooltipProps & Pick<TooltipIconProps, 'triggerStyle' | 'triggerIcon'>)[]"}]},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},groupInputProps:{required:!1,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'checkbox'",computed:!1}}}};export{ce as $,ue as C,pe as a,fe as b,V as c,de as d};
