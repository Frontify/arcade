import{j as X}from"./jsx-runtime-DH9XN8A8.js";import{r as c,R as $}from"./index-v7USjxUg.js";import{r as Be}from"./index-voQlCD4e.js";import{p as bo,e as wo}from"./immer-DpFkcGey.js";import{i as xo}from"./index-DlnOb27V.js";import{m as Mn}from"./merge-DI-veSMP.js";function Eo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Ot=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ke(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hn(e){return"nodeType"in e}function U(e){var t,n;return e?Ke(e)?e:hn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function mn(e){const{Document:t}=U(e);return e instanceof t}function ft(e){return Ke(e)?!1:e instanceof U(e).HTMLElement}function yr(e){return e instanceof U(e).SVGElement}function Ye(e){return e?Ke(e)?e.document:hn(e)?mn(e)?e:ft(e)||yr(e)?e.ownerDocument:document:document:document}const ce=Ot?c.useLayoutEffect:c.useEffect;function Nt(e){const t=c.useRef(e);return ce(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function So(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function lt(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return ce(()=>{n.current!==e&&(n.current=e)},t),n}function pt(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function xt(e){const t=Nt(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function Et(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let Vt={};function gt(e,t){return c.useMemo(()=>{if(t)return t;const n=Vt[e]==null?0:Vt[e]+1;return Vt[e]=n,e+"-"+n},[e,t])}function br(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,a)=>{const i=Object.entries(a);for(const[l,u]of i){const d=s[l];d!=null&&(s[l]=d+e*u)}return s},{...t})}}const Ue=br(1),St=br(-1);function Do(e){return"clientX"in e&&"clientY"in e}function At(e){if(!e)return!1;const{KeyboardEvent:t}=U(e.target);return t&&e instanceof t}function Io(e){if(!e)return!1;const{TouchEvent:t}=U(e.target);return t&&e instanceof t}function Dt(e){if(Io(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Do(e)?{x:e.clientX,y:e.clientY}:null}const Ne=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ne.Translate.toString(e),Ne.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Pn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Co(e){return e.matches(Pn)?e:e.querySelector(Pn)}const To={display:"none"};function Ro(e){let{id:t,value:n}=e;return $.createElement("div",{id:t,style:To},n)}function Oo(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return $.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function No(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const wr=c.createContext(null);function Ao(e){const t=c.useContext(wr);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function _o(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:s}=r;e.forEach(a=>{var i;return(i=a[o])==null?void 0:i.call(a,s)})},[e]),t]}const Mo={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Po={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $o(e){let{announcements:t=Po,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Mo}=e;const{announce:s,announcement:a}=No(),i=gt("DndLiveRegion"),[l,u]=c.useState(!1);if(c.useEffect(()=>{u(!0)},[]),Ao(c.useMemo(()=>({onDragStart(f){let{active:h}=f;s(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:g}=f;t.onDragMove&&s(t.onDragMove({active:h,over:g}))},onDragOver(f){let{active:h,over:g}=f;s(t.onDragOver({active:h,over:g}))},onDragEnd(f){let{active:h,over:g}=f;s(t.onDragEnd({active:h,over:g}))},onDragCancel(f){let{active:h,over:g}=f;s(t.onDragCancel({active:h,over:g}))}}),[s,t])),!l)return null;const d=$.createElement($.Fragment,null,$.createElement(Ro,{id:r,value:o.draggable}),$.createElement(Oo,{id:i,announcement:a}));return n?Be.createPortal(d,n):d}var k;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function It(){}function $n(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Lo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ue=Object.freeze({x:0,y:0});function jo(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ko(e,t){const n=Dt(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function zo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function Fo(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ln(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function xr(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const Er=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=Ln(t),s=[];for(const a of r){const{id:i}=a,l=n.get(i);if(l){const u=Ln(l),d=o.reduce((h,g,v)=>h+jo(u[v],g),0),f=Number((d/4).toFixed(4));s.push({id:i,data:{droppableContainer:a,value:f}})}}return s.sort(zo)};function qo(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),a=o-r,i=s-n;if(r<o&&n<s){const l=t.width*t.height,u=e.width*e.height,d=a*i,f=d/(l+u-d);return Number(f.toFixed(4))}return 0}const Bo=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:a}=s,i=n.get(a);if(i){const l=qo(i,t);l>0&&o.push({id:a,data:{droppableContainer:s,value:l}})}}return o.sort(Fo)};function Ho(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function Sr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ue}function Uo(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((a,i)=>({...a,top:a.top+e*i.y,bottom:a.bottom+e*i.y,left:a.left+e*i.x,right:a.right+e*i.x}),{...n})}}const Go=Uo(1);function Dr(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Wo(e,t,n){const r=Dr(t);if(!r)return e;const{scaleX:o,scaleY:s,x:a,y:i}=r,l=e.left-a-(1-o)*parseFloat(n),u=e.top-i-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:u,right:l+d,bottom:u+f,left:l}}const Xo={ignoreTransform:!1};function Ve(e,t){t===void 0&&(t=Xo);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=U(e).getComputedStyle(e);u&&(n=Wo(n,u,d))}const{top:r,left:o,width:s,height:a,bottom:i,right:l}=n;return{top:r,left:o,width:s,height:a,bottom:i,right:l}}function jn(e){return Ve(e,{ignoreTransform:!0})}function Ko(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Yo(e,t){return t===void 0&&(t=U(e).getComputedStyle(e)),t.position==="fixed"}function Vo(e,t){t===void 0&&(t=U(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function vn(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(mn(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!ft(o)||yr(o)||n.includes(o))return n;const s=U(e).getComputedStyle(o);return o!==e&&Vo(o,s)&&n.push(o),Yo(o,s)?n:r(o.parentNode)}return e?r(e):n}function Ir(e){const[t]=vn(e,1);return t??null}function Jt(e){return!Ot||!e?null:Ke(e)?e:hn(e)?mn(e)||e===Ye(e).scrollingElement?window:ft(e)?e:null:null}function Cr(e){return Ke(e)?e.scrollX:e.scrollLeft}function Tr(e){return Ke(e)?e.scrollY:e.scrollTop}function sn(e){return{x:Cr(e),y:Tr(e)}}var F;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(F||(F={}));function Rr(e){return!Ot||!e?!1:e===document.scrollingElement}function Or(e){const t={x:0,y:0},n=Rr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,a=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:a,isRight:i,maxScroll:r,minScroll:t}}const Jo={x:.2,y:.2};function Qo(e,t,n,r,o){let{top:s,left:a,right:i,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=Jo);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=Or(e),g={x:0,y:0},v={x:0,y:0},m={height:t.height*o.y,width:t.width*o.x};return!u&&s<=t.top+m.height?(g.y=F.Backward,v.y=r*Math.abs((t.top+m.height-s)/m.height)):!d&&l>=t.bottom-m.height&&(g.y=F.Forward,v.y=r*Math.abs((t.bottom-m.height-l)/m.height)),!h&&i>=t.right-m.width?(g.x=F.Forward,v.x=r*Math.abs((t.right-m.width-i)/m.width)):!f&&a<=t.left+m.width&&(g.x=F.Backward,v.x=r*Math.abs((t.left+m.width-a)/m.width)),{direction:g,speed:v}}function Zo(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Nr(e){return e.reduce((t,n)=>Ue(t,sn(n)),ue)}function es(e){return e.reduce((t,n)=>t+Cr(n),0)}function ts(e){return e.reduce((t,n)=>t+Tr(n),0)}function Ar(e,t){if(t===void 0&&(t=Ve),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);Ir(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ns=[["x",["left","right"],es],["y",["top","bottom"],ts]];class yn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=vn(n),o=Nr(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,a,i]of ns)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=i(r),d=o[s]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ot{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function rs(e){const{EventTarget:t}=U(e);return e instanceof t?e:Ye(e)}function Qt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var re;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(re||(re={}));function kn(e){e.preventDefault()}function os(e){e.stopPropagation()}var S;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(S||(S={}));const _r={start:[S.Space,S.Enter],cancel:[S.Esc],end:[S.Space,S.Enter,S.Tab]},ss=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case S.Right:return{...n,x:n.x+25};case S.Left:return{...n,x:n.x-25};case S.Down:return{...n,y:n.y+25};case S.Up:return{...n,y:n.y-25}}};class bn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ot(Ye(n)),this.windowListeners=new ot(U(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(re.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ar(r),n(ue)}handleKeyDown(t){if(At(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=_r,coordinateGetter:a=ss,scrollBehavior:i="smooth"}=o,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ue;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(t,{active:n,context:r.current,currentCoordinates:d});if(f){const h=St(f,d),g={x:0,y:0},{scrollableAncestors:v}=r.current;for(const m of v){const y=t.code,{isTop:p,isRight:b,isLeft:w,isBottom:x,maxScroll:E,minScroll:D}=Or(m),C=Zo(m),T={x:Math.min(y===S.Right?C.right-C.width/2:C.right,Math.max(y===S.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(y===S.Down?C.bottom-C.height/2:C.bottom,Math.max(y===S.Down?C.top:C.top+C.height/2,f.y))},R=y===S.Right&&!b||y===S.Left&&!w,A=y===S.Down&&!x||y===S.Up&&!p;if(R&&T.x!==f.x){const O=m.scrollLeft+h.x,z=y===S.Right&&O<=E.x||y===S.Left&&O>=D.x;if(z&&!h.y){m.scrollTo({left:O,behavior:i});return}z?g.x=m.scrollLeft-O:g.x=y===S.Right?m.scrollLeft-E.x:m.scrollLeft-D.x,g.x&&m.scrollBy({left:-g.x,behavior:i});break}else if(A&&T.y!==f.y){const O=m.scrollTop+h.y,z=y===S.Down&&O<=E.y||y===S.Up&&O>=D.y;if(z&&!h.x){m.scrollTo({top:O,behavior:i});return}z?g.y=m.scrollTop-O:g.y=y===S.Down?m.scrollTop-E.y:m.scrollTop-D.y,g.y&&m.scrollBy({top:-g.y,behavior:i});break}}this.handleMove(t,Ue(St(f,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}bn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=_r,onActivation:o}=t,{active:s}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const i=s.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function zn(e){return!!(e&&"distance"in e)}function Fn(e){return!!(e&&"delay"in e)}class wn{constructor(t,n,r){var o;r===void 0&&(r=rs(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:a}=s;this.props=t,this.events=n,this.document=Ye(a),this.documentListeners=new ot(this.document),this.listeners=new ot(r),this.windowListeners=new ot(U(a)),this.initialCoordinates=(o=Dt(s))!=null?o:ue,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(re.Resize,this.handleCancel),this.windowListeners.add(re.DragStart,kn),this.windowListeners.add(re.VisibilityChange,this.handleCancel),this.windowListeners.add(re.ContextMenu,kn),this.documentListeners.add(re.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(zn(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(re.Click,os,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(re.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:a,options:{activationConstraint:i}}=s;if(!o)return;const l=(n=Dt(t))!=null?n:ue,u=St(o,l);if(!r&&i){if(zn(i)){if(i.tolerance!=null&&Qt(u,i.tolerance))return this.handleCancel();if(Qt(u,i.distance))return this.handleStart()}if(Fn(i)&&Qt(u,i.tolerance))return this.handleCancel();this.handlePending(i,u);return}t.cancelable&&t.preventDefault(),a(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===S.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const as={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class xn extends wn{constructor(t){const{event:n}=t,r=Ye(n.target);super(t,as,r)}}xn.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const is={move:{name:"mousemove"},end:{name:"mouseup"}};var an;(function(e){e[e.RightClick=2]="RightClick"})(an||(an={}));class ls extends wn{constructor(t){super(t,is,Ye(t.event.target))}}ls.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===an.RightClick?!1:(r==null||r({event:n}),!0)}}];const Zt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class cs extends wn{constructor(t){super(t,Zt)}static setup(){return window.addEventListener(Zt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Zt.move.name,t)};function t(){}}}cs.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var st;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(st||(st={}));var Ct;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ct||(Ct={}));function us(e){let{acceleration:t,activator:n=st.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:a=5,order:i=Ct.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const g=fs({delta:f,disabled:!s}),[v,m]=So(),y=c.useRef({x:0,y:0}),p=c.useRef({x:0,y:0}),b=c.useMemo(()=>{switch(n){case st.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case st.DraggableRect:return o}},[n,o,l]),w=c.useRef(null),x=c.useCallback(()=>{const D=w.current;if(!D)return;const C=y.current.x*p.current.x,T=y.current.y*p.current.y;D.scrollBy(C,T)},[]),E=c.useMemo(()=>i===Ct.TreeOrder?[...u].reverse():u,[i,u]);c.useEffect(()=>{if(!s||!u.length||!b){m();return}for(const D of E){if((r==null?void 0:r(D))===!1)continue;const C=u.indexOf(D),T=d[C];if(!T)continue;const{direction:R,speed:A}=Qo(D,T,b,t,h);for(const O of["x","y"])g[O][R[O]]||(A[O]=0,R[O]=0);if(A.x>0||A.y>0){m(),w.current=D,v(x,a),y.current=A,p.current=R;return}}y.current={x:0,y:0},p.current={x:0,y:0},m()},[t,x,r,m,s,a,JSON.stringify(b),JSON.stringify(g),v,u,E,d,JSON.stringify(h)])}const ds={x:{[F.Backward]:!1,[F.Forward]:!1},y:{[F.Backward]:!1,[F.Forward]:!1}};function fs(e){let{delta:t,disabled:n}=e;const r=Et(t);return pt(o=>{if(n||!r||!o)return ds;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[F.Backward]:o.x[F.Backward]||s.x===-1,[F.Forward]:o.x[F.Forward]||s.x===1},y:{[F.Backward]:o.y[F.Backward]||s.y===-1,[F.Forward]:o.y[F.Forward]||s.y===1}}},[n,t,r])}function ps(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return pt(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function gs(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(a=>({eventName:a.eventName,handler:t(a.handler,r)}));return[...n,...s]},[]),[e,t])}var Ge;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ge||(Ge={}));var ln;(function(e){e.Optimized="optimized"})(ln||(ln={}));const qn=new Map;function hs(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,a]=c.useState(null),{frequency:i,measure:l,strategy:u}=o,d=c.useRef(e),f=y(),h=lt(f),g=c.useCallback(function(p){p===void 0&&(p=[]),!h.current&&a(b=>b===null?p:b.concat(p.filter(w=>!b.includes(w))))},[h]),v=c.useRef(null),m=pt(p=>{if(f&&!n)return qn;if(!p||p===qn||d.current!==e||s!=null){const b=new Map;for(let w of e){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const x=w.node.current,E=x?new yn(l(x),x):null;w.rect.current=E,E&&b.set(w.id,E)}return b}return p},[e,s,n,f,l]);return c.useEffect(()=>{d.current=e},[e]),c.useEffect(()=>{f||g()},[n,f]),c.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),c.useEffect(()=>{f||typeof i!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},i))},[i,f,g,...r]),{droppableRects:m,measureDroppableContainers:g,measuringScheduled:s!=null};function y(){switch(u){case Ge.Always:return!1;case Ge.BeforeDragging:return n;default:return!n}}}function En(e,t){return pt(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ms(e,t){return En(e,t)}function vs(e){let{callback:t,disabled:n}=e;const r=Nt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function _t(e){let{callback:t,disabled:n}=e;const r=Nt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ys(e){return new yn(Ve(e),e)}function Bn(e,t,n){t===void 0&&(t=ys);const[r,o]=c.useState(null);function s(){o(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=t(e);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const a=vs({callback(l){if(e)for(const u of l){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),i=_t({callback:s});return ce(()=>{s(),e?(i==null||i.observe(e),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),a==null||a.disconnect())},[e]),r}function bs(e){const t=En(e);return Sr(e,t)}const Hn=[];function ws(e){const t=c.useRef(e),n=pt(r=>e?r&&r!==Hn&&e&&t.current&&e.parentNode===t.current.parentNode?r:vn(e):Hn,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function xs(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(s=>{const a=Jt(s.target);a&&n(i=>i?(i.set(a,sn(a)),new Map(i)):null)},[]);return c.useEffect(()=>{const s=r.current;if(e!==s){a(s);const i=e.map(l=>{const u=Jt(l);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,sn(u)]):null}).filter(l=>l!=null);n(i.length?new Map(i):null),r.current=e}return()=>{a(e),a(s)};function a(i){i.forEach(l=>{const u=Jt(l);u==null||u.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,a)=>Ue(s,a),ue):Nr(e):ue,[e,t])}function Un(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==ue;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?St(e,n.current):ue}function Es(e){c.useEffect(()=>{if(!Ot)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ss(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=a=>{s(a,t)},n},{}),[e,t])}function Mr(e){return c.useMemo(()=>e?Ko(e):null,[e])}const Gn=[];function Ds(e,t){t===void 0&&(t=Ve);const[n]=e,r=Mr(n?U(n):null),[o,s]=c.useState(Gn);function a(){s(()=>e.length?e.map(l=>Rr(l)?r:new yn(t(l),l)):Gn)}const i=_t({callback:a});return ce(()=>{i==null||i.disconnect(),a(),e.forEach(l=>i==null?void 0:i.observe(l))},[e]),o}function Pr(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ft(t)?t:e}function Is(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(u=>{for(const{target:d}of u)if(ft(d)){r(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),s=_t({callback:o}),a=c.useCallback(u=>{const d=Pr(u);s==null||s.disconnect(),d&&(s==null||s.observe(d)),r(d?t(d):null)},[t,s]),[i,l]=xt(a);return c.useMemo(()=>({nodeRef:i,rect:n,setRef:l}),[n,i,l])}const Cs=[{sensor:xn,options:{}},{sensor:bn,options:{}}],Ts={current:{}},wt={draggable:{measure:jn},droppable:{measure:jn,strategy:Ge.WhileDragging,frequency:ln.Optimized},dragOverlay:{measure:Ve}};class at extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Rs={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new at,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:It},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:wt,measureDroppableContainers:It,windowRect:null,measuringScheduled:!1},$r={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:It,draggableNodes:new Map,over:null,measureDroppableContainers:It},ht=c.createContext($r),Lr=c.createContext(Rs);function Os(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new at}}}function Ns(e,t){switch(t.type){case k.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case k.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case k.DragEnd:case k.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case k.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new at(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case k.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new at(e.droppable.containers);return a.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case k.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new at(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function As(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(ht),s=Et(r),a=Et(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&s&&a!=null){if(!At(s)||document.activeElement===s.target)return;const i=o.get(a);if(!i)return;const{activatorNode:l,node:u}=i;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const f=Co(d);if(f){f.focus();break}}})}},[r,t,o,a,s]),null}function jr(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function _s(e){return c.useMemo(()=>({draggable:{...wt.draggable,...e==null?void 0:e.draggable},droppable:{...wt.droppable,...e==null?void 0:e.droppable},dragOverlay:{...wt.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ms(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=c.useRef(!1),{x:a,y:i}=typeof o=="boolean"?{x:o,y:o}:o;ce(()=>{if(!a&&!i||!t){s.current=!1;return}if(s.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=Sr(d,r);if(a||(f.x=0),i||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=Ir(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,a,i,r,n])}const Mt=c.createContext({...ue,scaleX:1,scaleY:1});var De;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(De||(De={}));const Ps=c.memo(function(t){var n,r,o,s;let{id:a,accessibility:i,autoScroll:l=!0,children:u,sensors:d=Cs,collisionDetection:f=Bo,measuring:h,modifiers:g,...v}=t;const m=c.useReducer(Ns,void 0,Os),[y,p]=m,[b,w]=_o(),[x,E]=c.useState(De.Uninitialized),D=x===De.Initialized,{draggable:{active:C,nodes:T,translate:R},droppable:{containers:A}}=y,O=C!=null?T.get(C):null,z=c.useRef({initial:null,translated:null}),G=c.useMemo(()=>{var H;return C!=null?{id:C,data:(H=O==null?void 0:O.data)!=null?H:Ts,rect:z}:null},[C,O]),K=c.useRef(null),[Q,se]=c.useState(null),[j,Pe]=c.useState(null),ae=lt(v,Object.values(v)),Te=gt("DndDescribedBy",a),$e=c.useMemo(()=>A.getEnabled(),[A]),B=_s(h),{droppableRects:Z,measureDroppableContainers:ge,measuringScheduled:ye}=hs($e,{dragging:D,dependencies:[R.x,R.y],config:B.droppable}),W=ps(T,C),Le=c.useMemo(()=>j?Dt(j):null,[j]),de=yo(),ie=ms(W,B.draggable.measure);Ms({activeNode:C!=null?T.get(C):null,config:de.layoutShiftCompensation,initialRect:ie,measure:B.draggable.measure});const N=Bn(W,B.draggable.measure,ie),Re=Bn(W?W.parentElement:null),ee=c.useRef({activatorEvent:null,active:null,activeNode:W,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),be=A.getNodeFor((n=ee.current.over)==null?void 0:n.id),te=Is({measure:B.dragOverlay.measure}),I=(r=te.nodeRef.current)!=null?r:W,L=D?(o=te.rect)!=null?o:N:null,P=!!(te.nodeRef.current&&te.rect),je=bs(P?null:N),Qe=Mr(I?U(I):null),le=ws(D?be??W:null),Oe=Ds(le),ke=jr(g,{transform:{x:R.x-je.x,y:R.y-je.y,scaleX:1,scaleY:1},activatorEvent:j,active:G,activeNodeRect:N,containerNodeRect:Re,draggingNodeRect:L,over:ee.current.over,overlayNodeRect:te.rect,scrollableAncestors:le,scrollableAncestorRects:Oe,windowRect:Qe}),Tn=Le?Ue(Le,R):null,Rn=xs(le),uo=Un(Rn),fo=Un(Rn,[N]),ze=Ue(ke,uo),Fe=L?Go(L,ke):null,Ze=G&&Fe?f({active:G,collisionRect:Fe,droppableRects:Z,droppableContainers:$e,pointerCoordinates:Tn}):null,On=xr(Ze,"id"),[we,Nn]=c.useState(null),po=P?ke:Ue(ke,fo),go=Ho(po,(s=we==null?void 0:we.rect)!=null?s:null,N),Kt=c.useRef(null),An=c.useCallback((H,Y)=>{let{sensor:V,options:xe}=Y;if(K.current==null)return;const ne=T.get(K.current);if(!ne)return;const J=H.nativeEvent,fe=new V({active:K.current,activeNode:ne,event:J,options:xe,context:ee,onAbort(q){if(!T.get(q))return;const{onDragAbort:pe}=ae.current,he={id:q};pe==null||pe(he),b({type:"onDragAbort",event:he})},onPending(q,Ee,pe,he){if(!T.get(q))return;const{onDragPending:tt}=ae.current,Se={id:q,constraint:Ee,initialCoordinates:pe,offset:he};tt==null||tt(Se),b({type:"onDragPending",event:Se})},onStart(q){const Ee=K.current;if(Ee==null)return;const pe=T.get(Ee);if(!pe)return;const{onDragStart:he}=ae.current,et={activatorEvent:J,active:{id:Ee,data:pe.data,rect:z}};Be.unstable_batchedUpdates(()=>{he==null||he(et),E(De.Initializing),p({type:k.DragStart,initialCoordinates:q,active:Ee}),b({type:"onDragStart",event:et}),se(Kt.current),Pe(J)})},onMove(q){p({type:k.DragMove,coordinates:q})},onEnd:qe(k.DragEnd),onCancel:qe(k.DragCancel)});Kt.current=fe;function qe(q){return async function(){const{active:pe,collisions:he,over:et,scrollAdjustedTranslate:tt}=ee.current;let Se=null;if(pe&&tt){const{cancelDrop:nt}=ae.current;Se={activatorEvent:J,active:pe,collisions:he,delta:tt,over:et},q===k.DragEnd&&typeof nt=="function"&&await Promise.resolve(nt(Se))&&(q=k.DragCancel)}K.current=null,Be.unstable_batchedUpdates(()=>{p({type:q}),E(De.Uninitialized),Nn(null),se(null),Pe(null),Kt.current=null;const nt=q===k.DragEnd?"onDragEnd":"onDragCancel";if(Se){const Yt=ae.current[nt];Yt==null||Yt(Se),b({type:nt,event:Se})}})}}},[T]),ho=c.useCallback((H,Y)=>(V,xe)=>{const ne=V.nativeEvent,J=T.get(xe);if(K.current!==null||!J||ne.dndKit||ne.defaultPrevented)return;const fe={active:J};H(V,Y.options,fe)===!0&&(ne.dndKit={capturedBy:Y.sensor},K.current=xe,An(V,Y))},[T,An]),_n=gs(d,ho);Es(d),ce(()=>{N&&x===De.Initializing&&E(De.Initialized)},[N,x]),c.useEffect(()=>{const{onDragMove:H}=ae.current,{active:Y,activatorEvent:V,collisions:xe,over:ne}=ee.current;if(!Y||!V)return;const J={active:Y,activatorEvent:V,collisions:xe,delta:{x:ze.x,y:ze.y},over:ne};Be.unstable_batchedUpdates(()=>{H==null||H(J),b({type:"onDragMove",event:J})})},[ze.x,ze.y]),c.useEffect(()=>{const{active:H,activatorEvent:Y,collisions:V,droppableContainers:xe,scrollAdjustedTranslate:ne}=ee.current;if(!H||K.current==null||!Y||!ne)return;const{onDragOver:J}=ae.current,fe=xe.get(On),qe=fe&&fe.rect.current?{id:fe.id,rect:fe.rect.current,data:fe.data,disabled:fe.disabled}:null,q={active:H,activatorEvent:Y,collisions:V,delta:{x:ne.x,y:ne.y},over:qe};Be.unstable_batchedUpdates(()=>{Nn(qe),J==null||J(q),b({type:"onDragOver",event:q})})},[On]),ce(()=>{ee.current={activatorEvent:j,active:G,activeNode:W,collisionRect:Fe,collisions:Ze,droppableRects:Z,draggableNodes:T,draggingNode:I,draggingNodeRect:L,droppableContainers:A,over:we,scrollableAncestors:le,scrollAdjustedTranslate:ze},z.current={initial:L,translated:Fe}},[G,W,Ze,Fe,T,I,L,Z,A,we,le,ze]),us({...de,delta:R,draggingRect:Fe,pointerCoordinates:Tn,scrollableAncestors:le,scrollableAncestorRects:Oe});const mo=c.useMemo(()=>({active:G,activeNode:W,activeNodeRect:N,activatorEvent:j,collisions:Ze,containerNodeRect:Re,dragOverlay:te,draggableNodes:T,droppableContainers:A,droppableRects:Z,over:we,measureDroppableContainers:ge,scrollableAncestors:le,scrollableAncestorRects:Oe,measuringConfiguration:B,measuringScheduled:ye,windowRect:Qe}),[G,W,N,j,Ze,Re,te,T,A,Z,we,ge,le,Oe,B,ye,Qe]),vo=c.useMemo(()=>({activatorEvent:j,activators:_n,active:G,activeNodeRect:N,ariaDescribedById:{draggable:Te},dispatch:p,draggableNodes:T,over:we,measureDroppableContainers:ge}),[j,_n,G,N,p,Te,T,we,ge]);return $.createElement(wr.Provider,{value:w},$.createElement(ht.Provider,{value:vo},$.createElement(Lr.Provider,{value:mo},$.createElement(Mt.Provider,{value:go},u)),$.createElement(As,{disabled:(i==null?void 0:i.restoreFocus)===!1})),$.createElement($o,{...i,hiddenTextDescribedById:Te}));function yo(){const H=(Q==null?void 0:Q.autoScrollEnabled)===!1,Y=typeof l=="object"?l.enabled===!1:l===!1,V=D&&!H&&!Y;return typeof l=="object"?{...l,enabled:V}:{enabled:V}}}),$s=c.createContext(null),Wn="button",Ls="Draggable";function js(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=gt(Ls),{activators:a,activatorEvent:i,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=c.useContext(ht),{role:g=Wn,roleDescription:v="draggable",tabIndex:m=0}=o??{},y=(l==null?void 0:l.id)===t,p=c.useContext(y?Mt:$s),[b,w]=xt(),[x,E]=xt(),D=Ss(a,t),C=lt(n);ce(()=>(f.set(t,{id:t,key:s,node:b,activatorNode:x,data:C}),()=>{const R=f.get(t);R&&R.key===s&&f.delete(t)}),[f,t]);const T=c.useMemo(()=>({role:g,tabIndex:m,"aria-disabled":r,"aria-pressed":y&&g===Wn?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,g,m,y,v,d.draggable]);return{active:l,activatorEvent:i,activeNodeRect:u,attributes:T,isDragging:y,listeners:r?void 0:D,node:b,over:h,setNodeRef:w,setActivatorNodeRef:E,transform:p}}function kr(){return c.useContext(Lr)}const ks="Droppable",zs={timeout:25};function Fs(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=gt(ks),{active:a,dispatch:i,over:l,measureDroppableContainers:u}=c.useContext(ht),d=c.useRef({disabled:n}),f=c.useRef(!1),h=c.useRef(null),g=c.useRef(null),{disabled:v,updateMeasurementsFor:m,timeout:y}={...zs,...o},p=lt(m??r),b=c.useCallback(()=>{if(!f.current){f.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(p.current)?p.current:[p.current]),g.current=null},y)},[y]),w=_t({callback:b,disabled:v||!a}),x=c.useCallback((T,R)=>{w&&(R&&(w.unobserve(R),f.current=!1),T&&w.observe(T))},[w]),[E,D]=xt(x),C=lt(t);return c.useEffect(()=>{!w||!E.current||(w.disconnect(),f.current=!1,w.observe(E.current))},[E,w]),c.useEffect(()=>(i({type:k.RegisterDroppable,element:{id:r,key:s,disabled:n,node:E,rect:h,data:C}}),()=>i({type:k.UnregisterDroppable,key:s,id:r})),[r]),c.useEffect(()=>{n!==d.current.disabled&&(i({type:k.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,i]),{active:a,rect:h,isOver:(l==null?void 0:l.id)===r,node:E,over:l,setNodeRef:D}}function qs(e){let{animation:t,children:n}=e;const[r,o]=c.useState(null),[s,a]=c.useState(null),i=Et(n);return!n&&!r&&i&&o(i),ce(()=>{if(!s)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){o(null);return}Promise.resolve(t(u,s)).then(()=>{o(null)})},[t,r,s]),$.createElement($.Fragment,null,n,r?c.cloneElement(r,{ref:a}):null)}const Bs={x:0,y:0,scaleX:1,scaleY:1};function Hs(e){let{children:t}=e;return $.createElement(ht.Provider,{value:$r},$.createElement(Mt.Provider,{value:Bs},t))}const Us={position:"fixed",touchAction:"none"},Gs=e=>At(e)?"transform 250ms ease":void 0,Ws=c.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:s,className:a,rect:i,style:l,transform:u,transition:d=Gs}=e;if(!i)return null;const f=o?u:{...u,scaleX:1,scaleY:1},h={...Us,width:i.width,height:i.height,top:i.top,left:i.left,transform:Ne.Transform.toString(f),transformOrigin:o&&r?ko(r,i):void 0,transition:typeof d=="function"?d(r):d,...l};return $.createElement(n,{className:a,style:h,ref:t},s)}),Xs=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:s,className:a}=e;if(s!=null&&s.active)for(const[i,l]of Object.entries(s.active))l!==void 0&&(o[i]=n.node.style.getPropertyValue(i),n.node.style.setProperty(i,l));if(s!=null&&s.dragOverlay)for(const[i,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(i,l);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(o))n.node.style.setProperty(l,u);a!=null&&a.active&&n.node.classList.remove(a.active)}},Ks=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Ne.Transform.toString(t)},{transform:Ne.Transform.toString(n)}]},Ys={duration:250,easing:"ease",keyframes:Ks,sideEffects:Xs({styles:{active:{opacity:"0"}}})};function Vs(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Nt((s,a)=>{if(t===null)return;const i=n.get(s);if(!i)return;const l=i.node.current;if(!l)return;const u=Pr(a);if(!u)return;const{transform:d}=U(a).getComputedStyle(a),f=Dr(d);if(!f)return;const h=typeof t=="function"?t:Js(t);return Ar(l,o.draggable.measure),h({active:{id:s,data:i.data,node:l,rect:o.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:a,rect:o.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:o,transform:f})})}function Js(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...Ys,...e};return s=>{let{active:a,dragOverlay:i,transform:l,...u}=s;if(!t)return;const d={x:i.rect.left-a.rect.left,y:i.rect.top-a.rect.top},f={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/i.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/i.rect.height:1},h={x:l.x-d.x,y:l.y-d.y,...f},g=o({...u,active:a,dragOverlay:i,transform:{initial:l,final:h}}),[v]=g,m=g[g.length-1];if(JSON.stringify(v)===JSON.stringify(m))return;const y=r==null?void 0:r({active:a,dragOverlay:i,...u}),p=i.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(b=>{p.onfinish=()=>{y==null||y(),b()}})}}let Xn=0;function Qs(e){return c.useMemo(()=>{if(e!=null)return Xn++,Xn},[e])}const Zs=$.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:s,modifiers:a,wrapperElement:i="div",className:l,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:g,draggableNodes:v,droppableContainers:m,dragOverlay:y,over:p,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:x,windowRect:E}=kr(),D=c.useContext(Mt),C=Qs(f==null?void 0:f.id),T=jr(a,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:g,draggingNodeRect:y.rect,over:p,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:x,transform:D,windowRect:E}),R=En(h),A=Vs({config:r,draggableNodes:v,droppableContainers:m,measuringConfiguration:b}),O=R?y.setRef:void 0;return $.createElement(Hs,null,$.createElement(qs,{animation:A},f&&C?$.createElement(Ws,{key:C,id:f.id,ref:O,as:i,activatorEvent:d,adjustScale:t,className:l,transition:s,rect:R,style:{zIndex:u,...o},transform:T},n):null))});function ea(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const ta=e=>{let{transform:t,draggingNodeRect:n,windowRect:r}=e;return!n||!r?t:ea(t,n,r)};function Pt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function na(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function vt(e){return e!==null&&e>=0}function ra(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function oa(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const zr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const s=Pt(t,r,n),a=t[o],i=s[o];return!i||!a?null:{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}},yt={scaleX:1,scaleY:1},sa=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:s,overIndex:a}=e;const i=(t=s[n])!=null?t:r;if(!i)return null;if(o===n){const u=s[a];return u?{x:0,y:n<a?u.top+u.height-(i.top+i.height):u.top-i.top,...yt}:null}const l=aa(s,o,n);return o>n&&o<=a?{x:0,y:-i.height-l,...yt}:o<n&&o>=a?{x:0,y:i.height+l,...yt}:{x:0,y:0,...yt}};function aa(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.top-(o.top+o.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Fr="Sortable",qr=$.createContext({activeIndex:-1,containerId:Fr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:zr,disabled:{draggable:!1,droppable:!1}});function ia(e){let{children:t,id:n,items:r,strategy:o=zr,disabled:s=!1}=e;const{active:a,dragOverlay:i,droppableRects:l,over:u,measureDroppableContainers:d}=kr(),f=gt(Fr,n),h=i.rect!==null,g=c.useMemo(()=>r.map(D=>typeof D=="object"&&"id"in D?D.id:D),[r]),v=a!=null,m=a?g.indexOf(a.id):-1,y=u?g.indexOf(u.id):-1,p=c.useRef(g),b=!ra(g,p.current),w=y!==-1&&m===-1||b,x=oa(s);ce(()=>{b&&v&&d(g)},[b,g,v,d]),c.useEffect(()=>{p.current=g},[g]);const E=c.useMemo(()=>({activeIndex:m,containerId:f,disabled:x,disableTransforms:w,items:g,overIndex:y,useDragOverlay:h,sortedRects:na(g,l),strategy:o}),[m,f,x.draggable,x.droppable,w,g,y,l,h,o]);return $.createElement(qr.Provider,{value:E},t)}const la=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Pt(n,r,o).indexOf(t)},ca=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:s,newIndex:a,previousItems:i,previousContainerId:l,transition:u}=e;return!u||!r||i!==s&&o===a?!1:n?!0:a!==o&&t===l},ua={duration:200,easing:"ease"},Br="transform",da=Ne.Transition.toString({property:Br,duration:0,easing:"linear"}),fa={roleDescription:"sortable"};function pa(e){let{disabled:t,index:n,node:r,rect:o}=e;const[s,a]=c.useState(null),i=c.useRef(n);return ce(()=>{if(!t&&n!==i.current&&r.current){const l=o.current;if(l){const u=Ve(r.current,{ignoreTransform:!0}),d={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(d.x||d.y)&&a(d)}}n!==i.current&&(i.current=n)},[t,n,r,o]),c.useEffect(()=>{s&&a(null)},[s]),s}function Ac(e){let{animateLayoutChanges:t=ca,attributes:n,disabled:r,data:o,getNewIndex:s=la,id:a,strategy:i,resizeObserverConfig:l,transition:u=ua}=e;const{items:d,containerId:f,activeIndex:h,disabled:g,disableTransforms:v,sortedRects:m,overIndex:y,useDragOverlay:p,strategy:b}=c.useContext(qr),w=ga(r,g),x=d.indexOf(a),E=c.useMemo(()=>({sortable:{containerId:f,index:x,items:d},...o}),[f,o,x,d]),D=c.useMemo(()=>d.slice(d.indexOf(a)),[d,a]),{rect:C,node:T,isOver:R,setNodeRef:A}=Fs({id:a,data:E,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:D,...l}}),{active:O,activatorEvent:z,activeNodeRect:G,attributes:K,setNodeRef:Q,listeners:se,isDragging:j,over:Pe,setActivatorNodeRef:ae,transform:Te}=js({id:a,data:E,attributes:{...fa,...n},disabled:w.draggable}),$e=Eo(A,Q),B=!!O,Z=B&&!v&&vt(h)&&vt(y),ge=!p&&j,ye=ge&&Z?Te:null,Le=Z?ye??(i??b)({rects:m,activeNodeRect:G,activeIndex:h,overIndex:y,index:x}):null,de=vt(h)&&vt(y)?s({id:a,items:d,activeIndex:h,overIndex:y}):x,ie=O==null?void 0:O.id,N=c.useRef({activeId:ie,items:d,newIndex:de,containerId:f}),Re=d!==N.current.items,ee=t({active:O,containerId:f,isDragging:j,isSorting:B,id:a,index:x,items:d,newIndex:N.current.newIndex,previousItems:N.current.items,previousContainerId:N.current.containerId,transition:u,wasDragging:N.current.activeId!=null}),be=pa({disabled:!ee,index:x,node:T,rect:C});return c.useEffect(()=>{B&&N.current.newIndex!==de&&(N.current.newIndex=de),f!==N.current.containerId&&(N.current.containerId=f),d!==N.current.items&&(N.current.items=d)},[B,de,f,d]),c.useEffect(()=>{if(ie===N.current.activeId)return;if(ie&&!N.current.activeId){N.current.activeId=ie;return}const I=setTimeout(()=>{N.current.activeId=ie},50);return()=>clearTimeout(I)},[ie]),{active:O,activeIndex:h,attributes:K,data:E,rect:C,index:x,newIndex:de,items:d,isOver:R,isSorting:B,isDragging:j,listeners:se,node:T,overIndex:y,over:Pe,setNodeRef:$e,setActivatorNodeRef:ae,setDroppableNodeRef:A,setDraggableNodeRef:Q,transform:be??Le,transition:te()};function te(){if(be||Re&&N.current.newIndex===x)return da;if(!(ge&&!At(z)||!u)&&(B||ee))return Ne.Transition.toString({...u,property:Br})}}function ga(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}S.Down,S.Right,S.Up,S.Left;var Hr=typeof global=="object"&&global&&global.Object===Object&&global,ha=typeof self=="object"&&self&&self.Object===Object&&self,me=Hr||ha||Function("return this")(),We=me.Symbol,Ur=Object.prototype,ma=Ur.hasOwnProperty,va=Ur.toString,rt=We?We.toStringTag:void 0;function ya(e){var t=ma.call(e,rt),n=e[rt];try{e[rt]=void 0;var r=!0}catch{}var o=va.call(e);return r&&(t?e[rt]=n:delete e[rt]),o}var ba=Object.prototype,wa=ba.toString;function xa(e){return wa.call(e)}var Ea="[object Null]",Sa="[object Undefined]",Kn=We?We.toStringTag:void 0;function mt(e){return e==null?e===void 0?Sa:Ea:Kn&&Kn in Object(e)?ya(e):xa(e)}function ct(e){return e!=null&&typeof e=="object"}var Tt=Array.isArray;function Gr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Da="[object AsyncFunction]",Ia="[object Function]",Ca="[object GeneratorFunction]",Ta="[object Proxy]";function Wr(e){if(!Gr(e))return!1;var t=mt(e);return t==Ia||t==Ca||t==Da||t==Ta}var en=me["__core-js_shared__"],Yn=function(){var e=/[^.]+$/.exec(en&&en.keys&&en.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ra(e){return!!Yn&&Yn in e}var Oa=Function.prototype,Na=Oa.toString;function _e(e){if(e!=null){try{return Na.call(e)}catch{}try{return e+""}catch{}}return""}var Aa=/[\\^$.*+?()[\]{}|]/g,_a=/^\[object .+?Constructor\]$/,Ma=Function.prototype,Pa=Object.prototype,$a=Ma.toString,La=Pa.hasOwnProperty,ja=RegExp("^"+$a.call(La).replace(Aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ka(e){if(!Gr(e)||Ra(e))return!1;var t=Wr(e)?ja:_a;return t.test(_e(e))}function za(e,t){return e==null?void 0:e[t]}function Je(e,t){var n=za(e,t);return ka(n)?n:void 0}var cn=Je(me,"WeakMap"),Fa=9007199254740991,qa=/^(?:0|[1-9]\d*)$/;function Ba(e,t){var n=typeof e;return t=t??Fa,!!t&&(n=="number"||n!="symbol"&&qa.test(e))&&e>-1&&e%1==0&&e<t}function Xr(e,t){return e===t||e!==e&&t!==t}var Ha=9007199254740991;function Kr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ha}function Ua(e){return e!=null&&Kr(e.length)&&!Wr(e)}var Ga=Object.prototype;function Wa(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ga;return e===n}function Xa(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Ka="[object Arguments]";function Vn(e){return ct(e)&&mt(e)==Ka}var Yr=Object.prototype,Ya=Yr.hasOwnProperty,Va=Yr.propertyIsEnumerable,Ja=Vn(function(){return arguments}())?Vn:function(e){return ct(e)&&Ya.call(e,"callee")&&!Va.call(e,"callee")};function Qa(){return!1}var Vr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jn=Vr&&typeof module=="object"&&module&&!module.nodeType&&module,Za=Jn&&Jn.exports===Vr,Qn=Za?me.Buffer:void 0,ei=Qn?Qn.isBuffer:void 0,un=ei||Qa,ti="[object Arguments]",ni="[object Array]",ri="[object Boolean]",oi="[object Date]",si="[object Error]",ai="[object Function]",ii="[object Map]",li="[object Number]",ci="[object Object]",ui="[object RegExp]",di="[object Set]",fi="[object String]",pi="[object WeakMap]",gi="[object ArrayBuffer]",hi="[object DataView]",mi="[object Float32Array]",vi="[object Float64Array]",yi="[object Int8Array]",bi="[object Int16Array]",wi="[object Int32Array]",xi="[object Uint8Array]",Ei="[object Uint8ClampedArray]",Si="[object Uint16Array]",Di="[object Uint32Array]",M={};M[mi]=M[vi]=M[yi]=M[bi]=M[wi]=M[xi]=M[Ei]=M[Si]=M[Di]=!0;M[ti]=M[ni]=M[gi]=M[ri]=M[hi]=M[oi]=M[si]=M[ai]=M[ii]=M[li]=M[ci]=M[ui]=M[di]=M[fi]=M[pi]=!1;function Ii(e){return ct(e)&&Kr(e.length)&&!!M[mt(e)]}function Ci(e){return function(t){return e(t)}}var Jr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,it=Jr&&typeof module=="object"&&module&&!module.nodeType&&module,Ti=it&&it.exports===Jr,tn=Ti&&Hr.process,Zn=function(){try{var e=it&&it.require&&it.require("util").types;return e||tn&&tn.binding&&tn.binding("util")}catch{}}(),er=Zn&&Zn.isTypedArray,Qr=er?Ci(er):Ii,Ri=Object.prototype,Oi=Ri.hasOwnProperty;function Ni(e,t){var n=Tt(e),r=!n&&Ja(e),o=!n&&!r&&un(e),s=!n&&!r&&!o&&Qr(e),a=n||r||o||s,i=a?Xa(e.length,String):[],l=i.length;for(var u in e)Oi.call(e,u)&&!(a&&(u=="length"||o&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ba(u,l)))&&i.push(u);return i}function Ai(e,t){return function(n){return e(t(n))}}var _i=Ai(Object.keys,Object),Mi=Object.prototype,Pi=Mi.hasOwnProperty;function $i(e){if(!Wa(e))return _i(e);var t=[];for(var n in Object(e))Pi.call(e,n)&&n!="constructor"&&t.push(n);return t}function Li(e){return Ua(e)?Ni(e):$i(e)}var ut=Je(Object,"create");function ji(){this.__data__=ut?ut(null):{},this.size=0}function ki(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zi="__lodash_hash_undefined__",Fi=Object.prototype,qi=Fi.hasOwnProperty;function Bi(e){var t=this.__data__;if(ut){var n=t[e];return n===zi?void 0:n}return qi.call(t,e)?t[e]:void 0}var Hi=Object.prototype,Ui=Hi.hasOwnProperty;function Gi(e){var t=this.__data__;return ut?t[e]!==void 0:Ui.call(t,e)}var Wi="__lodash_hash_undefined__";function Xi(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ut&&t===void 0?Wi:t,this}function Ae(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ae.prototype.clear=ji;Ae.prototype.delete=ki;Ae.prototype.get=Bi;Ae.prototype.has=Gi;Ae.prototype.set=Xi;function Ki(){this.__data__=[],this.size=0}function $t(e,t){for(var n=e.length;n--;)if(Xr(e[n][0],t))return n;return-1}var Yi=Array.prototype,Vi=Yi.splice;function Ji(e){var t=this.__data__,n=$t(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Vi.call(t,n,1),--this.size,!0}function Qi(e){var t=this.__data__,n=$t(t,e);return n<0?void 0:t[n][1]}function Zi(e){return $t(this.__data__,e)>-1}function el(e,t){var n=this.__data__,r=$t(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ve(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ve.prototype.clear=Ki;ve.prototype.delete=Ji;ve.prototype.get=Qi;ve.prototype.has=Zi;ve.prototype.set=el;var dt=Je(me,"Map");function tl(){this.size=0,this.__data__={hash:new Ae,map:new(dt||ve),string:new Ae}}function nl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Lt(e,t){var n=e.__data__;return nl(t)?n[typeof t=="string"?"string":"hash"]:n.map}function rl(e){var t=Lt(this,e).delete(e);return this.size-=t?1:0,t}function ol(e){return Lt(this,e).get(e)}function sl(e){return Lt(this,e).has(e)}function al(e,t){var n=Lt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Me(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Me.prototype.clear=tl;Me.prototype.delete=rl;Me.prototype.get=ol;Me.prototype.has=sl;Me.prototype.set=al;function il(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function ll(){this.__data__=new ve,this.size=0}function cl(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function ul(e){return this.__data__.get(e)}function dl(e){return this.__data__.has(e)}var fl=200;function pl(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!dt||r.length<fl-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Me(r)}return n.set(e,t),this.size=n.size,this}function Ce(e){var t=this.__data__=new ve(e);this.size=t.size}Ce.prototype.clear=ll;Ce.prototype.delete=cl;Ce.prototype.get=ul;Ce.prototype.has=dl;Ce.prototype.set=pl;function gl(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[o++]=a)}return s}function hl(){return[]}var ml=Object.prototype,vl=ml.propertyIsEnumerable,tr=Object.getOwnPropertySymbols,yl=tr?function(e){return e==null?[]:(e=Object(e),gl(tr(e),function(t){return vl.call(e,t)}))}:hl;function bl(e,t,n){var r=t(e);return Tt(e)?r:il(r,n(e))}function nr(e){return bl(e,Li,yl)}var dn=Je(me,"DataView"),fn=Je(me,"Promise"),pn=Je(me,"Set"),rr="[object Map]",wl="[object Object]",or="[object Promise]",sr="[object Set]",ar="[object WeakMap]",ir="[object DataView]",xl=_e(dn),El=_e(dt),Sl=_e(fn),Dl=_e(pn),Il=_e(cn),Ie=mt;(dn&&Ie(new dn(new ArrayBuffer(1)))!=ir||dt&&Ie(new dt)!=rr||fn&&Ie(fn.resolve())!=or||pn&&Ie(new pn)!=sr||cn&&Ie(new cn)!=ar)&&(Ie=function(e){var t=mt(e),n=t==wl?e.constructor:void 0,r=n?_e(n):"";if(r)switch(r){case xl:return ir;case El:return rr;case Sl:return or;case Dl:return sr;case Il:return ar}return t});var lr=me.Uint8Array,Cl="__lodash_hash_undefined__";function Tl(e){return this.__data__.set(e,Cl),this}function Rl(e){return this.__data__.has(e)}function Rt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Me;++t<n;)this.add(e[t])}Rt.prototype.add=Rt.prototype.push=Tl;Rt.prototype.has=Rl;function Ol(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Nl(e,t){return e.has(t)}var Al=1,_l=2;function Zr(e,t,n,r,o,s){var a=n&Al,i=e.length,l=t.length;if(i!=l&&!(a&&l>i))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,g=n&_l?new Rt:void 0;for(s.set(e,t),s.set(t,e);++f<i;){var v=e[f],m=t[f];if(r)var y=a?r(m,v,f,t,e,s):r(v,m,f,e,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!Ol(t,function(p,b){if(!Nl(g,b)&&(v===p||o(v,p,n,r,s)))return g.push(b)})){h=!1;break}}else if(!(v===m||o(v,m,n,r,s))){h=!1;break}}return s.delete(e),s.delete(t),h}function Ml(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function Pl(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var $l=1,Ll=2,jl="[object Boolean]",kl="[object Date]",zl="[object Error]",Fl="[object Map]",ql="[object Number]",Bl="[object RegExp]",Hl="[object Set]",Ul="[object String]",Gl="[object Symbol]",Wl="[object ArrayBuffer]",Xl="[object DataView]",cr=We?We.prototype:void 0,nn=cr?cr.valueOf:void 0;function Kl(e,t,n,r,o,s,a){switch(n){case Xl:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Wl:return!(e.byteLength!=t.byteLength||!s(new lr(e),new lr(t)));case jl:case kl:case ql:return Xr(+e,+t);case zl:return e.name==t.name&&e.message==t.message;case Bl:case Ul:return e==t+"";case Fl:var i=Ml;case Hl:var l=r&$l;if(i||(i=Pl),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=Ll,a.set(e,t);var d=Zr(i(e),i(t),r,o,s,a);return a.delete(e),d;case Gl:if(nn)return nn.call(e)==nn.call(t)}return!1}var Yl=1,Vl=Object.prototype,Jl=Vl.hasOwnProperty;function Ql(e,t,n,r,o,s){var a=n&Yl,i=nr(e),l=i.length,u=nr(t),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=i[f];if(!(a?h in t:Jl.call(t,h)))return!1}var g=s.get(e),v=s.get(t);if(g&&v)return g==t&&v==e;var m=!0;s.set(e,t),s.set(t,e);for(var y=a;++f<l;){h=i[f];var p=e[h],b=t[h];if(r)var w=a?r(b,p,h,t,e,s):r(p,b,h,e,t,s);if(!(w===void 0?p===b||o(p,b,n,r,s):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var x=e.constructor,E=t.constructor;x!=E&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(m=!1)}return s.delete(e),s.delete(t),m}var Zl=1,ur="[object Arguments]",dr="[object Array]",bt="[object Object]",ec=Object.prototype,fr=ec.hasOwnProperty;function tc(e,t,n,r,o,s){var a=Tt(e),i=Tt(t),l=a?dr:Ie(e),u=i?dr:Ie(t);l=l==ur?bt:l,u=u==ur?bt:u;var d=l==bt,f=u==bt,h=l==u;if(h&&un(e)){if(!un(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new Ce),a||Qr(e)?Zr(e,t,n,r,o,s):Kl(e,t,l,n,r,o,s);if(!(n&Zl)){var g=d&&fr.call(e,"__wrapped__"),v=f&&fr.call(t,"__wrapped__");if(g||v){var m=g?e.value():e,y=v?t.value():t;return s||(s=new Ce),o(m,y,n,r,s)}}return h?(s||(s=new Ce),Ql(e,t,n,r,o,s)):!1}function Sn(e,t,n,r,o){return e===t?!0:e==null||t==null||!ct(e)&&!ct(t)?e!==e&&t!==t:tc(e,t,n,r,Sn,o)}function pr(e,t){return Sn(e,t)}function gr(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?Sn(e,t,void 0,n):!!r}const nc=c.createContext({});function eo(e){return X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,className:"tw-flex tw-items-center tw-justify-center tw-fill-current",name:"IconGrabHandle12","aria-hidden":"true",...e,children:X.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m4 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2",clipRule:"evenodd"})})}const rc=c.memo(eo);eo.__docgenInfo={description:"@deprecated Import Icons from `@frontify/fondue/components` instead.",methods:[],displayName:"IconGrabHandle12",props:{size:{required:!1,tsType:{name:"IconSize"},description:""},filled:{required:!1,tsType:{name:"boolean"},description:""}}};const oc=(e,t,n)=>{const r=s=>{var l;let a=s.id;const i=e.nodes.find(u=>u.props.id===s.id);return i&&c.isValidElement(i.props.contentComponent)?a=i.props.contentComponent.props.title:(l=i==null?void 0:i.props)!=null&&l.label&&(a=i.props.label),a},o=s=>{var l;let a=s==null?void 0:s.id;const i=e.nodes.find(u=>u.props.id===(s==null?void 0:s.id));return i&&c.isValidElement(i.props.contentComponent)?a=i.props.contentComponent.props.title:(l=i==null?void 0:i.props)!=null&&l.label&&(a=i.props.label),a};return{onDragStart({active:s}){return`Picked up ${r(s)||s.id}.`},onDragMove({active:s,over:a}){return rn({eventName:"onDragMove",activeId:s.id,activeTitle:r(s),overId:a==null?void 0:a.id,overTitle:o(a),treeState:e,setCurrentPosition:n,currentPosition:t})},onDragOver({active:s,over:a}){return rn({eventName:"onDragOver",activeId:s.id,activeTitle:r(s),overId:a==null?void 0:a.id,overTitle:o(a),treeState:e,setCurrentPosition:n,currentPosition:t})},onDragEnd({active:s,over:a}){return rn({eventName:"onDragEnd",activeId:s.id,activeTitle:r(s),overId:a==null?void 0:a.id,overTitle:o(a),treeState:e,setCurrentPosition:n,currentPosition:t})},onDragCancel({active:s}){return`Moving was cancelled. ${r(s)} was dropped in its original position.`}}},rn=({eventName:e,activeId:t,activeTitle:n,overId:r,overTitle:o,treeState:s,currentPosition:a,setCurrentPosition:i})=>{const l=s.projection;if(r&&l){if(e!=="onDragEnd"){if(a&&l.parentId===a.parentId&&r===a.overId)return;i({parentId:l.parentId,overId:r})}const u=s.nodes.map(({props:p})=>({id:p.id,level:p.level??0,parentId:p.parentId})),d=u.findIndex(({id:p})=>p===r),f=u.findIndex(({id:p})=>p===t),h=Pt(u,f,d),g=h[d-1];let v;const m=e==="onDragEnd"?"dropped":"moved",y=e==="onDragEnd"?"dropped":"nested";if(g)if(l.depth>g.level)v=`${n} was ${y} under ${o||g.id}.`;else{let p=g;for(;p&&l.depth<p.level;){const b=p.parentId;p=h.find(({id:w})=>w===b)}p&&(v=`${n} was ${m} after ${o||p.id}.`)}else{const p=h[d+1];v=`${n} was ${m} before ${o||p.id}.`}return v}},jt="__ROOT__",He=20,_c=350,to=(e,t)=>{const n=new Set(t);return e.filter(r=>!n.has(r.props.id))},no=(e,t)=>{const n=[],o=new Map(e.map(a=>[a.props.id,a])).get(t);function s(a){const i=e.filter(l=>l.props.parentId===a);for(const l of i)n.push(l.props.id),s(l.props.id)}return o&&s(o.props.id),n},sc=(e,t)=>{const n=[],o=new Map(e.map(a=>[a.props.id,a])).get(t);function s(a){const i=e.filter(l=>l.props.parentId===a);for(const l of i)n.push(l),s(l.props.id)}return o&&s(o.props.id),n},ac=(e,t)=>{const n=[];for(const r of e){const o=r.props.parentId;typeof o=="string"&&(o===jt||t.has(o)&&n.find(s=>s.id===o))&&n.push({id:r.props.id,node:r})}return n.map(r=>r.node)},ic=e=>({id:e.props.id,level:e.props.level,parentId:e.props.parentId,extendedId:`${e.props.parentId}/${e.props.id}`,nodes:[]}),ro=(e=[],t="__ROOT__")=>e.filter(r=>r.props.parentId===t).map((r,o)=>({...ic(r),nodes:ro(e.slice(o+1),r.props.id)})),Xe=e=>e?e.props.level:0,lc=e=>Math.round(e/He),cc=e=>((e==null?void 0:e.props.levelConstraint)??null)!==null?e.props.levelConstraint:!1,uc=(e,t)=>{const n=Xe(e);if(e!=null&&e.props.accepts){const r=Xe(t);return n>=r?n+1:r}else return n},dc=(e,t)=>{const n=Xe(t);return e!=null&&e.props.accepts?n:Math.min(Xe(e),n)},gn=({nodes:e,activeId:t,overId:n,dragOffset:r})=>{var T;const o=e.findIndex(({props:R})=>R.id===n),s=e.findIndex(({props:R})=>R.id===t),a=e[s],i=Pt(e,s,o),l=i[o-1],u=i[o+1],d=cc(a),f=lc(r),h=(((T=a==null?void 0:a.props)==null?void 0:T.level)??0)+f,g=d!==!1?d:uc(l,u),v=d!==!1?d:dc(l,u);let m=h||Xe(u);h>=g?m=g:h<v&&(m=v);const y=()=>{var A;return m===0||!l?jt:l.props.parentId&&m===l.props.level?l.props.parentId??null:l.props.level!==void 0&&m>l.props.level?l.props.accepts?l.props.id:l.props.parentId??l.props.id:((A=i.slice(0,o).reverse().find(O=>O.props.level===m))==null?void 0:A.props.parentId)??null},p=R=>{var A;return R?(A=e.find(({props:O})=>O.id===R))==null?void 0:A.props:null},b=y(),w=p(b),x=s<o&&a.props.parentId!==b?1:0,E=i.filter(({props:R})=>R.parentId===b);let D=E.findIndex(({props:R})=>R.id===t);if(D<0){const R=E.findIndex(({props:A})=>A.id===n);if(R>=0)D=R;else if(b===n)D=-1;else if(f<0){const O=(u.props.parentId?i.filter(({props:z})=>z.parentId===u.props.parentId):[]).findIndex(({props:z})=>z.id===u.props.id);O>=0?D=O+(s<o?-1:0):D=s<o?E.length:-1}else s>=o&&(D=E.length)}D=D+x;const C=(w==null?void 0:w.level)??0;return{depth:m,maxDepth:g,minDepth:v,parentId:b??null,type:w==null?void 0:w.type,accepts:w==null?void 0:w.accepts,position:D>=0?D:0,isWithinParent:C?m>C:!1,previousNode:l?{id:l.props.id,depth:Xe(l),accepts:l.props.accepts}:null}},hr=(e,t)=>t&&(e.key==="Meta"||e.ctrlKey),oo=(e,t)=>e.findIndex(n=>n.props.id===t),fc=(e,t)=>e.filter(n=>n.props.parentId===t).map(n=>n.props.id),pc=(e,t,n)=>{const r=no(e,t),o=r.length>0?to(e,r):e,s=oo(o,t);return s===-1?e:[...o.slice(0,s+1),...n,...o.slice(s+1)]},mr=(e,t,n)=>{const r=[];for(const o of n)if(r.push(o),!!t.has(o.props.id))for(const s of sc(e,o.props.id))r.push(s);return r},gc=(e,t,n)=>{var r,o;for(const s of e){const a=n.find(d=>d.props.id===s),i=(r=a==null?void 0:a.props)==null?void 0:r.contentComponent,l=t.find(d=>d.props.id===s),u=(o=l==null?void 0:l.props)==null?void 0:o.contentComponent;if((!u||!i)&&!gr(l==null?void 0:l.props,a==null?void 0:a.props,vr)||!gr(u==null?void 0:u.props,i==null?void 0:i.props,vr))return!0}return!1},vr=(e,t)=>{if(typeof e=="function"||typeof t=="function")return!0},hc=(e,t,n,r,o,s)=>{const a=document.activeElement;if(!(a!=null&&a.parentElement)||a.getAttribute("role")!=="treeitem"||!(a instanceof HTMLLIElement))return;const i=Array.from(a.parentElement.children).filter(x=>x.nodeName==="LI"),l=i.indexOf(a),u=n[l],d=u.props.id,f=t.has(d),h=u.props.parentId,g=a.getAttribute("data-has-children")==="true",{code:v}=e,m=()=>{e.preventDefault(),r(d)},y=()=>{e.preventDefault(),s(d)},p=()=>{e.preventDefault(),o(d)},b=()=>{const x=(l+i.length-1)%i.length;i[x].focus()},w=()=>{const x=(l+1)%i.length;i[x].focus()};switch(v){case S.Enter:m();break;case S.Space:g?y():m();break;case S.Right:if(!g)break;f?w():y();break;case S.Left:if(g&&f)p();else if(h&&h!==jt){const x=n.findIndex(E=>E.props.id===h);i[x].focus()}break;case S.Up:e.preventDefault(),b();break;case S.Down:e.preventDefault(),w();break}},mc=({dragHandlerPosition:e,enableDragDelay:t})=>e==="none"?{delay:t?150:0,tolerance:5}:{delay:0,tolerance:5},vc=[S.Down,S.Right,S.Up,S.Left],yc=[S.Left,S.Right],bc=e=>(t,{currentCoordinates:n,context:{active:r,over:o,collisionRect:s,droppableRects:a,droppableContainers:i}})=>{if(vc.includes(t.code)){if(!r||!s)return;t.preventDefault();const{current:{nodes:l,offset:u}}=e;if(yc.includes(t.code)&&(o!=null&&o.id)){const{depth:g,maxDepth:v,minDepth:m}=gn({nodes:l,activeId:r.id,overId:o.id,dragOffset:u});switch(t.code){case S.Left:if(g>m)return{...n,x:n.x-He};break;case S.Right:if(g<v)return{...n,x:n.x+He};break}return}const d=[];for(const[g,v]of i){if(v!=null&&v.disabled||g===(o==null?void 0:o.id))continue;const m=a.get(g);if(m)switch(t.code){case S.Down:s.top<m.top&&d.push(v);break;case S.Up:s.top>m.top&&d.push(v);break}}const f=Er({active:r,collisionRect:s,pointerCoordinates:null,droppableRects:a,droppableContainers:d});let h=xr(f,"id");if(h===(o==null?void 0:o.id)&&f.length>1&&(h=f[1].id),h&&(o!=null&&o.id)){const g=a.get(r.id),v=a.get(h),m=i.get(h);if(g&&v&&m){const y=l.findIndex(({props:E})=>E.id===h),p=l[y],b=l.findIndex(({props:E})=>E.id===r.id),w=l[b],x=(p.props.level-w.props.level)*He;if(p&&w){const{depth:E}=gn({nodes:l,activeId:r.id,overId:h,dragOffset:x}),C=y>b?1:-1,T=(s.height-g.height)/2;return{x:v.left+E*He,y:v.top+C*T}}}}}};var so={exports:{}},_={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=Symbol.for("react.element"),In=Symbol.for("react.portal"),kt=Symbol.for("react.fragment"),zt=Symbol.for("react.strict_mode"),Ft=Symbol.for("react.profiler"),qt=Symbol.for("react.provider"),Bt=Symbol.for("react.context"),wc=Symbol.for("react.server_context"),Ht=Symbol.for("react.forward_ref"),Ut=Symbol.for("react.suspense"),Gt=Symbol.for("react.suspense_list"),Wt=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),xc=Symbol.for("react.offscreen"),ao;ao=Symbol.for("react.module.reference");function oe(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Dn:switch(e=e.type,e){case kt:case Ft:case zt:case Ut:case Gt:return e;default:switch(e=e&&e.$$typeof,e){case wc:case Bt:case Ht:case Xt:case Wt:case qt:return e;default:return t}}case In:return t}}}_.ContextConsumer=Bt;_.ContextProvider=qt;_.Element=Dn;_.ForwardRef=Ht;_.Fragment=kt;_.Lazy=Xt;_.Memo=Wt;_.Portal=In;_.Profiler=Ft;_.StrictMode=zt;_.Suspense=Ut;_.SuspenseList=Gt;_.isAsyncMode=function(){return!1};_.isConcurrentMode=function(){return!1};_.isContextConsumer=function(e){return oe(e)===Bt};_.isContextProvider=function(e){return oe(e)===qt};_.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dn};_.isForwardRef=function(e){return oe(e)===Ht};_.isFragment=function(e){return oe(e)===kt};_.isLazy=function(e){return oe(e)===Xt};_.isMemo=function(e){return oe(e)===Wt};_.isPortal=function(e){return oe(e)===In};_.isProfiler=function(e){return oe(e)===Ft};_.isStrictMode=function(e){return oe(e)===zt};_.isSuspense=function(e){return oe(e)===Ut};_.isSuspenseList=function(e){return oe(e)===Gt};_.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kt||e===Ft||e===zt||e===Ut||e===Gt||e===xc||typeof e=="object"&&e!==null&&(e.$$typeof===Xt||e.$$typeof===Wt||e.$$typeof===qt||e.$$typeof===Bt||e.$$typeof===Ht||e.$$typeof===ao||e.getModuleId!==void 0)};_.typeOf=oe;so.exports=_;var Ec=so.exports;const io=(e,t)=>{const n=[];return c.Children.forEach(e,r=>{Ec.isFragment(r)?n.push(...io(r.props.children,t)):c.isValidElement(r)&&n.push(c.cloneElement(r,{...r.props??{},...t}))}),n.filter(Boolean)},lo=(e,t)=>e?io(e,t).map(r=>({...r,props:{...r.props,children:lo(r.props.children,{parentId:r.props.id,level:r.props.level+1})}})):[],on=(e,t)=>{const n=c.useRef(void 0);xo(t,n.current)||(n.current=t),c.useEffect(e,n.current)},Cn=({id:e,label:t,level:n=0,children:r,contentComponent:o,isSelected:s,dragHandlerPosition:a="left",showContentWhileDragging:i=!1})=>{const l=c.Children.count(r)>0,d={marginLeft:n*He},f=X.jsx("button",{tabIndex:-1,className:"tw-p-1 tw-touch-none",children:X.jsx(rc,{})});return X.jsxs("li",{role:"treeitem",style:d,id:e.toString(),"aria-label":t,"aria-level":n+1,"aria-selected":s,"data-test-id":"fondue-tree-item-overlay",className:Mn(["tw-pointer-events-none tw-bg-white tw-flex tw-items-center tw-gap-x-1 tw-p-2 tw-no-underline tw-leading-5 tw-box-border tw-w-fit tw-drop-shadow-xl tw-rounded",i?"tw-opacity-90":""]),children:[a==="left"&&f,l&&X.jsx("button",{tabIndex:-1,"data-test-id":"tree-item-toggle",className:"tw-p-1",children:X.jsx("div",{className:Mn(["tw-transition-transform tw-w-0 tw-h-0 tw-text-black-100 tw-text-opacity-40 tw-font-normal tw-border-t-4 tw-border-t-transparent tw-border-b-4 tw-border-b-transparent tw-border-l-4 tw-border-l-x-strong",s&&"tw-text-box-selected-strong-inverse"])})}),t!==void 0&&X.jsx("span",{children:t}),o,a==="right"&&f]})};Cn.displayName="FondueTreeItemOverlay";Cn.__docgenInfo={description:"",methods:[],displayName:"FondueTreeItemOverlay",props:{id:{required:!0,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},level:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},contentComponent:{required:!1,tsType:{name:"ReactNode"},description:""},isSelected:{required:!1,tsType:{name:"boolean"},description:""},dragHandlerPosition:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'none'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'none'"}]},description:"",defaultValue:{value:"'left'",computed:!1}},showContentWhileDragging:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Sc={droppable:{strategy:Ge.Always}};wo();const Dc=bo((e,t)=>{switch(t.type){case"EXPAND_NODE":{e.expandedIds=new Set(e.expandedIds).add(t.payload);return}case"SHRINK_NODE":{const n=new Set(e.expandedIds);n.delete(t.payload),e.expandedIds=n;return}case"SET_SELECTION_MODE":e.selectionMode=t.payload.selectionMode;return;case"SET_PROJECTION":{pr(e.projection,t.payload)||(e.projection=t.payload);return}case"REGISTER_OVERLAY_ITEM":{e.overlay=t.payload;return}case"REGISTER_ROOT_NODES":{e.rootNodes=mr(e.rootNodes,e.expandedIds,t.payload);return}case"REGISTER_NODE_CHILDREN":{const{id:n,children:r}=t.payload;if(oo(e.rootNodes,n)===-1){console.warn(`Parent element with ID "${n}" not found when registering children.`);return}const o=fc(e.rootNodes,n),s=r.map(a=>a.props.id);if(!pr(o,s)||gc(o,e.rootNodes,r)){const a=mr(e.rootNodes,e.expandedIds,r);e.rootNodes=pc(e.rootNodes,n,a)}return}case"UNREGISTER_NODE_CHILDREN":{const n=no(e.rootNodes,t.payload);n.length>0&&(e.rootNodes=to(e.rootNodes,n));return}case"REGISTER_NODES":{e.nodes=t.payload;return}case"REPLACE_EXPANDED":{e.expandedIds=new Set(t.payload);return}case"REPLACE_SELECTED":{e.selectedIds=new Set(t.payload);return}case"REPLACE_STATE":{e.rootNodes=t.payload.rootNodes,e.overlay=t.payload.overlay,e.projection=t.payload.projection,e.selectedIds=t.payload.selectedIds,e.expandedIds=t.payload.expandedIds,e.selectionMode=t.payload.selectionMode;return}default:{console.warn(`Updated tree with action "${t.type}" but it has not effect.`);return}}}),co=c.memo(({id:e,onDrop:t,onSelect:n=()=>{},onExpand:r,onShrink:o,children:s,selectedIds:a,expandedIds:i,draggable:l=!1,multiselect:u=!1,dragHandlerPosition:d="left",enableDragDelay:f=!0,showDragHandlerOnHoverOnly:h=!0,showContentWhileDragging:g=!1,itemStyle:v,"data-test-id":m="fondue-tree"})=>{var te;const y=c.useMemo(()=>({selectionMode:u?"multiselect":"single",selectedIds:new Set(a??[]),expandedIds:new Set(i??[]),rootNodes:[],expandedNodes:[],nodes:[],nodesReady:!1,projection:null}),[i,u,a]),[p,b]=c.useReducer(Dc,y),[,w]=c.useTransition(),[x,E]=c.useState(null),[D,C]=c.useState(null),[T,R]=c.useState(null),[A,O]=c.useState(null);c.useEffect(()=>{const I=P=>{hr(P,u)&&b({type:"SET_SELECTION_MODE",payload:{selectionMode:"multiselect"}})},L=P=>{hr(P,u)&&b({type:"SET_SELECTION_MODE",payload:{selectionMode:"single"}})};return u&&(window.addEventListener("keydown",I),window.addEventListener("keyup",L)),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keyup",L)}},[u]);const z=c.useCallback(I=>{b({type:"REGISTER_OVERLAY_ITEM",payload:I})},[]),G=c.useCallback(I=>{b({type:"REGISTER_NODE_CHILDREN",payload:I})},[]),K=c.useCallback(I=>{b({type:"UNREGISTER_NODE_CHILDREN",payload:I})},[]),Q=c.useCallback((I,L=!1)=>{n(I,L,ro(p.nodes))},[n,p.nodes]),se=c.useCallback(I=>{if(r)return r(I);b({type:"EXPAND_NODE",payload:I})},[r]),j=c.useCallback(I=>{if(o)return o(I);b({type:"SHRINK_NODE",payload:I})},[o]),Pe=I=>{var le,Oe;Z();const{over:L,active:P}=I;if(!(L!=null&&L.id)||!(P!=null&&P.id)||!((le=p.projection)!=null&&le.parentId))return;const je=p.nodes.find(ke=>ke.props.id===P.id),Qe=(Oe=je==null?void 0:je.props)==null?void 0:Oe.contentComponent;t==null||t({id:P.id.toString(),parentId:p.projection.parentId,sort:p.projection.position,contentComponent:Qe})},ae=({active:{id:I,data:L}})=>{R(I),C(I),I&&L.current&&O({parentId:L.current.parentId,overId:I}),document.body.style.setProperty("cursor","grabbing")},Te=({over:I})=>{C((I==null?void 0:I.id)??null)},$e=({delta:I})=>{E(I.x)},B=()=>{Z()},Z=()=>{C(null),R(null),E(0),O(null),document.body.style.setProperty("cursor","default")},ge=c.useCallback(I=>hc(I,p.expandedIds,p.nodes,Q,j,se),[se,j,Q,p.expandedIds,p.nodes]),ye=c.useRef({nodes:p.nodes,offset:x??0}),[W]=c.useState(()=>bc(ye)),Le=mc({dragHandlerPosition:d,enableDragDelay:f}),de=Lo($n(xn,{activationConstraint:Le}),$n(bn,{coordinateGetter:W})),ie=c.useMemo(()=>oc(p,A,O),[A,p]);on(()=>{s&&b({type:"REGISTER_ROOT_NODES",payload:lo(s,{parentId:jt,level:0})})},[s]),on(()=>{p.rootNodes.length!==0&&w(()=>{const I=ac(p.rootNodes,p.expandedIds);b({type:"REGISTER_NODES",payload:I})})},[p.rootNodes,p.expandedIds]),c.useEffect(()=>{b({type:"REPLACE_EXPANDED",payload:i??[]})},[i]),c.useEffect(()=>{b({type:"REPLACE_SELECTED",payload:a??[]})},[a]),on(()=>{ye.current={nodes:p.nodes,offset:x??0}},[x,p.nodes]),c.useEffect(()=>{const I=T&&D?gn({nodes:p.nodes,activeId:T,overId:D,dragOffset:x??0}):null;b({type:"SET_PROJECTION",payload:I})},[T,x,D,p.nodes]);const N=(I,L)=>I||L,{nodes:Re,items:ee}=c.useMemo(()=>{const I={spacingY:"none",contentHight:"single-line",shadow:"none",borderRadius:"small",borderWidth:"none",borderStyle:"none",activeColorStyle:"neutral",...v},L=P=>u?{checkBoxPosition:N(P.checkBoxPosition,d)}:{draggable:P.draggable?!0:l,dragHandlerPosition:N(P.dragHandlerPosition,d),showDragHandlerOnHoverOnly:N(P.showDragHandlerOnHoverOnly,h),showContentWhileDragging:N(P.showContentWhileDragging,g)};return{items:p.nodes.map(P=>P.props.id),nodes:p.nodes.map(P=>c.cloneElement(P,{...L(P.props),itemStyle:{...I,...P.props.itemStyle},registerOverlay:z,onExpand:se,onShrink:j,onSelect:Q,registerNodeChildren:G,unregisterNodeChildren:K}))}},[v,p.nodes,l,u,d,h,g,z,se,j,Q,G,K]),be=c.useMemo(()=>({treeState:p,onSelect:Q,onExpand:se,onShrink:j}),[p,Q,se,j]);return X.jsx(nc.Provider,{value:be,children:X.jsx("ul",{id:e,role:"tree","data-test-id":m,onKeyDown:ge,"aria-multiselectable":p.selectionMode==="multiselect",className:"tw-p-0 tw-m-0 tw-font-sans tw-font-normal tw-list-none tw-text-left tw-text-sm tw-select-none",children:X.jsxs(Ps,{sensors:de,measuring:Sc,onDragEnd:Pe,onDragOver:Te,onDragMove:$e,onDragStart:ae,onDragCancel:B,accessibility:{announcements:ie,container:((te=document.getElementById(e))==null?void 0:te.parentElement)??document.body},collisionDetection:Er,children:[X.jsx(ia,{items:ee,strategy:sa,children:Re}),Be.createPortal(X.jsx(Zs,{zIndex:1500,wrapperElement:"ul",dropAnimation:null,modifiers:[ta],children:p.overlay&&X.jsx(Cn,{...p.overlay,isSelected:p.selectedIds.has(p.overlay.id)})}),document.body)]})})})});co.displayName="FondueTree";co.__docgenInfo={description:"",methods:[],displayName:"FondueTree",props:{id:{required:!0,tsType:{name:"string"},description:""},draggable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""},multiselect:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selectedIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},expandedIds:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},dragHandlerPosition:{required:!1,tsType:{name:"union",raw:"'left' | 'right' | 'none'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"},{name:"literal",value:"'none'"}]},description:"",defaultValue:{value:"'left'",computed:!1}},enableDragDelay:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showDragHandlerOnHoverOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showContentWhileDragging:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},itemStyle:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    spacingY?: TreeItemPropsSizing;
    contentHight?: TreeItemContentFit;
    shadow?: TreeItemPropsSizing;
    borderRadius?: TreeItemPropsSizing;
    borderWidth?: Exclude<TreeItemPropsSizing, 'x-large'>;
    borderStyle?: TreeItemBorderStyle;
    activeColorStyle?: TreeItemColors;
}`,signature:{properties:[{key:"spacingY",value:{name:"union",raw:"'none' | 'x-small' | 'small' | 'medium' | 'large' | 'x-large'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'x-small'"},{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'x-large'"}],required:!1}},{key:"contentHight",value:{name:"union",raw:"'content-fit' | 'single-line'",elements:[{name:"literal",value:"'content-fit'"},{name:"literal",value:"'single-line'"}],required:!1}},{key:"shadow",value:{name:"union",raw:"'none' | 'x-small' | 'small' | 'medium' | 'large' | 'x-large'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'x-small'"},{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'x-large'"}],required:!1}},{key:"borderRadius",value:{name:"union",raw:"'none' | 'x-small' | 'small' | 'medium' | 'large' | 'x-large'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'x-small'"},{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'x-large'"}],required:!1}},{key:"borderWidth",value:{name:"Exclude",elements:[{name:"union",raw:"'none' | 'x-small' | 'small' | 'medium' | 'large' | 'x-large'",elements:[{name:"literal",value:"'none'"},{name:"literal",value:"'x-small'"},{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"},{name:"literal",value:"'x-large'"}],required:!1},{name:"literal",value:"'x-large'"}],raw:"Exclude<TreeItemPropsSizing, 'x-large'>",required:!1}},{key:"borderStyle",value:{name:"union",raw:"'solid' | 'dashed' | 'dotted' | 'none'",elements:[{name:"literal",value:"'solid'"},{name:"literal",value:"'dashed'"},{name:"literal",value:"'dotted'"},{name:"literal",value:"'none'"}],required:!1}},{key:"activeColorStyle",value:{name:"union",raw:"'neutral' | 'soft' | 'none'",elements:[{name:"literal",value:"'neutral'"},{name:"literal",value:"'soft'"},{name:"literal",value:"'none'"}],required:!1}}]}},description:""},"data-test-id":{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'fondue-tree'",computed:!1}},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, ignoreRemoveSelected?: boolean, nodes?: TreeNodeWithoutElements[]) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"boolean"},name:"ignoreRemoveSelected"},{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: string;
    level: number;
    parentId: string;
    extendedId: string;
    nodes: TreeNodeWithoutElements[];
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"level",value:{name:"number",required:!0}},{key:"parentId",value:{name:"string",required:!0}},{key:"extendedId",value:{name:"string",required:!0}},{key:"nodes",value:{name:"Array",elements:[{name:"TreeNodeWithoutElements"}],raw:"TreeNodeWithoutElements[]",required:!0}}]}}],raw:"TreeNodeWithoutElements[]"},name:"nodes"}],return:{name:"void"}}},description:"",defaultValue:{value:"() => {}",computed:!1}},onExpand:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onShrink:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onDrop:{required:!1,tsType:{name:"signature",type:"function",raw:`(args: {
    id: string;
    parentId: Nullable<string>;
    sort: number;
    contentComponent: Nullable<ReactNode>;
    parentType?: string;
}) => void`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    id: string;
    parentId: Nullable<string>;
    sort: number;
    contentComponent: Nullable<ReactNode>;
    parentType?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"parentId",value:{name:"Nullable",elements:[{name:"string"}],raw:"Nullable<string>",required:!0}},{key:"sort",value:{name:"number",required:!0}},{key:"contentComponent",value:{name:"Nullable",elements:[{name:"ReactNode"}],raw:"Nullable<ReactNode>",required:!0}},{key:"parentType",value:{name:"string",required:!1}}]}},name:"args"}],return:{name:"void"}}},description:""}}};export{Ne as C,_c as E,rc as I,jt as R,co as T,nc as a,Ao as b,Ac as c,on as d,He as e,io as r,kr as u};
