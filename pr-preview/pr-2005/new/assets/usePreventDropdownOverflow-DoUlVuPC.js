import{r as l}from"./index-DtJulBIN.js";const c=8;function a(e){if(!window)throw new Error("Window object not found, this method should be used in a browser environment");const t=w=>{let n=w.parentElement;for(;n&&n!==document.body;){const u=window.getComputedStyle(n);if(/(auto|hidden)/.test(u.overflow+u.overflowY))return n;n=n.parentElement}return n};e.style.maxHeight="";const o=t(e),i=o?o.clientHeight:window.innerHeight,{top:r,bottom:s}=e.getBoundingClientRect();r-c<0?e.style.maxHeight=`${s-c}px`:s+c>i&&(e.style.maxHeight=`${window.innerHeight-r-c}px`)}function h(e){const t=e.getBoundingClientRect(),o=t.width>0&&t.height>0,i=window.getComputedStyle(e),r=i.display!=="none"&&i.visibility!=="hidden"&&parseFloat(i.opacity)!==0,s=t.top<window.innerHeight&&t.left<window.innerWidth&&t.bottom>0&&t.right>0;return o&&r&&s}function m(e,t){t&&(typeof t=="function"?t(e.current):t&&"current"in t&&(t.current=e.current))}function d(e){const t=l.useCallback(()=>{requestAnimationFrame(()=>{e.current&&h(e.current)&&a(e.current)})},[e]);return l.useLayoutEffect(()=>(t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}),[t]),{setMaxHeight:t}}export{m as s,d as u};
